from django.urls import path, include
from rest_framework.routers import DefaultRouter
from .viewsets import (
    CategoryViewSet,
    AuctionViewSet,
    BidViewSet,
    ParticipationViewSet,
    PaymentViewSet,
    CartViewSet , # ← ADD THIS
    OrderViewSet  # NEW
)


# Create router and register viewsets
router = DefaultRouter()
router.register(r'categories', CategoryViewSet, basename='category')
router.register(r'auctions', AuctionViewSet, basename='auction')
router.register(r'bids', BidViewSet, basename='bid')
router.register(r'participations', ParticipationViewSet, basename='participation')
router.register(r'payments', PaymentViewSet, basename='payment')
router.register(r'cart', CartViewSet, basename='cart')  # ← ADD THIS
router.register(r'orders', OrderViewSet, basename='order')

urlpatterns = [
    path('', include(router.urls)),
]