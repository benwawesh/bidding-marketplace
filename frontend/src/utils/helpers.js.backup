export const formatCurrency = (amount) => {
  return `KSh ${Number(amount).toLocaleString()}`;
};

export const getTimeRemaining = (endTime) => {
  const now = new Date();
  const end = new Date(endTime);
  const diff = end - now;

  if (diff <= 0) return 'Ended';

  const days = Math.floor(diff / (1000 * 60 * 60 * 24));
  const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));

  if (days > 0) return `${days}d ${hours}h`;
  if (hours > 0) return `${hours}h ${minutes}m`;
  return `${minutes}m`;
};

export const isAuctionActive = (product) => {
  const now = new Date();
  const start = new Date(product.start_time);
  const end = new Date(product.end_time);
  return product.status === 'active' && now >= start && now <= end;
};
