(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))c(u);new MutationObserver(u=>{for(const m of u)if(m.type==="childList")for(const x of m.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&c(x)}).observe(document,{childList:!0,subtree:!0});function i(u){const m={};return u.integrity&&(m.integrity=u.integrity),u.referrerPolicy&&(m.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?m.credentials="include":u.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(u){if(u.ep)return;u.ep=!0;const m=i(u);fetch(u.href,m)}})();function Hf(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Wo={exports:{}},wn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh;function bb(){if(Gh)return wn;Gh=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(c,u,m){var x=null;if(m!==void 0&&(x=""+m),u.key!==void 0&&(x=""+u.key),"key"in u){m={};for(var h in u)h!=="key"&&(m[h]=u[h])}else m=u;return u=m.ref,{$$typeof:l,type:c,key:x,ref:u!==void 0?u:null,props:m}}return wn.Fragment=r,wn.jsx=i,wn.jsxs=i,wn}var Vh;function yb(){return Vh||(Vh=1,Wo.exports=bb()),Wo.exports}var e=yb(),Io={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh;function jb(){if(Xh)return ue;Xh=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),x=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),N=Symbol.iterator;function O(A){return A===null||typeof A!="object"?null:(A=N&&A[N]||A["@@iterator"],typeof A=="function"?A:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,v={};function S(A,G,W){this.props=A,this.context=G,this.refs=v,this.updater=W||w}S.prototype.isReactComponent={},S.prototype.setState=function(A,G){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,G,"setState")},S.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function M(){}M.prototype=S.prototype;function F(A,G,W){this.props=A,this.context=G,this.refs=v,this.updater=W||w}var z=F.prototype=new M;z.constructor=F,_(z,S.prototype),z.isPureReactComponent=!0;var R=Array.isArray;function D(){}var Y={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function ne(A,G,W){var I=W.ref;return{$$typeof:l,type:A,key:G,ref:I!==void 0?I:null,props:W}}function ge(A,G){return ne(A.type,G,A.props)}function ae(A){return typeof A=="object"&&A!==null&&A.$$typeof===l}function ce(A){var G={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(W){return G[W]})}var Ke=/\/+/g;function Pe(A,G){return typeof A=="object"&&A!==null&&A.key!=null?ce(""+A.key):G.toString(36)}function Ae(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(D,D):(A.status="pending",A.then(function(G){A.status==="pending"&&(A.status="fulfilled",A.value=G)},function(G){A.status==="pending"&&(A.status="rejected",A.reason=G)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function P(A,G,W,I,de){var be=typeof A;(be==="undefined"||be==="boolean")&&(A=null);var Me=!1;if(A===null)Me=!0;else switch(be){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(A.$$typeof){case l:case r:Me=!0;break;case g:return Me=A._init,P(Me(A._payload),G,W,I,de)}}if(Me)return de=de(A),Me=I===""?"."+Pe(A,0):I,R(de)?(W="",Me!=null&&(W=Me.replace(Ke,"$&/")+"/"),P(de,G,W,"",function(Tl){return Tl})):de!=null&&(ae(de)&&(de=ge(de,W+(de.key==null||A&&A.key===de.key?"":(""+de.key).replace(Ke,"$&/")+"/")+Me)),G.push(de)),1;Me=0;var gt=I===""?".":I+":";if(R(A))for(var Ze=0;Ze<A.length;Ze++)I=A[Ze],be=gt+Pe(I,Ze),Me+=P(I,G,W,be,de);else if(Ze=O(A),typeof Ze=="function")for(A=Ze.call(A),Ze=0;!(I=A.next()).done;)I=I.value,be=gt+Pe(I,Ze++),Me+=P(I,G,W,be,de);else if(be==="object"){if(typeof A.then=="function")return P(Ae(A),G,W,I,de);throw G=String(A),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Me}function Z(A,G,W){if(A==null)return A;var I=[],de=0;return P(A,I,"","",function(be){return G.call(W,be,de++)}),I}function le(A){if(A._status===-1){var G=A._result;G=G(),G.then(function(W){(A._status===0||A._status===-1)&&(A._status=1,A._result=W)},function(W){(A._status===0||A._status===-1)&&(A._status=2,A._result=W)}),A._status===-1&&(A._status=0,A._result=G)}if(A._status===1)return A._result.default;throw A._result}var Te=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},De={map:Z,forEach:function(A,G,W){Z(A,function(){G.apply(this,arguments)},W)},count:function(A){var G=0;return Z(A,function(){G++}),G},toArray:function(A){return Z(A,function(G){return G})||[]},only:function(A){if(!ae(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return ue.Activity=y,ue.Children=De,ue.Component=S,ue.Fragment=i,ue.Profiler=u,ue.PureComponent=F,ue.StrictMode=c,ue.Suspense=b,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ue.__COMPILER_RUNTIME={__proto__:null,c:function(A){return Y.H.useMemoCache(A)}},ue.cache=function(A){return function(){return A.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(A,G,W){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var I=_({},A.props),de=A.key;if(G!=null)for(be in G.key!==void 0&&(de=""+G.key),G)!J.call(G,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&G.ref===void 0||(I[be]=G[be]);var be=arguments.length-2;if(be===1)I.children=W;else if(1<be){for(var Me=Array(be),gt=0;gt<be;gt++)Me[gt]=arguments[gt+2];I.children=Me}return ne(A.type,de,I)},ue.createContext=function(A){return A={$$typeof:x,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:m,_context:A},A},ue.createElement=function(A,G,W){var I,de={},be=null;if(G!=null)for(I in G.key!==void 0&&(be=""+G.key),G)J.call(G,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(de[I]=G[I]);var Me=arguments.length-2;if(Me===1)de.children=W;else if(1<Me){for(var gt=Array(Me),Ze=0;Ze<Me;Ze++)gt[Ze]=arguments[Ze+2];de.children=gt}if(A&&A.defaultProps)for(I in Me=A.defaultProps,Me)de[I]===void 0&&(de[I]=Me[I]);return ne(A,be,de)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(A){return{$$typeof:h,render:A}},ue.isValidElement=ae,ue.lazy=function(A){return{$$typeof:g,_payload:{_status:-1,_result:A},_init:le}},ue.memo=function(A,G){return{$$typeof:f,type:A,compare:G===void 0?null:G}},ue.startTransition=function(A){var G=Y.T,W={};Y.T=W;try{var I=A(),de=Y.S;de!==null&&de(W,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(D,Te)}catch(be){Te(be)}finally{G!==null&&W.types!==null&&(G.types=W.types),Y.T=G}},ue.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ue.use=function(A){return Y.H.use(A)},ue.useActionState=function(A,G,W){return Y.H.useActionState(A,G,W)},ue.useCallback=function(A,G){return Y.H.useCallback(A,G)},ue.useContext=function(A){return Y.H.useContext(A)},ue.useDebugValue=function(){},ue.useDeferredValue=function(A,G){return Y.H.useDeferredValue(A,G)},ue.useEffect=function(A,G){return Y.H.useEffect(A,G)},ue.useEffectEvent=function(A){return Y.H.useEffectEvent(A)},ue.useId=function(){return Y.H.useId()},ue.useImperativeHandle=function(A,G,W){return Y.H.useImperativeHandle(A,G,W)},ue.useInsertionEffect=function(A,G){return Y.H.useInsertionEffect(A,G)},ue.useLayoutEffect=function(A,G){return Y.H.useLayoutEffect(A,G)},ue.useMemo=function(A,G){return Y.H.useMemo(A,G)},ue.useOptimistic=function(A,G){return Y.H.useOptimistic(A,G)},ue.useReducer=function(A,G,W){return Y.H.useReducer(A,G,W)},ue.useRef=function(A){return Y.H.useRef(A)},ue.useState=function(A){return Y.H.useState(A)},ue.useSyncExternalStore=function(A,G,W){return Y.H.useSyncExternalStore(A,G,W)},ue.useTransition=function(){return Y.H.useTransition()},ue.version="19.2.0",ue}var Zh;function Ad(){return Zh||(Zh=1,Io.exports=jb()),Io.exports}var C=Ad();const vb=Hf(C);var ed={exports:{}},_n={},td={exports:{}},sd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh;function Nb(){return Jh||(Jh=1,(function(l){function r(P,Z){var le=P.length;P.push(Z);e:for(;0<le;){var Te=le-1>>>1,De=P[Te];if(0<u(De,Z))P[Te]=Z,P[le]=De,le=Te;else break e}}function i(P){return P.length===0?null:P[0]}function c(P){if(P.length===0)return null;var Z=P[0],le=P.pop();if(le!==Z){P[0]=le;e:for(var Te=0,De=P.length,A=De>>>1;Te<A;){var G=2*(Te+1)-1,W=P[G],I=G+1,de=P[I];if(0>u(W,le))I<De&&0>u(de,W)?(P[Te]=de,P[I]=le,Te=I):(P[Te]=W,P[G]=le,Te=G);else if(I<De&&0>u(de,le))P[Te]=de,P[I]=le,Te=I;else break e}}return Z}function u(P,Z){var le=P.sortIndex-Z.sortIndex;return le!==0?le:P.id-Z.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;l.unstable_now=function(){return m.now()}}else{var x=Date,h=x.now();l.unstable_now=function(){return x.now()-h}}var b=[],f=[],g=1,y=null,N=3,O=!1,w=!1,_=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function z(P){for(var Z=i(f);Z!==null;){if(Z.callback===null)c(f);else if(Z.startTime<=P)c(f),Z.sortIndex=Z.expirationTime,r(b,Z);else break;Z=i(f)}}function R(P){if(_=!1,z(P),!w)if(i(b)!==null)w=!0,D||(D=!0,ce());else{var Z=i(f);Z!==null&&Ae(R,Z.startTime-P)}}var D=!1,Y=-1,J=5,ne=-1;function ge(){return v?!0:!(l.unstable_now()-ne<J)}function ae(){if(v=!1,D){var P=l.unstable_now();ne=P;var Z=!0;try{e:{w=!1,_&&(_=!1,M(Y),Y=-1),O=!0;var le=N;try{t:{for(z(P),y=i(b);y!==null&&!(y.expirationTime>P&&ge());){var Te=y.callback;if(typeof Te=="function"){y.callback=null,N=y.priorityLevel;var De=Te(y.expirationTime<=P);if(P=l.unstable_now(),typeof De=="function"){y.callback=De,z(P),Z=!0;break t}y===i(b)&&c(b),z(P)}else c(b);y=i(b)}if(y!==null)Z=!0;else{var A=i(f);A!==null&&Ae(R,A.startTime-P),Z=!1}}break e}finally{y=null,N=le,O=!1}Z=void 0}}finally{Z?ce():D=!1}}}var ce;if(typeof F=="function")ce=function(){F(ae)};else if(typeof MessageChannel<"u"){var Ke=new MessageChannel,Pe=Ke.port2;Ke.port1.onmessage=ae,ce=function(){Pe.postMessage(null)}}else ce=function(){S(ae,0)};function Ae(P,Z){Y=S(function(){P(l.unstable_now())},Z)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(P){P.callback=null},l.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<P?Math.floor(1e3/P):5},l.unstable_getCurrentPriorityLevel=function(){return N},l.unstable_next=function(P){switch(N){case 1:case 2:case 3:var Z=3;break;default:Z=N}var le=N;N=Z;try{return P()}finally{N=le}},l.unstable_requestPaint=function(){v=!0},l.unstable_runWithPriority=function(P,Z){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var le=N;N=P;try{return Z()}finally{N=le}},l.unstable_scheduleCallback=function(P,Z,le){var Te=l.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Te+le:Te):le=Te,P){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=le+De,P={id:g++,callback:Z,priorityLevel:P,startTime:le,expirationTime:De,sortIndex:-1},le>Te?(P.sortIndex=le,r(f,P),i(b)===null&&P===i(f)&&(_?(M(Y),Y=-1):_=!0,Ae(R,le-Te))):(P.sortIndex=De,r(b,P),w||O||(w=!0,D||(D=!0,ce()))),P},l.unstable_shouldYield=ge,l.unstable_wrapCallback=function(P){var Z=N;return function(){var le=N;N=Z;try{return P.apply(this,arguments)}finally{N=le}}}})(sd)),sd}var Wh;function wb(){return Wh||(Wh=1,td.exports=Nb()),td.exports}var ad={exports:{}},ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih;function _b(){if(Ih)return ht;Ih=1;var l=Ad();function r(b){var f="https://react.dev/errors/"+b;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+b+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var c={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function m(b,f,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:y==null?null:""+y,children:b,containerInfo:f,implementation:g}}var x=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(b,f){if(b==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,ht.createPortal=function(b,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(r(299));return m(b,f,null,g)},ht.flushSync=function(b){var f=x.T,g=c.p;try{if(x.T=null,c.p=2,b)return b()}finally{x.T=f,c.p=g,c.d.f()}},ht.preconnect=function(b,f){typeof b=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,c.d.C(b,f))},ht.prefetchDNS=function(b){typeof b=="string"&&c.d.D(b)},ht.preinit=function(b,f){if(typeof b=="string"&&f&&typeof f.as=="string"){var g=f.as,y=h(g,f.crossOrigin),N=typeof f.integrity=="string"?f.integrity:void 0,O=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?c.d.S(b,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:N,fetchPriority:O}):g==="script"&&c.d.X(b,{crossOrigin:y,integrity:N,fetchPriority:O,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ht.preinitModule=function(b,f){if(typeof b=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=h(f.as,f.crossOrigin);c.d.M(b,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&c.d.M(b)},ht.preload=function(b,f){if(typeof b=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,y=h(g,f.crossOrigin);c.d.L(b,g,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ht.preloadModule=function(b,f){if(typeof b=="string")if(f){var g=h(f.as,f.crossOrigin);c.d.m(b,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else c.d.m(b)},ht.requestFormReset=function(b){c.d.r(b)},ht.unstable_batchedUpdates=function(b,f){return b(f)},ht.useFormState=function(b,f,g){return x.H.useFormState(b,f,g)},ht.useFormStatus=function(){return x.H.useHostTransitionStatus()},ht.version="19.2.0",ht}var ef;function Sb(){if(ef)return ad.exports;ef=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),ad.exports=_b(),ad.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tf;function Cb(){if(tf)return _n;tf=1;var l=wb(),r=Ad(),i=Sb();function c(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function m(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function x(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function h(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function b(t){if(m(t)!==t)throw Error(c(188))}function f(t){var s=t.alternate;if(!s){if(s=m(t),s===null)throw Error(c(188));return s!==t?null:t}for(var a=t,n=s;;){var o=a.return;if(o===null)break;var d=o.alternate;if(d===null){if(n=o.return,n!==null){a=n;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===a)return b(o),t;if(d===n)return b(o),s;d=d.sibling}throw Error(c(188))}if(a.return!==n.return)a=o,n=d;else{for(var p=!1,j=o.child;j;){if(j===a){p=!0,a=o,n=d;break}if(j===n){p=!0,n=o,a=d;break}j=j.sibling}if(!p){for(j=d.child;j;){if(j===a){p=!0,a=d,n=o;break}if(j===n){p=!0,n=d,a=o;break}j=j.sibling}if(!p)throw Error(c(189))}}if(a.alternate!==n)throw Error(c(190))}if(a.tag!==3)throw Error(c(188));return a.stateNode.current===a?t:s}function g(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=g(t),s!==null)return s;t=t.sibling}return null}var y=Object.assign,N=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),F=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),ge=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function ce(t){return t===null||typeof t!="object"?null:(t=ae&&t[ae]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Symbol.for("react.client.reference");function Pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ke?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case S:return"Profiler";case v:return"StrictMode";case R:return"Suspense";case D:return"SuspenseList";case ne:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case F:return t.displayName||"Context";case M:return(t._context.displayName||"Context")+".Consumer";case z:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return s=t.displayName||null,s!==null?s:Pe(t.type)||"Memo";case J:s=t._payload,t=t._init;try{return Pe(t(s))}catch{}}return null}var Ae=Array.isArray,P=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Te=[],De=-1;function A(t){return{current:t}}function G(t){0>De||(t.current=Te[De],Te[De]=null,De--)}function W(t,s){De++,Te[De]=t.current,t.current=s}var I=A(null),de=A(null),be=A(null),Me=A(null);function gt(t,s){switch(W(be,s),W(de,t),W(I,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?ph(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=ph(s),t=gh(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(I),W(I,t)}function Ze(){G(I),G(de),G(be)}function Tl(t){t.memoizedState!==null&&W(Me,t);var s=I.current,a=gh(s,t.type);s!==a&&(W(de,t),W(I,a))}function qn(t){de.current===t&&(G(I),G(de)),Me.current===t&&(G(Me),yn._currentValue=le)}var Di,Kd;function ma(t){if(Di===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Di=s&&s[1]||"",Kd=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Di+t+Kd}var ki=!1;function zi(t,s){if(!t||ki)return"";ki=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(s){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch($){var q=$}Reflect.construct(t,[],V)}else{try{V.call()}catch($){q=$}t.call(V.prototype)}}else{try{throw Error()}catch($){q=$}(V=t())&&typeof V.catch=="function"&&V.catch(function(){})}}catch($){if($&&q&&typeof $.stack=="string")return[$.stack,q.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=n.DetermineComponentFrameRoot(),p=d[0],j=d[1];if(p&&j){var E=p.split(`
`),U=j.split(`
`);for(o=n=0;n<E.length&&!E[n].includes("DetermineComponentFrameRoot");)n++;for(;o<U.length&&!U[o].includes("DetermineComponentFrameRoot");)o++;if(n===E.length||o===U.length)for(n=E.length-1,o=U.length-1;1<=n&&0<=o&&E[n]!==U[o];)o--;for(;1<=n&&0<=o;n--,o--)if(E[n]!==U[o]){if(n!==1||o!==1)do if(n--,o--,0>o||E[n]!==U[o]){var Q=`
`+E[n].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=n&&0<=o);break}}}finally{ki=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ma(a):""}function X0(t,s){switch(t.tag){case 26:case 27:case 5:return ma(t.type);case 16:return ma("Lazy");case 13:return t.child!==s&&s!==null?ma("Suspense Fallback"):ma("Suspense");case 19:return ma("SuspenseList");case 0:case 15:return zi(t.type,!1);case 11:return zi(t.type.render,!1);case 1:return zi(t.type,!0);case 31:return ma("Activity");default:return""}}function Gd(t){try{var s="",a=null;do s+=X0(t,a),a=t,t=t.return;while(t);return s}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Bi=Object.prototype.hasOwnProperty,Ui=l.unstable_scheduleCallback,Li=l.unstable_cancelCallback,Z0=l.unstable_shouldYield,J0=l.unstable_requestPaint,Rt=l.unstable_now,W0=l.unstable_getCurrentPriorityLevel,Vd=l.unstable_ImmediatePriority,Xd=l.unstable_UserBlockingPriority,Hn=l.unstable_NormalPriority,I0=l.unstable_LowPriority,Zd=l.unstable_IdlePriority,ep=l.log,tp=l.unstable_setDisableYieldValue,Rl=null,Ot=null;function Us(t){if(typeof ep=="function"&&tp(t),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Rl,t)}catch{}}var Mt=Math.clz32?Math.clz32:lp,sp=Math.log,ap=Math.LN2;function lp(t){return t>>>=0,t===0?32:31-(sp(t)/ap|0)|0}var Pn=256,Fn=262144,$n=4194304;function xa(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Qn(t,s,a){var n=t.pendingLanes;if(n===0)return 0;var o=0,d=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var j=n&134217727;return j!==0?(n=j&~d,n!==0?o=xa(n):(p&=j,p!==0?o=xa(p):a||(a=j&~t,a!==0&&(o=xa(a))))):(j=n&~d,j!==0?o=xa(j):p!==0?o=xa(p):a||(a=n&~t,a!==0&&(o=xa(a)))),o===0?0:s!==0&&s!==o&&(s&d)===0&&(d=o&-o,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:o}function Ol(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function np(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jd(){var t=$n;return $n<<=1,($n&62914560)===0&&($n=4194304),t}function qi(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Ml(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function rp(t,s,a,n,o,d){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var j=t.entanglements,E=t.expirationTimes,U=t.hiddenUpdates;for(a=p&~a;0<a;){var Q=31-Mt(a),V=1<<Q;j[Q]=0,E[Q]=-1;var q=U[Q];if(q!==null)for(U[Q]=null,Q=0;Q<q.length;Q++){var $=q[Q];$!==null&&($.lane&=-536870913)}a&=~V}n!==0&&Wd(t,n,0),d!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=d&~(p&~s))}function Wd(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var n=31-Mt(s);t.entangledLanes|=s,t.entanglements[n]=t.entanglements[n]|1073741824|a&261930}function Id(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var n=31-Mt(a),o=1<<n;o&s|t[n]&s&&(t[n]|=s),a&=~o}}function eu(t,s){var a=s&-s;return a=(a&42)!==0?1:Hi(a),(a&(t.suspendedLanes|s))!==0?0:a}function Hi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tu(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:Hh(t.type))}function su(t,s){var a=Z.p;try{return Z.p=t,s()}finally{Z.p=a}}var Ls=Math.random().toString(36).slice(2),ot="__reactFiber$"+Ls,jt="__reactProps$"+Ls,Ua="__reactContainer$"+Ls,Fi="__reactEvents$"+Ls,ip="__reactListeners$"+Ls,cp="__reactHandles$"+Ls,au="__reactResources$"+Ls,Dl="__reactMarker$"+Ls;function $i(t){delete t[ot],delete t[jt],delete t[Fi],delete t[ip],delete t[cp]}function La(t){var s=t[ot];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Ua]||a[ot]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=_h(t);t!==null;){if(a=t[ot])return a;t=_h(t)}return s}t=a,a=t.parentNode}return null}function qa(t){if(t=t[ot]||t[Ua]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function kl(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(c(33))}function Ha(t){var s=t[au];return s||(s=t[au]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function rt(t){t[Dl]=!0}var lu=new Set,nu={};function ha(t,s){Pa(t,s),Pa(t+"Capture",s)}function Pa(t,s){for(nu[t]=s,t=0;t<s.length;t++)lu.add(s[t])}var op=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ru={},iu={};function dp(t){return Bi.call(iu,t)?!0:Bi.call(ru,t)?!1:op.test(t)?iu[t]=!0:(ru[t]=!0,!1)}function Yn(t,s,a){if(dp(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var n=s.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Kn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function fs(t,s,a,n){if(n===null)t.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+n)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cu(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function up(t,s,a){var n=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,d=n.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return o.call(this)},set:function(p){a=""+p,d.call(this,p)}}),Object.defineProperty(t,s,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Qi(t){if(!t._valueTracker){var s=cu(t)?"checked":"value";t._valueTracker=up(t,s,""+t[s])}}function ou(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),n="";return t&&(n=cu(t)?t.checked?"true":"false":t.value),t=n,t!==a?(s.setValue(t),!0):!1}function Gn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var mp=/[\n"\\]/g;function Pt(t){return t.replace(mp,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Yi(t,s,a,n,o,d,p,j){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),s!=null?p==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Ht(s)):t.value!==""+Ht(s)&&(t.value=""+Ht(s)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),s!=null?Ki(t,p,Ht(s)):a!=null?Ki(t,p,Ht(a)):n!=null&&t.removeAttribute("value"),o==null&&d!=null&&(t.defaultChecked=!!d),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?t.name=""+Ht(j):t.removeAttribute("name")}function du(t,s,a,n,o,d,p,j){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Qi(t);return}a=a!=null?""+Ht(a):"",s=s!=null?""+Ht(s):a,j||s===t.value||(t.value=s),t.defaultValue=s}n=n??o,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=j?t.checked:!!n,t.defaultChecked=!!n,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Qi(t)}function Ki(t,s,a){s==="number"&&Gn(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Fa(t,s,a,n){if(t=t.options,s){s={};for(var o=0;o<a.length;o++)s["$"+a[o]]=!0;for(a=0;a<t.length;a++)o=s.hasOwnProperty("$"+t[a].value),t[a].selected!==o&&(t[a].selected=o),o&&n&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),s=null,o=0;o<t.length;o++){if(t[o].value===a){t[o].selected=!0,n&&(t[o].defaultSelected=!0);return}s!==null||t[o].disabled||(s=t[o])}s!==null&&(s.selected=!0)}}function uu(t,s,a){if(s!=null&&(s=""+Ht(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Ht(a):""}function mu(t,s,a,n){if(s==null){if(n!=null){if(a!=null)throw Error(c(92));if(Ae(n)){if(1<n.length)throw Error(c(93));n=n[0]}a=n}a==null&&(a=""),s=a}a=Ht(s),t.defaultValue=a,n=t.textContent,n===a&&n!==""&&n!==null&&(t.value=n),Qi(t)}function $a(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var xp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xu(t,s,a){var n=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":n?t.setProperty(s,a):typeof a!="number"||a===0||xp.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function hu(t,s,a){if(s!=null&&typeof s!="object")throw Error(c(62));if(t=t.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||s!=null&&s.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var o in s)n=s[o],s.hasOwnProperty(o)&&a[o]!==n&&xu(t,o,n)}else for(var d in s)s.hasOwnProperty(d)&&xu(t,d,s[d])}function Gi(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vn(t){return fp.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ps(){}var Vi=null;function Xi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qa=null,Ya=null;function fu(t){var s=qa(t);if(s&&(t=s.stateNode)){var a=t[jt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Yi(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var n=a[s];if(n!==t&&n.form===t.form){var o=n[jt]||null;if(!o)throw Error(c(90));Yi(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(s=0;s<a.length;s++)n=a[s],n.form===t.form&&ou(n)}break e;case"textarea":uu(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Fa(t,!!a.multiple,s,!1)}}}var Zi=!1;function pu(t,s,a){if(Zi)return t(s,a);Zi=!0;try{var n=t(s);return n}finally{if(Zi=!1,(Qa!==null||Ya!==null)&&(zr(),Qa&&(s=Qa,t=Ya,Ya=Qa=null,fu(s),t)))for(s=0;s<t.length;s++)fu(t[s])}}function zl(t,s){var a=t.stateNode;if(a===null)return null;var n=a[jt]||null;if(n===null)return null;a=n[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(c(231,s,typeof a));return a}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ji=!1;if(gs)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){Ji=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{Ji=!1}var qs=null,Wi=null,Xn=null;function gu(){if(Xn)return Xn;var t,s=Wi,a=s.length,n,o="value"in qs?qs.value:qs.textContent,d=o.length;for(t=0;t<a&&s[t]===o[t];t++);var p=a-t;for(n=1;n<=p&&s[a-n]===o[d-n];n++);return Xn=o.slice(t,1<n?1-n:void 0)}function Zn(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Jn(){return!0}function bu(){return!1}function vt(t){function s(a,n,o,d,p){this._reactName=a,this._targetInst=o,this.type=n,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var j in t)t.hasOwnProperty(j)&&(a=t[j],this[j]=a?a(d):d[j]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Jn:bu,this.isPropagationStopped=bu,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),s}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wn=vt(fa),Ul=y({},fa,{view:0,detail:0}),pp=vt(Ul),Ii,ec,Ll,In=y({},Ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ll&&(Ll&&t.type==="mousemove"?(Ii=t.screenX-Ll.screenX,ec=t.screenY-Ll.screenY):ec=Ii=0,Ll=t),Ii)},movementY:function(t){return"movementY"in t?t.movementY:ec}}),yu=vt(In),gp=y({},In,{dataTransfer:0}),bp=vt(gp),yp=y({},Ul,{relatedTarget:0}),tc=vt(yp),jp=y({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),vp=vt(jp),Np=y({},fa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wp=vt(Np),_p=y({},fa,{data:0}),ju=vt(_p),Sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ep={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ap(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Ep[t])?!!s[t]:!1}function sc(){return Ap}var Tp=y({},Ul,{key:function(t){if(t.key){var s=Sp[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Zn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(t){return t.type==="keypress"?Zn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Rp=vt(Tp),Op=y({},In,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vu=vt(Op),Mp=y({},Ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),Dp=vt(Mp),kp=y({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),zp=vt(kp),Bp=y({},In,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Up=vt(Bp),Lp=y({},fa,{newState:0,oldState:0}),qp=vt(Lp),Hp=[9,13,27,32],ac=gs&&"CompositionEvent"in window,ql=null;gs&&"documentMode"in document&&(ql=document.documentMode);var Pp=gs&&"TextEvent"in window&&!ql,Nu=gs&&(!ac||ql&&8<ql&&11>=ql),wu=" ",_u=!1;function Su(t,s){switch(t){case"keyup":return Hp.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ka=!1;function Fp(t,s){switch(t){case"compositionend":return Cu(s);case"keypress":return s.which!==32?null:(_u=!0,wu);case"textInput":return t=s.data,t===wu&&_u?null:t;default:return null}}function $p(t,s){if(Ka)return t==="compositionend"||!ac&&Su(t,s)?(t=gu(),Xn=Wi=qs=null,Ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Nu&&s.locale!=="ko"?null:s.data;default:return null}}var Qp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eu(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Qp[t.type]:s==="textarea"}function Au(t,s,a,n){Qa?Ya?Ya.push(n):Ya=[n]:Qa=n,s=Fr(s,"onChange"),0<s.length&&(a=new Wn("onChange","change",null,a,n),t.push({event:a,listeners:s}))}var Hl=null,Pl=null;function Yp(t){dh(t,0)}function er(t){var s=kl(t);if(ou(s))return t}function Tu(t,s){if(t==="change")return s}var Ru=!1;if(gs){var lc;if(gs){var nc="oninput"in document;if(!nc){var Ou=document.createElement("div");Ou.setAttribute("oninput","return;"),nc=typeof Ou.oninput=="function"}lc=nc}else lc=!1;Ru=lc&&(!document.documentMode||9<document.documentMode)}function Mu(){Hl&&(Hl.detachEvent("onpropertychange",Du),Pl=Hl=null)}function Du(t){if(t.propertyName==="value"&&er(Pl)){var s=[];Au(s,Pl,t,Xi(t)),pu(Yp,s)}}function Kp(t,s,a){t==="focusin"?(Mu(),Hl=s,Pl=a,Hl.attachEvent("onpropertychange",Du)):t==="focusout"&&Mu()}function Gp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return er(Pl)}function Vp(t,s){if(t==="click")return er(s)}function Xp(t,s){if(t==="input"||t==="change")return er(s)}function Zp(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Dt=typeof Object.is=="function"?Object.is:Zp;function Fl(t,s){if(Dt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),n=Object.keys(s);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var o=a[n];if(!Bi.call(s,o)||!Dt(t[o],s[o]))return!1}return!0}function ku(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zu(t,s){var a=ku(t);t=0;for(var n;a;){if(a.nodeType===3){if(n=t+a.textContent.length,t<=s&&n>=s)return{node:a,offset:s-t};t=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ku(a)}}function Bu(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Bu(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Uu(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Gn(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Gn(t.document)}return s}function rc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Jp=gs&&"documentMode"in document&&11>=document.documentMode,Ga=null,ic=null,$l=null,cc=!1;function Lu(t,s,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cc||Ga==null||Ga!==Gn(n)||(n=Ga,"selectionStart"in n&&rc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$l&&Fl($l,n)||($l=n,n=Fr(ic,"onSelect"),0<n.length&&(s=new Wn("onSelect","select",null,s,a),t.push({event:s,listeners:n}),s.target=Ga)))}function pa(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Va={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},oc={},qu={};gs&&(qu=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function ga(t){if(oc[t])return oc[t];if(!Va[t])return t;var s=Va[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in qu)return oc[t]=s[a];return t}var Hu=ga("animationend"),Pu=ga("animationiteration"),Fu=ga("animationstart"),Wp=ga("transitionrun"),Ip=ga("transitionstart"),eg=ga("transitioncancel"),$u=ga("transitionend"),Qu=new Map,dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dc.push("scrollEnd");function es(t,s){Qu.set(t,s),ha(s,[t])}var tr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ft=[],Xa=0,uc=0;function sr(){for(var t=Xa,s=uc=Xa=0;s<t;){var a=Ft[s];Ft[s++]=null;var n=Ft[s];Ft[s++]=null;var o=Ft[s];Ft[s++]=null;var d=Ft[s];if(Ft[s++]=null,n!==null&&o!==null){var p=n.pending;p===null?o.next=o:(o.next=p.next,p.next=o),n.pending=o}d!==0&&Yu(a,o,d)}}function ar(t,s,a,n){Ft[Xa++]=t,Ft[Xa++]=s,Ft[Xa++]=a,Ft[Xa++]=n,uc|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function mc(t,s,a,n){return ar(t,s,a,n),lr(t)}function ba(t,s){return ar(t,null,null,s),lr(t)}function Yu(t,s,a){t.lanes|=a;var n=t.alternate;n!==null&&(n.lanes|=a);for(var o=!1,d=t.return;d!==null;)d.childLanes|=a,n=d.alternate,n!==null&&(n.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(o=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,o&&s!==null&&(o=31-Mt(a),t=d.hiddenUpdates,n=t[o],n===null?t[o]=[s]:n.push(s),s.lane=a|536870912),d):null}function lr(t){if(50<mn)throw mn=0,No=null,Error(c(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Za={};function tg(t,s,a,n){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(t,s,a,n){return new tg(t,s,a,n)}function xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bs(t,s){var a=t.alternate;return a===null?(a=kt(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ku(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function nr(t,s,a,n,o,d){var p=0;if(n=t,typeof t=="function")xc(t)&&(p=1);else if(typeof t=="string")p=rb(t,a,I.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ne:return t=kt(31,a,s,o),t.elementType=ne,t.lanes=d,t;case _:return ya(a.children,o,d,s);case v:p=8,o|=24;break;case S:return t=kt(12,a,s,o|2),t.elementType=S,t.lanes=d,t;case R:return t=kt(13,a,s,o),t.elementType=R,t.lanes=d,t;case D:return t=kt(19,a,s,o),t.elementType=D,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F:p=10;break e;case M:p=9;break e;case z:p=11;break e;case Y:p=14;break e;case J:p=16,n=null;break e}p=29,a=Error(c(130,t===null?"null":typeof t,"")),n=null}return s=kt(p,a,s,o),s.elementType=t,s.type=n,s.lanes=d,s}function ya(t,s,a,n){return t=kt(7,t,n,s),t.lanes=a,t}function hc(t,s,a){return t=kt(6,t,null,s),t.lanes=a,t}function Gu(t){var s=kt(18,null,null,0);return s.stateNode=t,s}function fc(t,s,a){return s=kt(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Vu=new WeakMap;function $t(t,s){if(typeof t=="object"&&t!==null){var a=Vu.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Gd(s)},Vu.set(t,s),s)}return{value:t,source:s,stack:Gd(s)}}var Ja=[],Wa=0,rr=null,Ql=0,Qt=[],Yt=0,Hs=null,is=1,cs="";function ys(t,s){Ja[Wa++]=Ql,Ja[Wa++]=rr,rr=t,Ql=s}function Xu(t,s,a){Qt[Yt++]=is,Qt[Yt++]=cs,Qt[Yt++]=Hs,Hs=t;var n=is;t=cs;var o=32-Mt(n)-1;n&=~(1<<o),a+=1;var d=32-Mt(s)+o;if(30<d){var p=o-o%5;d=(n&(1<<p)-1).toString(32),n>>=p,o-=p,is=1<<32-Mt(s)+o|a<<o|n,cs=d+t}else is=1<<d|a<<o|n,cs=t}function pc(t){t.return!==null&&(ys(t,1),Xu(t,1,0))}function gc(t){for(;t===rr;)rr=Ja[--Wa],Ja[Wa]=null,Ql=Ja[--Wa],Ja[Wa]=null;for(;t===Hs;)Hs=Qt[--Yt],Qt[Yt]=null,cs=Qt[--Yt],Qt[Yt]=null,is=Qt[--Yt],Qt[Yt]=null}function Zu(t,s){Qt[Yt++]=is,Qt[Yt++]=cs,Qt[Yt++]=Hs,is=s.id,cs=s.overflow,Hs=t}var dt=null,Fe=null,_e=!1,Ps=null,Kt=!1,bc=Error(c(519));function Fs(t){var s=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl($t(s,t)),bc}function Ju(t){var s=t.stateNode,a=t.type,n=t.memoizedProps;switch(s[ot]=t,s[jt]=n,a){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(a=0;a<hn.length;a++)je(hn[a],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":je("invalid",s),du(s,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":je("invalid",s);break;case"textarea":je("invalid",s),mu(s,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||n.suppressHydrationWarning===!0||hh(s.textContent,a)?(n.popover!=null&&(je("beforetoggle",s),je("toggle",s)),n.onScroll!=null&&je("scroll",s),n.onScrollEnd!=null&&je("scrollend",s),n.onClick!=null&&(s.onclick=ps),s=!0):s=!1,s||Fs(t,!0)}function Wu(t){for(dt=t.return;dt;)switch(dt.tag){case 5:case 31:case 13:Kt=!1;return;case 27:case 3:Kt=!0;return;default:dt=dt.return}}function Ia(t){if(t!==dt)return!1;if(!_e)return Wu(t),_e=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Uo(t.type,t.memoizedProps)),a=!a),a&&Fe&&Fs(t),Wu(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));Fe=wh(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));Fe=wh(t)}else s===27?(s=Fe,sa(t.type)?(t=Fo,Fo=null,Fe=t):Fe=s):Fe=dt?Vt(t.stateNode.nextSibling):null;return!0}function ja(){Fe=dt=null,_e=!1}function yc(){var t=Ps;return t!==null&&(St===null?St=t:St.push.apply(St,t),Ps=null),t}function Yl(t){Ps===null?Ps=[t]:Ps.push(t)}var jc=A(null),va=null,js=null;function $s(t,s,a){W(jc,s._currentValue),s._currentValue=a}function vs(t){t._currentValue=jc.current,G(jc)}function vc(t,s,a){for(;t!==null;){var n=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,n!==null&&(n.childLanes|=s)):n!==null&&(n.childLanes&s)!==s&&(n.childLanes|=s),t===a)break;t=t.return}}function Nc(t,s,a,n){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var d=o.dependencies;if(d!==null){var p=o.child;d=d.firstContext;e:for(;d!==null;){var j=d;d=o;for(var E=0;E<s.length;E++)if(j.context===s[E]){d.lanes|=a,j=d.alternate,j!==null&&(j.lanes|=a),vc(d.return,a,t),n||(p=null);break e}d=j.next}}else if(o.tag===18){if(p=o.return,p===null)throw Error(c(341));p.lanes|=a,d=p.alternate,d!==null&&(d.lanes|=a),vc(p,a,t),p=null}else p=o.child;if(p!==null)p.return=o;else for(p=o;p!==null;){if(p===t){p=null;break}if(o=p.sibling,o!==null){o.return=p.return,p=o;break}p=p.return}o=p}}function el(t,s,a,n){t=null;for(var o=s,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var p=o.alternate;if(p===null)throw Error(c(387));if(p=p.memoizedProps,p!==null){var j=o.type;Dt(o.pendingProps.value,p.value)||(t!==null?t.push(j):t=[j])}}else if(o===Me.current){if(p=o.alternate,p===null)throw Error(c(387));p.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(yn):t=[yn])}o=o.return}t!==null&&Nc(s,t,a,n),s.flags|=262144}function ir(t){for(t=t.firstContext;t!==null;){if(!Dt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Na(t){va=t,js=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ut(t){return Iu(va,t)}function cr(t,s){return va===null&&Na(t),Iu(t,s)}function Iu(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},js===null){if(t===null)throw Error(c(308));js=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else js=js.next=s;return a}var sg=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,n){t.push(n)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},ag=l.unstable_scheduleCallback,lg=l.unstable_NormalPriority,Ie={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wc(){return{controller:new sg,data:new Map,refCount:0}}function Kl(t){t.refCount--,t.refCount===0&&ag(lg,function(){t.controller.abort()})}var Gl=null,_c=0,tl=0,sl=null;function ng(t,s){if(Gl===null){var a=Gl=[];_c=0,tl=Ao(),sl={status:"pending",value:void 0,then:function(n){a.push(n)}}}return _c++,s.then(em,em),s}function em(){if(--_c===0&&Gl!==null){sl!==null&&(sl.status="fulfilled");var t=Gl;Gl=null,tl=0,sl=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function rg(t,s){var a=[],n={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return t.then(function(){n.status="fulfilled",n.value=s;for(var o=0;o<a.length;o++)(0,a[o])(s)},function(o){for(n.status="rejected",n.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),n}var tm=P.S;P.S=function(t,s){Lx=Rt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&ng(t,s),tm!==null&&tm(t,s)};var wa=A(null);function Sc(){var t=wa.current;return t!==null?t:qe.pooledCache}function or(t,s){s===null?W(wa,wa.current):W(wa,s.pool)}function sm(){var t=Sc();return t===null?null:{parent:Ie._currentValue,pool:t}}var al=Error(c(460)),Cc=Error(c(474)),dr=Error(c(542)),ur={then:function(){}};function am(t){return t=t.status,t==="fulfilled"||t==="rejected"}function lm(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(ps,ps),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,rm(t),t;default:if(typeof s.status=="string")s.then(ps,ps);else{if(t=qe,t!==null&&100<t.shellSuspendCounter)throw Error(c(482));t=s,t.status="pending",t.then(function(n){if(s.status==="pending"){var o=s;o.status="fulfilled",o.value=n}},function(n){if(s.status==="pending"){var o=s;o.status="rejected",o.reason=n}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,rm(t),t}throw Sa=s,al}}function _a(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Sa=a,al):a}}var Sa=null;function nm(){if(Sa===null)throw Error(c(459));var t=Sa;return Sa=null,t}function rm(t){if(t===al||t===dr)throw Error(c(483))}var ll=null,Vl=0;function mr(t){var s=Vl;return Vl+=1,ll===null&&(ll=[]),lm(ll,t,s)}function Xl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function xr(t,s){throw s.$$typeof===N?Error(c(525)):(t=Object.prototype.toString.call(s),Error(c(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function im(t){function s(k,T){if(t){var B=k.deletions;B===null?(k.deletions=[T],k.flags|=16):B.push(T)}}function a(k,T){if(!t)return null;for(;T!==null;)s(k,T),T=T.sibling;return null}function n(k){for(var T=new Map;k!==null;)k.key!==null?T.set(k.key,k):T.set(k.index,k),k=k.sibling;return T}function o(k,T){return k=bs(k,T),k.index=0,k.sibling=null,k}function d(k,T,B){return k.index=B,t?(B=k.alternate,B!==null?(B=B.index,B<T?(k.flags|=67108866,T):B):(k.flags|=67108866,T)):(k.flags|=1048576,T)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function j(k,T,B,K){return T===null||T.tag!==6?(T=hc(B,k.mode,K),T.return=k,T):(T=o(T,B),T.return=k,T)}function E(k,T,B,K){var re=B.type;return re===_?Q(k,T,B.props.children,K,B.key):T!==null&&(T.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===J&&_a(re)===T.type)?(T=o(T,B.props),Xl(T,B),T.return=k,T):(T=nr(B.type,B.key,B.props,null,k.mode,K),Xl(T,B),T.return=k,T)}function U(k,T,B,K){return T===null||T.tag!==4||T.stateNode.containerInfo!==B.containerInfo||T.stateNode.implementation!==B.implementation?(T=fc(B,k.mode,K),T.return=k,T):(T=o(T,B.children||[]),T.return=k,T)}function Q(k,T,B,K,re){return T===null||T.tag!==7?(T=ya(B,k.mode,K,re),T.return=k,T):(T=o(T,B),T.return=k,T)}function V(k,T,B){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=hc(""+T,k.mode,B),T.return=k,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case O:return B=nr(T.type,T.key,T.props,null,k.mode,B),Xl(B,T),B.return=k,B;case w:return T=fc(T,k.mode,B),T.return=k,T;case J:return T=_a(T),V(k,T,B)}if(Ae(T)||ce(T))return T=ya(T,k.mode,B,null),T.return=k,T;if(typeof T.then=="function")return V(k,mr(T),B);if(T.$$typeof===F)return V(k,cr(k,T),B);xr(k,T)}return null}function q(k,T,B,K){var re=T!==null?T.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return re!==null?null:j(k,T,""+B,K);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case O:return B.key===re?E(k,T,B,K):null;case w:return B.key===re?U(k,T,B,K):null;case J:return B=_a(B),q(k,T,B,K)}if(Ae(B)||ce(B))return re!==null?null:Q(k,T,B,K,null);if(typeof B.then=="function")return q(k,T,mr(B),K);if(B.$$typeof===F)return q(k,T,cr(k,B),K);xr(k,B)}return null}function $(k,T,B,K,re){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(B)||null,j(T,k,""+K,re);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case O:return k=k.get(K.key===null?B:K.key)||null,E(T,k,K,re);case w:return k=k.get(K.key===null?B:K.key)||null,U(T,k,K,re);case J:return K=_a(K),$(k,T,B,K,re)}if(Ae(K)||ce(K))return k=k.get(B)||null,Q(T,k,K,re,null);if(typeof K.then=="function")return $(k,T,B,mr(K),re);if(K.$$typeof===F)return $(k,T,B,cr(T,K),re);xr(T,K)}return null}function te(k,T,B,K){for(var re=null,Ce=null,se=T,fe=T=0,Ne=null;se!==null&&fe<B.length;fe++){se.index>fe?(Ne=se,se=null):Ne=se.sibling;var Ee=q(k,se,B[fe],K);if(Ee===null){se===null&&(se=Ne);break}t&&se&&Ee.alternate===null&&s(k,se),T=d(Ee,T,fe),Ce===null?re=Ee:Ce.sibling=Ee,Ce=Ee,se=Ne}if(fe===B.length)return a(k,se),_e&&ys(k,fe),re;if(se===null){for(;fe<B.length;fe++)se=V(k,B[fe],K),se!==null&&(T=d(se,T,fe),Ce===null?re=se:Ce.sibling=se,Ce=se);return _e&&ys(k,fe),re}for(se=n(se);fe<B.length;fe++)Ne=$(se,k,fe,B[fe],K),Ne!==null&&(t&&Ne.alternate!==null&&se.delete(Ne.key===null?fe:Ne.key),T=d(Ne,T,fe),Ce===null?re=Ne:Ce.sibling=Ne,Ce=Ne);return t&&se.forEach(function(ia){return s(k,ia)}),_e&&ys(k,fe),re}function oe(k,T,B,K){if(B==null)throw Error(c(151));for(var re=null,Ce=null,se=T,fe=T=0,Ne=null,Ee=B.next();se!==null&&!Ee.done;fe++,Ee=B.next()){se.index>fe?(Ne=se,se=null):Ne=se.sibling;var ia=q(k,se,Ee.value,K);if(ia===null){se===null&&(se=Ne);break}t&&se&&ia.alternate===null&&s(k,se),T=d(ia,T,fe),Ce===null?re=ia:Ce.sibling=ia,Ce=ia,se=Ne}if(Ee.done)return a(k,se),_e&&ys(k,fe),re;if(se===null){for(;!Ee.done;fe++,Ee=B.next())Ee=V(k,Ee.value,K),Ee!==null&&(T=d(Ee,T,fe),Ce===null?re=Ee:Ce.sibling=Ee,Ce=Ee);return _e&&ys(k,fe),re}for(se=n(se);!Ee.done;fe++,Ee=B.next())Ee=$(se,k,fe,Ee.value,K),Ee!==null&&(t&&Ee.alternate!==null&&se.delete(Ee.key===null?fe:Ee.key),T=d(Ee,T,fe),Ce===null?re=Ee:Ce.sibling=Ee,Ce=Ee);return t&&se.forEach(function(gb){return s(k,gb)}),_e&&ys(k,fe),re}function Le(k,T,B,K){if(typeof B=="object"&&B!==null&&B.type===_&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case O:e:{for(var re=B.key;T!==null;){if(T.key===re){if(re=B.type,re===_){if(T.tag===7){a(k,T.sibling),K=o(T,B.props.children),K.return=k,k=K;break e}}else if(T.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===J&&_a(re)===T.type){a(k,T.sibling),K=o(T,B.props),Xl(K,B),K.return=k,k=K;break e}a(k,T);break}else s(k,T);T=T.sibling}B.type===_?(K=ya(B.props.children,k.mode,K,B.key),K.return=k,k=K):(K=nr(B.type,B.key,B.props,null,k.mode,K),Xl(K,B),K.return=k,k=K)}return p(k);case w:e:{for(re=B.key;T!==null;){if(T.key===re)if(T.tag===4&&T.stateNode.containerInfo===B.containerInfo&&T.stateNode.implementation===B.implementation){a(k,T.sibling),K=o(T,B.children||[]),K.return=k,k=K;break e}else{a(k,T);break}else s(k,T);T=T.sibling}K=fc(B,k.mode,K),K.return=k,k=K}return p(k);case J:return B=_a(B),Le(k,T,B,K)}if(Ae(B))return te(k,T,B,K);if(ce(B)){if(re=ce(B),typeof re!="function")throw Error(c(150));return B=re.call(B),oe(k,T,B,K)}if(typeof B.then=="function")return Le(k,T,mr(B),K);if(B.$$typeof===F)return Le(k,T,cr(k,B),K);xr(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,T!==null&&T.tag===6?(a(k,T.sibling),K=o(T,B),K.return=k,k=K):(a(k,T),K=hc(B,k.mode,K),K.return=k,k=K),p(k)):a(k,T)}return function(k,T,B,K){try{Vl=0;var re=Le(k,T,B,K);return ll=null,re}catch(se){if(se===al||se===dr)throw se;var Ce=kt(29,se,null,k.mode);return Ce.lanes=K,Ce.return=k,Ce}finally{}}}var Ca=im(!0),cm=im(!1),Qs=!1;function Ec(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ac(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ys(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ks(t,s,a){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,(Re&2)!==0){var o=n.pending;return o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s,s=lr(t),Yu(t,null,a),s}return ar(t,n,s,a),lr(t)}function Zl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var n=s.lanes;n&=t.pendingLanes,a|=n,s.lanes=a,Id(t,a)}}function Tc(t,s){var a=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var o=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?o=d=p:d=d.next=p,a=a.next}while(a!==null);d===null?o=d=s:d=d.next=s}else o=d=s;a={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:n.shared,callbacks:n.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Rc=!1;function Jl(){if(Rc){var t=sl;if(t!==null)throw t}}function Wl(t,s,a,n){Rc=!1;var o=t.updateQueue;Qs=!1;var d=o.firstBaseUpdate,p=o.lastBaseUpdate,j=o.shared.pending;if(j!==null){o.shared.pending=null;var E=j,U=E.next;E.next=null,p===null?d=U:p.next=U,p=E;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,j=Q.lastBaseUpdate,j!==p&&(j===null?Q.firstBaseUpdate=U:j.next=U,Q.lastBaseUpdate=E))}if(d!==null){var V=o.baseState;p=0,Q=U=E=null,j=d;do{var q=j.lane&-536870913,$=q!==j.lane;if($?(ve&q)===q:(n&q)===q){q!==0&&q===tl&&(Rc=!0),Q!==null&&(Q=Q.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var te=t,oe=j;q=s;var Le=a;switch(oe.tag){case 1:if(te=oe.payload,typeof te=="function"){V=te.call(Le,V,q);break e}V=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=oe.payload,q=typeof te=="function"?te.call(Le,V,q):te,q==null)break e;V=y({},V,q);break e;case 2:Qs=!0}}q=j.callback,q!==null&&(t.flags|=64,$&&(t.flags|=8192),$=o.callbacks,$===null?o.callbacks=[q]:$.push(q))}else $={lane:q,tag:j.tag,payload:j.payload,callback:j.callback,next:null},Q===null?(U=Q=$,E=V):Q=Q.next=$,p|=q;if(j=j.next,j===null){if(j=o.shared.pending,j===null)break;$=j,j=$.next,$.next=null,o.lastBaseUpdate=$,o.shared.pending=null}}while(!0);Q===null&&(E=V),o.baseState=E,o.firstBaseUpdate=U,o.lastBaseUpdate=Q,d===null&&(o.shared.lanes=0),Js|=p,t.lanes=p,t.memoizedState=V}}function om(t,s){if(typeof t!="function")throw Error(c(191,t));t.call(s)}function dm(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)om(a[t],s)}var nl=A(null),hr=A(0);function um(t,s){t=Rs,W(hr,t),W(nl,s),Rs=t|s.baseLanes}function Oc(){W(hr,Rs),W(nl,nl.current)}function Mc(){Rs=hr.current,G(nl),G(hr)}var zt=A(null),Gt=null;function Gs(t){var s=t.alternate;W(Je,Je.current&1),W(zt,t),Gt===null&&(s===null||nl.current!==null||s.memoizedState!==null)&&(Gt=t)}function Dc(t){W(Je,Je.current),W(zt,t),Gt===null&&(Gt=t)}function mm(t){t.tag===22?(W(Je,Je.current),W(zt,t),Gt===null&&(Gt=t)):Vs()}function Vs(){W(Je,Je.current),W(zt,zt.current)}function Bt(t){G(zt),Gt===t&&(Gt=null),G(Je)}var Je=A(0);function fr(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ho(a)||Po(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ns=0,xe=null,Be=null,et=null,pr=!1,rl=!1,Ea=!1,gr=0,Il=0,il=null,ig=0;function Ve(){throw Error(c(321))}function kc(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Dt(t[a],s[a]))return!1;return!0}function zc(t,s,a,n,o,d){return Ns=d,xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,P.H=t===null||t.memoizedState===null?Xm:Zc,Ea=!1,d=a(n,o),Ea=!1,rl&&(d=hm(s,a,n,o)),xm(t),d}function xm(t){P.H=sn;var s=Be!==null&&Be.next!==null;if(Ns=0,et=Be=xe=null,pr=!1,Il=0,il=null,s)throw Error(c(300));t===null||tt||(t=t.dependencies,t!==null&&ir(t)&&(tt=!0))}function hm(t,s,a,n){xe=t;var o=0;do{if(rl&&(il=null),Il=0,rl=!1,25<=o)throw Error(c(301));if(o+=1,et=Be=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}P.H=Zm,d=s(a,n)}while(rl);return d}function cg(){var t=P.H,s=t.useState()[0];return s=typeof s.then=="function"?en(s):s,t=t.useState()[0],(Be!==null?Be.memoizedState:null)!==t&&(xe.flags|=1024),s}function Bc(){var t=gr!==0;return gr=0,t}function Uc(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Lc(t){if(pr){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}pr=!1}Ns=0,et=Be=xe=null,rl=!1,Il=gr=0,il=null}function bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?xe.memoizedState=et=t:et=et.next=t,et}function We(){if(Be===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var s=et===null?xe.memoizedState:et.next;if(s!==null)et=s,Be=t;else{if(t===null)throw xe.alternate===null?Error(c(467)):Error(c(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},et===null?xe.memoizedState=et=t:et=et.next=t}return et}function br(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function en(t){var s=Il;return Il+=1,il===null&&(il=[]),t=lm(il,t,s),s=xe,(et===null?s.memoizedState:et.next)===null&&(s=s.alternate,P.H=s===null||s.memoizedState===null?Xm:Zc),t}function yr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return en(t);if(t.$$typeof===F)return ut(t)}throw Error(c(438,String(t)))}function qc(t){var s=null,a=xe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var n=xe.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(s={data:n.data.map(function(o){return o.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=br(),xe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),n=0;n<t;n++)a[n]=ge;return s.index++,a}function ws(t,s){return typeof s=="function"?s(t):s}function jr(t){var s=We();return Hc(s,Be,t)}function Hc(t,s,a){var n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=a;var o=t.baseQueue,d=n.pending;if(d!==null){if(o!==null){var p=o.next;o.next=d.next,d.next=p}s.baseQueue=o=d,n.pending=null}if(d=t.baseState,o===null)t.memoizedState=d;else{s=o.next;var j=p=null,E=null,U=s,Q=!1;do{var V=U.lane&-536870913;if(V!==U.lane?(ve&V)===V:(Ns&V)===V){var q=U.revertLane;if(q===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),V===tl&&(Q=!0);else if((Ns&q)===q){U=U.next,q===tl&&(Q=!0);continue}else V={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},E===null?(j=E=V,p=d):E=E.next=V,xe.lanes|=q,Js|=q;V=U.action,Ea&&a(d,V),d=U.hasEagerState?U.eagerState:a(d,V)}else q={lane:V,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},E===null?(j=E=q,p=d):E=E.next=q,xe.lanes|=V,Js|=V;U=U.next}while(U!==null&&U!==s);if(E===null?p=d:E.next=j,!Dt(d,t.memoizedState)&&(tt=!0,Q&&(a=sl,a!==null)))throw a;t.memoizedState=d,t.baseState=p,t.baseQueue=E,n.lastRenderedState=d}return o===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function Pc(t){var s=We(),a=s.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=t;var n=a.dispatch,o=a.pending,d=s.memoizedState;if(o!==null){a.pending=null;var p=o=o.next;do d=t(d,p.action),p=p.next;while(p!==o);Dt(d,s.memoizedState)||(tt=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,n]}function fm(t,s,a){var n=xe,o=We(),d=_e;if(d){if(a===void 0)throw Error(c(407));a=a()}else a=s();var p=!Dt((Be||o).memoizedState,a);if(p&&(o.memoizedState=a,tt=!0),o=o.queue,Qc(bm.bind(null,n,o,t),[t]),o.getSnapshot!==s||p||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,cl(9,{destroy:void 0},gm.bind(null,n,o,a,s),null),qe===null)throw Error(c(349));d||(Ns&127)!==0||pm(n,s,a)}return a}function pm(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=xe.updateQueue,s===null?(s=br(),xe.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function gm(t,s,a,n){s.value=a,s.getSnapshot=n,ym(s)&&jm(t)}function bm(t,s,a){return a(function(){ym(s)&&jm(t)})}function ym(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Dt(t,a)}catch{return!0}}function jm(t){var s=ba(t,2);s!==null&&Ct(s,t,2)}function Fc(t){var s=bt();if(typeof t=="function"){var a=t;if(t=a(),Ea){Us(!0);try{a()}finally{Us(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:t},s}function vm(t,s,a,n){return t.baseState=a,Hc(t,Be,typeof n=="function"?n:ws)}function og(t,s,a,n,o){if(wr(t))throw Error(c(485));if(t=s.action,t!==null){var d={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){d.listeners.push(p)}};P.T!==null?a(!0):d.isTransition=!1,n(d),a=s.pending,a===null?(d.next=s.pending=d,Nm(s,d)):(d.next=a.next,s.pending=a.next=d)}}function Nm(t,s){var a=s.action,n=s.payload,o=t.state;if(s.isTransition){var d=P.T,p={};P.T=p;try{var j=a(o,n),E=P.S;E!==null&&E(p,j),wm(t,s,j)}catch(U){$c(t,s,U)}finally{d!==null&&p.types!==null&&(d.types=p.types),P.T=d}}else try{d=a(o,n),wm(t,s,d)}catch(U){$c(t,s,U)}}function wm(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){_m(t,s,n)},function(n){return $c(t,s,n)}):_m(t,s,a)}function _m(t,s,a){s.status="fulfilled",s.value=a,Sm(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Nm(t,a)))}function $c(t,s,a){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do s.status="rejected",s.reason=a,Sm(s),s=s.next;while(s!==n)}t.action=null}function Sm(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Cm(t,s){return s}function Em(t,s){if(_e){var a=qe.formState;if(a!==null){e:{var n=xe;if(_e){if(Fe){t:{for(var o=Fe,d=Kt;o.nodeType!==8;){if(!d){o=null;break t}if(o=Vt(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){Fe=Vt(o.nextSibling),n=o.data==="F!";break e}}Fs(n)}n=!1}n&&(s=a[0])}}return a=bt(),a.memoizedState=a.baseState=s,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cm,lastRenderedState:s},a.queue=n,a=Km.bind(null,xe,n),n.dispatch=a,n=Fc(!1),d=Xc.bind(null,xe,!1,n.queue),n=bt(),o={state:s,dispatch:null,action:t,pending:null},n.queue=o,a=og.bind(null,xe,o,d,a),o.dispatch=a,n.memoizedState=t,[s,a,!1]}function Am(t){var s=We();return Tm(s,Be,t)}function Tm(t,s,a){if(s=Hc(t,s,Cm)[0],t=jr(ws)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var n=en(s)}catch(p){throw p===al?dr:p}else n=s;s=We();var o=s.queue,d=o.dispatch;return a!==s.memoizedState&&(xe.flags|=2048,cl(9,{destroy:void 0},dg.bind(null,o,a),null)),[n,d,t]}function dg(t,s){t.action=s}function Rm(t){var s=We(),a=Be;if(a!==null)return Tm(s,a,t);We(),s=s.memoizedState,a=We();var n=a.queue.dispatch;return a.memoizedState=t,[s,n,!1]}function cl(t,s,a,n){return t={tag:t,create:a,deps:n,inst:s,next:null},s=xe.updateQueue,s===null&&(s=br(),xe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(n=a.next,a.next=t,t.next=n,s.lastEffect=t),t}function Om(){return We().memoizedState}function vr(t,s,a,n){var o=bt();xe.flags|=t,o.memoizedState=cl(1|s,{destroy:void 0},a,n===void 0?null:n)}function Nr(t,s,a,n){var o=We();n=n===void 0?null:n;var d=o.memoizedState.inst;Be!==null&&n!==null&&kc(n,Be.memoizedState.deps)?o.memoizedState=cl(s,d,a,n):(xe.flags|=t,o.memoizedState=cl(1|s,d,a,n))}function Mm(t,s){vr(8390656,8,t,s)}function Qc(t,s){Nr(2048,8,t,s)}function ug(t){xe.flags|=4;var s=xe.updateQueue;if(s===null)s=br(),xe.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Dm(t){var s=We().memoizedState;return ug({ref:s,nextImpl:t}),function(){if((Re&2)!==0)throw Error(c(440));return s.impl.apply(void 0,arguments)}}function km(t,s){return Nr(4,2,t,s)}function zm(t,s){return Nr(4,4,t,s)}function Bm(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Um(t,s,a){a=a!=null?a.concat([t]):null,Nr(4,4,Bm.bind(null,s,t),a)}function Yc(){}function Lm(t,s){var a=We();s=s===void 0?null:s;var n=a.memoizedState;return s!==null&&kc(s,n[1])?n[0]:(a.memoizedState=[t,s],t)}function qm(t,s){var a=We();s=s===void 0?null:s;var n=a.memoizedState;if(s!==null&&kc(s,n[1]))return n[0];if(n=t(),Ea){Us(!0);try{t()}finally{Us(!1)}}return a.memoizedState=[n,s],n}function Kc(t,s,a){return a===void 0||(Ns&1073741824)!==0&&(ve&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=Hx(),xe.lanes|=t,Js|=t,a)}function Hm(t,s,a,n){return Dt(a,s)?a:nl.current!==null?(t=Kc(t,a,n),Dt(t,s)||(tt=!0),t):(Ns&42)===0||(Ns&1073741824)!==0&&(ve&261930)===0?(tt=!0,t.memoizedState=a):(t=Hx(),xe.lanes|=t,Js|=t,s)}function Pm(t,s,a,n,o){var d=Z.p;Z.p=d!==0&&8>d?d:8;var p=P.T,j={};P.T=j,Xc(t,!1,s,a);try{var E=o(),U=P.S;if(U!==null&&U(j,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var Q=rg(E,n);tn(t,s,Q,qt(t))}else tn(t,s,n,qt(t))}catch(V){tn(t,s,{then:function(){},status:"rejected",reason:V},qt())}finally{Z.p=d,p!==null&&j.types!==null&&(p.types=j.types),P.T=p}}function mg(){}function Gc(t,s,a,n){if(t.tag!==5)throw Error(c(476));var o=Fm(t).queue;Pm(t,o,s,le,a===null?mg:function(){return $m(t),a(n)})}function Fm(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:le},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function $m(t){var s=Fm(t);s.next===null&&(s=t.alternate.memoizedState),tn(t,s.next.queue,{},qt())}function Vc(){return ut(yn)}function Qm(){return We().memoizedState}function Ym(){return We().memoizedState}function xg(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=qt();t=Ys(a);var n=Ks(s,t,a);n!==null&&(Ct(n,s,a),Zl(n,s,a)),s={cache:wc()},t.payload=s;return}s=s.return}}function hg(t,s,a){var n=qt();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wr(t)?Gm(s,a):(a=mc(t,s,a,n),a!==null&&(Ct(a,t,n),Vm(a,s,n)))}function Km(t,s,a){var n=qt();tn(t,s,a,n)}function tn(t,s,a,n){var o={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wr(t))Gm(s,o);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var p=s.lastRenderedState,j=d(p,a);if(o.hasEagerState=!0,o.eagerState=j,Dt(j,p))return ar(t,s,o,0),qe===null&&sr(),!1}catch{}finally{}if(a=mc(t,s,o,n),a!==null)return Ct(a,t,n),Vm(a,s,n),!0}return!1}function Xc(t,s,a,n){if(n={lane:2,revertLane:Ao(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},wr(t)){if(s)throw Error(c(479))}else s=mc(t,a,n,2),s!==null&&Ct(s,t,2)}function wr(t){var s=t.alternate;return t===xe||s!==null&&s===xe}function Gm(t,s){rl=pr=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Vm(t,s,a){if((a&4194048)!==0){var n=s.lanes;n&=t.pendingLanes,a|=n,s.lanes=a,Id(t,a)}}var sn={readContext:ut,use:yr,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};sn.useEffectEvent=Ve;var Xm={readContext:ut,use:yr,useCallback:function(t,s){return bt().memoizedState=[t,s===void 0?null:s],t},useContext:ut,useEffect:Mm,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,vr(4194308,4,Bm.bind(null,s,t),a)},useLayoutEffect:function(t,s){return vr(4194308,4,t,s)},useInsertionEffect:function(t,s){vr(4,2,t,s)},useMemo:function(t,s){var a=bt();s=s===void 0?null:s;var n=t();if(Ea){Us(!0);try{t()}finally{Us(!1)}}return a.memoizedState=[n,s],n},useReducer:function(t,s,a){var n=bt();if(a!==void 0){var o=a(s);if(Ea){Us(!0);try{a(s)}finally{Us(!1)}}}else o=s;return n.memoizedState=n.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},n.queue=t,t=t.dispatch=hg.bind(null,xe,t),[n.memoizedState,t]},useRef:function(t){var s=bt();return t={current:t},s.memoizedState=t},useState:function(t){t=Fc(t);var s=t.queue,a=Km.bind(null,xe,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Yc,useDeferredValue:function(t,s){var a=bt();return Kc(a,t,s)},useTransition:function(){var t=Fc(!1);return t=Pm.bind(null,xe,t.queue,!0,!1),bt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var n=xe,o=bt();if(_e){if(a===void 0)throw Error(c(407));a=a()}else{if(a=s(),qe===null)throw Error(c(349));(ve&127)!==0||pm(n,s,a)}o.memoizedState=a;var d={value:a,getSnapshot:s};return o.queue=d,Mm(bm.bind(null,n,d,t),[t]),n.flags|=2048,cl(9,{destroy:void 0},gm.bind(null,n,d,a,s),null),a},useId:function(){var t=bt(),s=qe.identifierPrefix;if(_e){var a=cs,n=is;a=(n&~(1<<32-Mt(n)-1)).toString(32)+a,s="_"+s+"R_"+a,a=gr++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=ig++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Vc,useFormState:Em,useActionState:Em,useOptimistic:function(t){var s=bt();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Xc.bind(null,xe,!0,a),a.dispatch=s,[t,s]},useMemoCache:qc,useCacheRefresh:function(){return bt().memoizedState=xg.bind(null,xe)},useEffectEvent:function(t){var s=bt(),a={impl:t};return s.memoizedState=a,function(){if((Re&2)!==0)throw Error(c(440));return a.impl.apply(void 0,arguments)}}},Zc={readContext:ut,use:yr,useCallback:Lm,useContext:ut,useEffect:Qc,useImperativeHandle:Um,useInsertionEffect:km,useLayoutEffect:zm,useMemo:qm,useReducer:jr,useRef:Om,useState:function(){return jr(ws)},useDebugValue:Yc,useDeferredValue:function(t,s){var a=We();return Hm(a,Be.memoizedState,t,s)},useTransition:function(){var t=jr(ws)[0],s=We().memoizedState;return[typeof t=="boolean"?t:en(t),s]},useSyncExternalStore:fm,useId:Qm,useHostTransitionStatus:Vc,useFormState:Am,useActionState:Am,useOptimistic:function(t,s){var a=We();return vm(a,Be,t,s)},useMemoCache:qc,useCacheRefresh:Ym};Zc.useEffectEvent=Dm;var Zm={readContext:ut,use:yr,useCallback:Lm,useContext:ut,useEffect:Qc,useImperativeHandle:Um,useInsertionEffect:km,useLayoutEffect:zm,useMemo:qm,useReducer:Pc,useRef:Om,useState:function(){return Pc(ws)},useDebugValue:Yc,useDeferredValue:function(t,s){var a=We();return Be===null?Kc(a,t,s):Hm(a,Be.memoizedState,t,s)},useTransition:function(){var t=Pc(ws)[0],s=We().memoizedState;return[typeof t=="boolean"?t:en(t),s]},useSyncExternalStore:fm,useId:Qm,useHostTransitionStatus:Vc,useFormState:Rm,useActionState:Rm,useOptimistic:function(t,s){var a=We();return Be!==null?vm(a,Be,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:qc,useCacheRefresh:Ym};Zm.useEffectEvent=Dm;function Jc(t,s,a,n){s=t.memoizedState,a=a(n,s),a=a==null?s:y({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Wc={enqueueSetState:function(t,s,a){t=t._reactInternals;var n=qt(),o=Ys(n);o.payload=s,a!=null&&(o.callback=a),s=Ks(t,o,n),s!==null&&(Ct(s,t,n),Zl(s,t,n))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var n=qt(),o=Ys(n);o.tag=1,o.payload=s,a!=null&&(o.callback=a),s=Ks(t,o,n),s!==null&&(Ct(s,t,n),Zl(s,t,n))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=qt(),n=Ys(a);n.tag=2,s!=null&&(n.callback=s),s=Ks(t,n,a),s!==null&&(Ct(s,t,a),Zl(s,t,a))}};function Jm(t,s,a,n,o,d,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,d,p):s.prototype&&s.prototype.isPureReactComponent?!Fl(a,n)||!Fl(o,d):!0}function Wm(t,s,a,n){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,n),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,n),s.state!==t&&Wc.enqueueReplaceState(s,s.state,null)}function Aa(t,s){var a=s;if("ref"in s){a={};for(var n in s)n!=="ref"&&(a[n]=s[n])}if(t=t.defaultProps){a===s&&(a=y({},a));for(var o in t)a[o]===void 0&&(a[o]=t[o])}return a}function Im(t){tr(t)}function ex(t){console.error(t)}function tx(t){tr(t)}function _r(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(n){setTimeout(function(){throw n})}}function sx(t,s,a){try{var n=t.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Ic(t,s,a){return a=Ys(a),a.tag=3,a.payload={element:null},a.callback=function(){_r(t,s)},a}function ax(t){return t=Ys(t),t.tag=3,t}function lx(t,s,a,n){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var d=n.value;t.payload=function(){return o(d)},t.callback=function(){sx(s,a,n)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){sx(s,a,n),typeof o!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var j=n.stack;this.componentDidCatch(n.value,{componentStack:j!==null?j:""})})}function fg(t,s,a,n,o){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(s=a.alternate,s!==null&&el(s,a,o,!0),a=zt.current,a!==null){switch(a.tag){case 31:case 13:return Gt===null?Br():a.alternate===null&&Xe===0&&(Xe=3),a.flags&=-257,a.flags|=65536,a.lanes=o,n===ur?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([n]):s.add(n),So(t,n,o)),!1;case 22:return a.flags|=65536,n===ur?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([n]):a.add(n)),So(t,n,o)),!1}throw Error(c(435,a.tag))}return So(t,n,o),Br(),!1}if(_e)return s=zt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=o,n!==bc&&(t=Error(c(422),{cause:n}),Yl($t(t,a)))):(n!==bc&&(s=Error(c(423),{cause:n}),Yl($t(s,a))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,n=$t(n,a),o=Ic(t.stateNode,n,o),Tc(t,o),Xe!==4&&(Xe=2)),!1;var d=Error(c(520),{cause:n});if(d=$t(d,a),un===null?un=[d]:un.push(d),Xe!==4&&(Xe=2),s===null)return!0;n=$t(n,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=o&-o,a.lanes|=t,t=Ic(a.stateNode,n,t),Tc(a,t),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ws===null||!Ws.has(d))))return a.flags|=65536,o&=-o,a.lanes|=o,o=ax(o),lx(o,t,a,n),Tc(a,o),!1}a=a.return}while(a!==null);return!1}var eo=Error(c(461)),tt=!1;function mt(t,s,a,n){s.child=t===null?cm(s,null,a,n):Ca(s,t.child,a,n)}function nx(t,s,a,n,o){a=a.render;var d=s.ref;if("ref"in n){var p={};for(var j in n)j!=="ref"&&(p[j]=n[j])}else p=n;return Na(s),n=zc(t,s,a,p,d,o),j=Bc(),t!==null&&!tt?(Uc(t,s,o),_s(t,s,o)):(_e&&j&&pc(s),s.flags|=1,mt(t,s,n,o),s.child)}function rx(t,s,a,n,o){if(t===null){var d=a.type;return typeof d=="function"&&!xc(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,ix(t,s,d,n,o)):(t=nr(a.type,null,n,s,s.mode,o),t.ref=s.ref,t.return=s,s.child=t)}if(d=t.child,!co(t,o)){var p=d.memoizedProps;if(a=a.compare,a=a!==null?a:Fl,a(p,n)&&t.ref===s.ref)return _s(t,s,o)}return s.flags|=1,t=bs(d,n),t.ref=s.ref,t.return=s,s.child=t}function ix(t,s,a,n,o){if(t!==null){var d=t.memoizedProps;if(Fl(d,n)&&t.ref===s.ref)if(tt=!1,s.pendingProps=n=d,co(t,o))(t.flags&131072)!==0&&(tt=!0);else return s.lanes=t.lanes,_s(t,s,o)}return to(t,s,a,n,o)}function cx(t,s,a,n){var o=n.children,d=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(n=s.child=t.child,o=0;n!==null;)o=o|n.lanes|n.childLanes,n=n.sibling;n=o&~d}else n=0,s.child=null;return ox(t,s,d,a,n)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&or(s,d!==null?d.cachePool:null),d!==null?um(s,d):Oc(),mm(s);else return n=s.lanes=536870912,ox(t,s,d!==null?d.baseLanes|a:a,a,n)}else d!==null?(or(s,d.cachePool),um(s,d),Vs(),s.memoizedState=null):(t!==null&&or(s,null),Oc(),Vs());return mt(t,s,o,a),s.child}function an(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function ox(t,s,a,n,o){var d=Sc();return d=d===null?null:{parent:Ie._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},t!==null&&or(s,null),Oc(),mm(s),t!==null&&el(t,s,n,!0),s.childLanes=o,null}function Sr(t,s){return s=Er({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function dx(t,s,a){return Ca(s,t.child,null,a),t=Sr(s,s.pendingProps),t.flags|=2,Bt(s),s.memoizedState=null,t}function pg(t,s,a){var n=s.pendingProps,o=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(_e){if(n.mode==="hidden")return t=Sr(s,n),s.lanes=536870912,an(null,t);if(Dc(s),(t=Fe)?(t=Nh(t,Kt),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:is,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},a=Gu(t),a.return=s,s.child=a,dt=s,Fe=null)):t=null,t===null)throw Fs(s);return s.lanes=536870912,null}return Sr(s,n)}var d=t.memoizedState;if(d!==null){var p=d.dehydrated;if(Dc(s),o)if(s.flags&256)s.flags&=-257,s=dx(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(c(558));else if(tt||el(t,s,a,!1),o=(a&t.childLanes)!==0,tt||o){if(n=qe,n!==null&&(p=eu(n,a),p!==0&&p!==d.retryLane))throw d.retryLane=p,ba(t,p),Ct(n,t,p),eo;Br(),s=dx(t,s,a)}else t=d.treeContext,Fe=Vt(p.nextSibling),dt=s,_e=!0,Ps=null,Kt=!1,t!==null&&Zu(s,t),s=Sr(s,n),s.flags|=4096;return s}return t=bs(t.child,{mode:n.mode,children:n.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Cr(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(c(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function to(t,s,a,n,o){return Na(s),a=zc(t,s,a,n,void 0,o),n=Bc(),t!==null&&!tt?(Uc(t,s,o),_s(t,s,o)):(_e&&n&&pc(s),s.flags|=1,mt(t,s,a,o),s.child)}function ux(t,s,a,n,o,d){return Na(s),s.updateQueue=null,a=hm(s,n,a,o),xm(t),n=Bc(),t!==null&&!tt?(Uc(t,s,d),_s(t,s,d)):(_e&&n&&pc(s),s.flags|=1,mt(t,s,a,d),s.child)}function mx(t,s,a,n,o){if(Na(s),s.stateNode===null){var d=Za,p=a.contextType;typeof p=="object"&&p!==null&&(d=ut(p)),d=new a(n,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wc,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=n,d.state=s.memoizedState,d.refs={},Ec(s),p=a.contextType,d.context=typeof p=="object"&&p!==null?ut(p):Za,d.state=s.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Jc(s,a,p,n),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(p=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),p!==d.state&&Wc.enqueueReplaceState(d,d.state,null),Wl(s,n,d,o),Jl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),n=!0}else if(t===null){d=s.stateNode;var j=s.memoizedProps,E=Aa(a,j);d.props=E;var U=d.context,Q=a.contextType;p=Za,typeof Q=="object"&&Q!==null&&(p=ut(Q));var V=a.getDerivedStateFromProps;Q=typeof V=="function"||typeof d.getSnapshotBeforeUpdate=="function",j=s.pendingProps!==j,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(j||U!==p)&&Wm(s,d,n,p),Qs=!1;var q=s.memoizedState;d.state=q,Wl(s,n,d,o),Jl(),U=s.memoizedState,j||q!==U||Qs?(typeof V=="function"&&(Jc(s,a,V,n),U=s.memoizedState),(E=Qs||Jm(s,a,E,n,q,U,p))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=n,s.memoizedState=U),d.props=n,d.state=U,d.context=p,n=E):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),n=!1)}else{d=s.stateNode,Ac(t,s),p=s.memoizedProps,Q=Aa(a,p),d.props=Q,V=s.pendingProps,q=d.context,U=a.contextType,E=Za,typeof U=="object"&&U!==null&&(E=ut(U)),j=a.getDerivedStateFromProps,(U=typeof j=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==V||q!==E)&&Wm(s,d,n,E),Qs=!1,q=s.memoizedState,d.state=q,Wl(s,n,d,o),Jl();var $=s.memoizedState;p!==V||q!==$||Qs||t!==null&&t.dependencies!==null&&ir(t.dependencies)?(typeof j=="function"&&(Jc(s,a,j,n),$=s.memoizedState),(Q=Qs||Jm(s,a,Q,n,q,$,E)||t!==null&&t.dependencies!==null&&ir(t.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(n,$,E),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(n,$,E)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(s.flags|=1024),s.memoizedProps=n,s.memoizedState=$),d.props=n,d.state=$,d.context=E,n=Q):(typeof d.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(s.flags|=1024),n=!1)}return d=n,Cr(t,s),n=(s.flags&128)!==0,d||n?(d=s.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,t!==null&&n?(s.child=Ca(s,t.child,null,o),s.child=Ca(s,null,a,o)):mt(t,s,a,o),s.memoizedState=d.state,t=s.child):t=_s(t,s,o),t}function xx(t,s,a,n){return ja(),s.flags|=256,mt(t,s,a,n),s.child}var so={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ao(t){return{baseLanes:t,cachePool:sm()}}function lo(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Lt),t}function hx(t,s,a){var n=s.pendingProps,o=!1,d=(s.flags&128)!==0,p;if((p=d)||(p=t!==null&&t.memoizedState===null?!1:(Je.current&2)!==0),p&&(o=!0,s.flags&=-129),p=(s.flags&32)!==0,s.flags&=-33,t===null){if(_e){if(o?Gs(s):Vs(),(t=Fe)?(t=Nh(t,Kt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Hs!==null?{id:is,overflow:cs}:null,retryLane:536870912,hydrationErrors:null},a=Gu(t),a.return=s,s.child=a,dt=s,Fe=null)):t=null,t===null)throw Fs(s);return Po(t)?s.lanes=32:s.lanes=536870912,null}var j=n.children;return n=n.fallback,o?(Vs(),o=s.mode,j=Er({mode:"hidden",children:j},o),n=ya(n,o,a,null),j.return=s,n.return=s,j.sibling=n,s.child=j,n=s.child,n.memoizedState=ao(a),n.childLanes=lo(t,p,a),s.memoizedState=so,an(null,n)):(Gs(s),no(s,j))}var E=t.memoizedState;if(E!==null&&(j=E.dehydrated,j!==null)){if(d)s.flags&256?(Gs(s),s.flags&=-257,s=ro(t,s,a)):s.memoizedState!==null?(Vs(),s.child=t.child,s.flags|=128,s=null):(Vs(),j=n.fallback,o=s.mode,n=Er({mode:"visible",children:n.children},o),j=ya(j,o,a,null),j.flags|=2,n.return=s,j.return=s,n.sibling=j,s.child=n,Ca(s,t.child,null,a),n=s.child,n.memoizedState=ao(a),n.childLanes=lo(t,p,a),s.memoizedState=so,s=an(null,n));else if(Gs(s),Po(j)){if(p=j.nextSibling&&j.nextSibling.dataset,p)var U=p.dgst;p=U,n=Error(c(419)),n.stack="",n.digest=p,Yl({value:n,source:null,stack:null}),s=ro(t,s,a)}else if(tt||el(t,s,a,!1),p=(a&t.childLanes)!==0,tt||p){if(p=qe,p!==null&&(n=eu(p,a),n!==0&&n!==E.retryLane))throw E.retryLane=n,ba(t,n),Ct(p,t,n),eo;Ho(j)||Br(),s=ro(t,s,a)}else Ho(j)?(s.flags|=192,s.child=t.child,s=null):(t=E.treeContext,Fe=Vt(j.nextSibling),dt=s,_e=!0,Ps=null,Kt=!1,t!==null&&Zu(s,t),s=no(s,n.children),s.flags|=4096);return s}return o?(Vs(),j=n.fallback,o=s.mode,E=t.child,U=E.sibling,n=bs(E,{mode:"hidden",children:n.children}),n.subtreeFlags=E.subtreeFlags&65011712,U!==null?j=bs(U,j):(j=ya(j,o,a,null),j.flags|=2),j.return=s,n.return=s,n.sibling=j,s.child=n,an(null,n),n=s.child,j=t.child.memoizedState,j===null?j=ao(a):(o=j.cachePool,o!==null?(E=Ie._currentValue,o=o.parent!==E?{parent:E,pool:E}:o):o=sm(),j={baseLanes:j.baseLanes|a,cachePool:o}),n.memoizedState=j,n.childLanes=lo(t,p,a),s.memoizedState=so,an(t.child,n)):(Gs(s),a=t.child,t=a.sibling,a=bs(a,{mode:"visible",children:n.children}),a.return=s,a.sibling=null,t!==null&&(p=s.deletions,p===null?(s.deletions=[t],s.flags|=16):p.push(t)),s.child=a,s.memoizedState=null,a)}function no(t,s){return s=Er({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Er(t,s){return t=kt(22,t,null,s),t.lanes=0,t}function ro(t,s,a){return Ca(s,t.child,null,a),t=no(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function fx(t,s,a){t.lanes|=s;var n=t.alternate;n!==null&&(n.lanes|=s),vc(t.return,s,a)}function io(t,s,a,n,o,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:o,treeForkCount:d}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=n,p.tail=a,p.tailMode=o,p.treeForkCount=d)}function px(t,s,a){var n=s.pendingProps,o=n.revealOrder,d=n.tail;n=n.children;var p=Je.current,j=(p&2)!==0;if(j?(p=p&1|2,s.flags|=128):p&=1,W(Je,p),mt(t,s,n,a),n=_e?Ql:0,!j&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fx(t,a,s);else if(t.tag===19)fx(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(o){case"forwards":for(a=s.child,o=null;a!==null;)t=a.alternate,t!==null&&fr(t)===null&&(o=a),a=a.sibling;a=o,a===null?(o=s.child,s.child=null):(o=a.sibling,a.sibling=null),io(s,!1,o,a,d,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=s.child,s.child=null;o!==null;){if(t=o.alternate,t!==null&&fr(t)===null){s.child=o;break}t=o.sibling,o.sibling=a,a=o,o=t}io(s,!0,a,null,d,n);break;case"together":io(s,!1,null,null,void 0,n);break;default:s.memoizedState=null}return s.child}function _s(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Js|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(el(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(c(153));if(s.child!==null){for(t=s.child,a=bs(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=bs(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function co(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&ir(t)))}function gg(t,s,a){switch(s.tag){case 3:gt(s,s.stateNode.containerInfo),$s(s,Ie,t.memoizedState.cache),ja();break;case 27:case 5:Tl(s);break;case 4:gt(s,s.stateNode.containerInfo);break;case 10:$s(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Dc(s),null;break;case 13:var n=s.memoizedState;if(n!==null)return n.dehydrated!==null?(Gs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?hx(t,s,a):(Gs(s),t=_s(t,s,a),t!==null?t.sibling:null);Gs(s);break;case 19:var o=(t.flags&128)!==0;if(n=(a&s.childLanes)!==0,n||(el(t,s,a,!1),n=(a&s.childLanes)!==0),o){if(n)return px(t,s,a);s.flags|=128}if(o=s.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),W(Je,Je.current),n)break;return null;case 22:return s.lanes=0,cx(t,s,a,s.pendingProps);case 24:$s(s,Ie,t.memoizedState.cache)}return _s(t,s,a)}function gx(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)tt=!0;else{if(!co(t,a)&&(s.flags&128)===0)return tt=!1,gg(t,s,a);tt=(t.flags&131072)!==0}else tt=!1,_e&&(s.flags&1048576)!==0&&Xu(s,Ql,s.index);switch(s.lanes=0,s.tag){case 16:e:{var n=s.pendingProps;if(t=_a(s.elementType),s.type=t,typeof t=="function")xc(t)?(n=Aa(t,n),s.tag=1,s=mx(null,s,t,n,a)):(s.tag=0,s=to(null,s,t,n,a));else{if(t!=null){var o=t.$$typeof;if(o===z){s.tag=11,s=nx(null,s,t,n,a);break e}else if(o===Y){s.tag=14,s=rx(null,s,t,n,a);break e}}throw s=Pe(t)||t,Error(c(306,s,""))}}return s;case 0:return to(t,s,s.type,s.pendingProps,a);case 1:return n=s.type,o=Aa(n,s.pendingProps),mx(t,s,n,o,a);case 3:e:{if(gt(s,s.stateNode.containerInfo),t===null)throw Error(c(387));n=s.pendingProps;var d=s.memoizedState;o=d.element,Ac(t,s),Wl(s,n,null,a);var p=s.memoizedState;if(n=p.cache,$s(s,Ie,n),n!==d.cache&&Nc(s,[Ie],a,!0),Jl(),n=p.element,d.isDehydrated)if(d={element:n,isDehydrated:!1,cache:p.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=xx(t,s,n,a);break e}else if(n!==o){o=$t(Error(c(424)),s),Yl(o),s=xx(t,s,n,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Fe=Vt(t.firstChild),dt=s,_e=!0,Ps=null,Kt=!0,a=cm(s,null,n,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ja(),n===o){s=_s(t,s,a);break e}mt(t,s,n,a)}s=s.child}return s;case 26:return Cr(t,s),t===null?(a=Ah(s.type,null,s.pendingProps,null))?s.memoizedState=a:_e||(a=s.type,t=s.pendingProps,n=$r(be.current).createElement(a),n[ot]=s,n[jt]=t,xt(n,a,t),rt(n),s.stateNode=n):s.memoizedState=Ah(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Tl(s),t===null&&_e&&(n=s.stateNode=Sh(s.type,s.pendingProps,be.current),dt=s,Kt=!0,o=Fe,sa(s.type)?(Fo=o,Fe=Vt(n.firstChild)):Fe=o),mt(t,s,s.pendingProps.children,a),Cr(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&_e&&((o=n=Fe)&&(n=Gg(n,s.type,s.pendingProps,Kt),n!==null?(s.stateNode=n,dt=s,Fe=Vt(n.firstChild),Kt=!1,o=!0):o=!1),o||Fs(s)),Tl(s),o=s.type,d=s.pendingProps,p=t!==null?t.memoizedProps:null,n=d.children,Uo(o,d)?n=null:p!==null&&Uo(o,p)&&(s.flags|=32),s.memoizedState!==null&&(o=zc(t,s,cg,null,null,a),yn._currentValue=o),Cr(t,s),mt(t,s,n,a),s.child;case 6:return t===null&&_e&&((t=a=Fe)&&(a=Vg(a,s.pendingProps,Kt),a!==null?(s.stateNode=a,dt=s,Fe=null,t=!0):t=!1),t||Fs(s)),null;case 13:return hx(t,s,a);case 4:return gt(s,s.stateNode.containerInfo),n=s.pendingProps,t===null?s.child=Ca(s,null,n,a):mt(t,s,n,a),s.child;case 11:return nx(t,s,s.type,s.pendingProps,a);case 7:return mt(t,s,s.pendingProps,a),s.child;case 8:return mt(t,s,s.pendingProps.children,a),s.child;case 12:return mt(t,s,s.pendingProps.children,a),s.child;case 10:return n=s.pendingProps,$s(s,s.type,n.value),mt(t,s,n.children,a),s.child;case 9:return o=s.type._context,n=s.pendingProps.children,Na(s),o=ut(o),n=n(o),s.flags|=1,mt(t,s,n,a),s.child;case 14:return rx(t,s,s.type,s.pendingProps,a);case 15:return ix(t,s,s.type,s.pendingProps,a);case 19:return px(t,s,a);case 31:return pg(t,s,a);case 22:return cx(t,s,a,s.pendingProps);case 24:return Na(s),n=ut(Ie),t===null?(o=Sc(),o===null&&(o=qe,d=wc(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=a),o=d),s.memoizedState={parent:n,cache:o},Ec(s),$s(s,Ie,o)):((t.lanes&a)!==0&&(Ac(t,s),Wl(s,null,null,a),Jl()),o=t.memoizedState,d=s.memoizedState,o.parent!==n?(o={parent:n,cache:n},s.memoizedState=o,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=o),$s(s,Ie,n)):(n=d.cache,$s(s,Ie,n),n!==o.cache&&Nc(s,[Ie],a,!0))),mt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(c(156,s.tag))}function Ss(t){t.flags|=4}function oo(t,s,a,n,o){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(o&335544128)===o)if(t.stateNode.complete)t.flags|=8192;else if(Qx())t.flags|=8192;else throw Sa=ur,Cc}else t.flags&=-16777217}function bx(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Dh(s))if(Qx())t.flags|=8192;else throw Sa=ur,Cc}function Ar(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Jd():536870912,t.lanes|=s,ml|=s)}function ln(t,s){if(!_e)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function $e(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,n=0;if(s)for(var o=t.child;o!==null;)a|=o.lanes|o.childLanes,n|=o.subtreeFlags&65011712,n|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)a|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=n,t.childLanes=a,s}function bg(t,s,a){var n=s.pendingProps;switch(gc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(s),null;case 1:return $e(s),null;case 3:return a=s.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),s.memoizedState.cache!==n&&(s.flags|=2048),vs(Ie),Ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ia(s)?Ss(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,yc())),$e(s),null;case 26:var o=s.type,d=s.memoizedState;return t===null?(Ss(s),d!==null?($e(s),bx(s,d)):($e(s),oo(s,o,null,n,a))):d?d!==t.memoizedState?(Ss(s),$e(s),bx(s,d)):($e(s),s.flags&=-16777217):(t=t.memoizedProps,t!==n&&Ss(s),$e(s),oo(s,o,t,n,a)),null;case 27:if(qn(s),a=be.current,o=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==n&&Ss(s);else{if(!n){if(s.stateNode===null)throw Error(c(166));return $e(s),null}t=I.current,Ia(s)?Ju(s):(t=Sh(o,n,a),s.stateNode=t,Ss(s))}return $e(s),null;case 5:if(qn(s),o=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==n&&Ss(s);else{if(!n){if(s.stateNode===null)throw Error(c(166));return $e(s),null}if(d=I.current,Ia(s))Ju(s);else{var p=$r(be.current);switch(d){case 1:d=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:d=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":d=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":d=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":d=p.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof n.is=="string"?p.createElement("select",{is:n.is}):p.createElement("select"),n.multiple?d.multiple=!0:n.size&&(d.size=n.size);break;default:d=typeof n.is=="string"?p.createElement(o,{is:n.is}):p.createElement(o)}}d[ot]=s,d[jt]=n;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)d.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=d;e:switch(xt(d,o,n),o){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ss(s)}}return $e(s),oo(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==n&&Ss(s);else{if(typeof n!="string"&&s.stateNode===null)throw Error(c(166));if(t=be.current,Ia(s)){if(t=s.stateNode,a=s.memoizedProps,n=null,o=dt,o!==null)switch(o.tag){case 27:case 5:n=o.memoizedProps}t[ot]=s,t=!!(t.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||hh(t.nodeValue,a)),t||Fs(s,!0)}else t=$r(t).createTextNode(n),t[ot]=s,s.stateNode=t}return $e(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(n=Ia(s),a!==null){if(t===null){if(!n)throw Error(c(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(557));t[ot]=s}else ja(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$e(s),t=!1}else a=yc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Bt(s),s):(Bt(s),null);if((s.flags&128)!==0)throw Error(c(558))}return $e(s),null;case 13:if(n=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=Ia(s),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(c(318));if(o=s.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(c(317));o[ot]=s}else ja(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$e(s),o=!1}else o=yc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return s.flags&256?(Bt(s),s):(Bt(s),null)}return Bt(s),(s.flags&128)!==0?(s.lanes=a,s):(a=n!==null,t=t!==null&&t.memoizedState!==null,a&&(n=s.child,o=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(o=n.alternate.memoizedState.cachePool.pool),d=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),d!==o&&(n.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Ar(s,s.updateQueue),$e(s),null);case 4:return Ze(),t===null&&Mo(s.stateNode.containerInfo),$e(s),null;case 10:return vs(s.type),$e(s),null;case 19:if(G(Je),n=s.memoizedState,n===null)return $e(s),null;if(o=(s.flags&128)!==0,d=n.rendering,d===null)if(o)ln(n,!1);else{if(Xe!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(d=fr(t),d!==null){for(s.flags|=128,ln(n,!1),t=d.updateQueue,s.updateQueue=t,Ar(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Ku(a,t),a=a.sibling;return W(Je,Je.current&1|2),_e&&ys(s,n.treeForkCount),s.child}t=t.sibling}n.tail!==null&&Rt()>Dr&&(s.flags|=128,o=!0,ln(n,!1),s.lanes=4194304)}else{if(!o)if(t=fr(d),t!==null){if(s.flags|=128,o=!0,t=t.updateQueue,s.updateQueue=t,Ar(s,t),ln(n,!0),n.tail===null&&n.tailMode==="hidden"&&!d.alternate&&!_e)return $e(s),null}else 2*Rt()-n.renderingStartTime>Dr&&a!==536870912&&(s.flags|=128,o=!0,ln(n,!1),s.lanes=4194304);n.isBackwards?(d.sibling=s.child,s.child=d):(t=n.last,t!==null?t.sibling=d:s.child=d,n.last=d)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Rt(),t.sibling=null,a=Je.current,W(Je,o?a&1|2:a&1),_e&&ys(s,n.treeForkCount),t):($e(s),null);case 22:case 23:return Bt(s),Mc(),n=s.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(s.flags|=8192):n&&(s.flags|=8192),n?(a&536870912)!==0&&(s.flags&128)===0&&($e(s),s.subtreeFlags&6&&(s.flags|=8192)):$e(s),a=s.updateQueue,a!==null&&Ar(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(s.flags|=2048),t!==null&&G(wa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),vs(Ie),$e(s),null;case 25:return null;case 30:return null}throw Error(c(156,s.tag))}function yg(t,s){switch(gc(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return vs(Ie),Ze(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return qn(s),null;case 31:if(s.memoizedState!==null){if(Bt(s),s.alternate===null)throw Error(c(340));ja()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Bt(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(c(340));ja()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return G(Je),null;case 4:return Ze(),null;case 10:return vs(s.type),null;case 22:case 23:return Bt(s),Mc(),t!==null&&G(wa),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return vs(Ie),null;case 25:return null;default:return null}}function yx(t,s){switch(gc(s),s.tag){case 3:vs(Ie),Ze();break;case 26:case 27:case 5:qn(s);break;case 4:Ze();break;case 31:s.memoizedState!==null&&Bt(s);break;case 13:Bt(s);break;case 19:G(Je);break;case 10:vs(s.type);break;case 22:case 23:Bt(s),Mc(),t!==null&&G(wa);break;case 24:vs(Ie)}}function nn(t,s){try{var a=s.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var o=n.next;a=o;do{if((a.tag&t)===t){n=void 0;var d=a.create,p=a.inst;n=d(),p.destroy=n}a=a.next}while(a!==o)}}catch(j){ze(s,s.return,j)}}function Xs(t,s,a){try{var n=s.updateQueue,o=n!==null?n.lastEffect:null;if(o!==null){var d=o.next;n=d;do{if((n.tag&t)===t){var p=n.inst,j=p.destroy;if(j!==void 0){p.destroy=void 0,o=s;var E=a,U=j;try{U()}catch(Q){ze(o,E,Q)}}}n=n.next}while(n!==d)}}catch(Q){ze(s,s.return,Q)}}function jx(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{dm(s,a)}catch(n){ze(t,t.return,n)}}}function vx(t,s,a){a.props=Aa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(n){ze(t,s,n)}}function rn(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof a=="function"?t.refCleanup=a(n):a.current=n}}catch(o){ze(t,s,o)}}function os(t,s){var a=t.ref,n=t.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(o){ze(t,s,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){ze(t,s,o)}else a.current=null}function Nx(t){var s=t.type,a=t.memoizedProps,n=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(o){ze(t,t.return,o)}}function uo(t,s,a){try{var n=t.stateNode;Pg(n,t.type,a,s),n[jt]=s}catch(o){ze(t,t.return,o)}}function wx(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&sa(t.type)||t.tag===4}function mo(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&sa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xo(t,s,a){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ps));else if(n!==4&&(n===27&&sa(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(xo(t,s,a),t=t.sibling;t!==null;)xo(t,s,a),t=t.sibling}function Tr(t,s,a){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(n!==4&&(n===27&&sa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Tr(t,s,a),t=t.sibling;t!==null;)Tr(t,s,a),t=t.sibling}function _x(t){var s=t.stateNode,a=t.memoizedProps;try{for(var n=t.type,o=s.attributes;o.length;)s.removeAttributeNode(o[0]);xt(s,n,a),s[ot]=t,s[jt]=a}catch(d){ze(t,t.return,d)}}var Cs=!1,st=!1,ho=!1,Sx=typeof WeakSet=="function"?WeakSet:Set,it=null;function jg(t,s){if(t=t.containerInfo,zo=Zr,t=Uu(t),rc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var o=n.anchorOffset,d=n.focusNode;n=n.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var p=0,j=-1,E=-1,U=0,Q=0,V=t,q=null;t:for(;;){for(var $;V!==a||o!==0&&V.nodeType!==3||(j=p+o),V!==d||n!==0&&V.nodeType!==3||(E=p+n),V.nodeType===3&&(p+=V.nodeValue.length),($=V.firstChild)!==null;)q=V,V=$;for(;;){if(V===t)break t;if(q===a&&++U===o&&(j=p),q===d&&++Q===n&&(E=p),($=V.nextSibling)!==null)break;V=q,q=V.parentNode}V=$}a=j===-1||E===-1?null:{start:j,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bo={focusedElem:t,selectionRange:a},Zr=!1,it=s;it!==null;)if(s=it,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,it=t;else for(;it!==null;){switch(s=it,d=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)o=t[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=s,o=d.memoizedProps,d=d.memoizedState,n=a.stateNode;try{var te=Aa(a.type,o);t=n.getSnapshotBeforeUpdate(te,d),n.__reactInternalSnapshotBeforeUpdate=t}catch(oe){ze(a,a.return,oe)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)qo(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qo(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(c(163))}if(t=s.sibling,t!==null){t.return=s.return,it=t;break}it=s.return}}function Cx(t,s,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:As(t,a),n&4&&nn(5,a);break;case 1:if(As(t,a),n&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(p){ze(a,a.return,p)}else{var o=Aa(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(o,s,t.__reactInternalSnapshotBeforeUpdate)}catch(p){ze(a,a.return,p)}}n&64&&jx(a),n&512&&rn(a,a.return);break;case 3:if(As(t,a),n&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{dm(t,s)}catch(p){ze(a,a.return,p)}}break;case 27:s===null&&n&4&&_x(a);case 26:case 5:As(t,a),s===null&&n&4&&Nx(a),n&512&&rn(a,a.return);break;case 12:As(t,a);break;case 31:As(t,a),n&4&&Tx(t,a);break;case 13:As(t,a),n&4&&Rx(t,a),n&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Tg.bind(null,a),Xg(t,a))));break;case 22:if(n=a.memoizedState!==null||Cs,!n){s=s!==null&&s.memoizedState!==null||st,o=Cs;var d=st;Cs=n,(st=s)&&!d?Ts(t,a,(a.subtreeFlags&8772)!==0):As(t,a),Cs=o,st=d}break;case 30:break;default:As(t,a)}}function Ex(t){var s=t.alternate;s!==null&&(t.alternate=null,Ex(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&$i(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Qe=null,Nt=!1;function Es(t,s,a){for(a=a.child;a!==null;)Ax(t,s,a),a=a.sibling}function Ax(t,s,a){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Rl,a)}catch{}switch(a.tag){case 26:st||os(a,s),Es(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:st||os(a,s);var n=Qe,o=Nt;sa(a.type)&&(Qe=a.stateNode,Nt=!1),Es(t,s,a),pn(a.stateNode),Qe=n,Nt=o;break;case 5:st||os(a,s);case 6:if(n=Qe,o=Nt,Qe=null,Es(t,s,a),Qe=n,Nt=o,Qe!==null)if(Nt)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(a.stateNode)}catch(d){ze(a,s,d)}else try{Qe.removeChild(a.stateNode)}catch(d){ze(a,s,d)}break;case 18:Qe!==null&&(Nt?(t=Qe,jh(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),jl(t)):jh(Qe,a.stateNode));break;case 4:n=Qe,o=Nt,Qe=a.stateNode.containerInfo,Nt=!0,Es(t,s,a),Qe=n,Nt=o;break;case 0:case 11:case 14:case 15:Xs(2,a,s),st||Xs(4,a,s),Es(t,s,a);break;case 1:st||(os(a,s),n=a.stateNode,typeof n.componentWillUnmount=="function"&&vx(a,s,n)),Es(t,s,a);break;case 21:Es(t,s,a);break;case 22:st=(n=st)||a.memoizedState!==null,Es(t,s,a),st=n;break;default:Es(t,s,a)}}function Tx(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{jl(t)}catch(a){ze(s,s.return,a)}}}function Rx(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(a){ze(s,s.return,a)}}function vg(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Sx),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Sx),s;default:throw Error(c(435,t.tag))}}function Rr(t,s){var a=vg(t);s.forEach(function(n){if(!a.has(n)){a.add(n);var o=Rg.bind(null,t,n);n.then(o,o)}})}function wt(t,s){var a=s.deletions;if(a!==null)for(var n=0;n<a.length;n++){var o=a[n],d=t,p=s,j=p;e:for(;j!==null;){switch(j.tag){case 27:if(sa(j.type)){Qe=j.stateNode,Nt=!1;break e}break;case 5:Qe=j.stateNode,Nt=!1;break e;case 3:case 4:Qe=j.stateNode.containerInfo,Nt=!0;break e}j=j.return}if(Qe===null)throw Error(c(160));Ax(d,p,o),Qe=null,Nt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Ox(s,t),s=s.sibling}var ts=null;function Ox(t,s){var a=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wt(s,t),_t(t),n&4&&(Xs(3,t,t.return),nn(3,t),Xs(5,t,t.return));break;case 1:wt(s,t),_t(t),n&512&&(st||a===null||os(a,a.return)),n&64&&Cs&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var o=ts;if(wt(s,t),_t(t),n&512&&(st||a===null||os(a,a.return)),n&4){var d=a!==null?a.memoizedState:null;if(n=t.memoizedState,a===null)if(n===null)if(t.stateNode===null){e:{n=t.type,a=t.memoizedProps,o=o.ownerDocument||o;t:switch(n){case"title":d=o.getElementsByTagName("title")[0],(!d||d[Dl]||d[ot]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(n),o.head.insertBefore(d,o.querySelector("head > title"))),xt(d,n,a),d[ot]=t,rt(d),n=d;break e;case"link":var p=Oh("link","href",o).get(n+(a.href||""));if(p){for(var j=0;j<p.length;j++)if(d=p[j],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(j,1);break t}}d=o.createElement(n),xt(d,n,a),o.head.appendChild(d);break;case"meta":if(p=Oh("meta","content",o).get(n+(a.content||""))){for(j=0;j<p.length;j++)if(d=p[j],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(j,1);break t}}d=o.createElement(n),xt(d,n,a),o.head.appendChild(d);break;default:throw Error(c(468,n))}d[ot]=t,rt(d),n=d}t.stateNode=n}else Mh(o,t.type,t.stateNode);else t.stateNode=Rh(o,n,t.memoizedProps);else d!==n?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,n===null?Mh(o,t.type,t.stateNode):Rh(o,n,t.memoizedProps)):n===null&&t.stateNode!==null&&uo(t,t.memoizedProps,a.memoizedProps)}break;case 27:wt(s,t),_t(t),n&512&&(st||a===null||os(a,a.return)),a!==null&&n&4&&uo(t,t.memoizedProps,a.memoizedProps);break;case 5:if(wt(s,t),_t(t),n&512&&(st||a===null||os(a,a.return)),t.flags&32){o=t.stateNode;try{$a(o,"")}catch(te){ze(t,t.return,te)}}n&4&&t.stateNode!=null&&(o=t.memoizedProps,uo(t,o,a!==null?a.memoizedProps:o)),n&1024&&(ho=!0);break;case 6:if(wt(s,t),_t(t),n&4){if(t.stateNode===null)throw Error(c(162));n=t.memoizedProps,a=t.stateNode;try{a.nodeValue=n}catch(te){ze(t,t.return,te)}}break;case 3:if(Kr=null,o=ts,ts=Qr(s.containerInfo),wt(s,t),ts=o,_t(t),n&4&&a!==null&&a.memoizedState.isDehydrated)try{jl(s.containerInfo)}catch(te){ze(t,t.return,te)}ho&&(ho=!1,Mx(t));break;case 4:n=ts,ts=Qr(t.stateNode.containerInfo),wt(s,t),_t(t),ts=n;break;case 12:wt(s,t),_t(t);break;case 31:wt(s,t),_t(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Rr(t,n)));break;case 13:wt(s,t),_t(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mr=Rt()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Rr(t,n)));break;case 22:o=t.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,U=Cs,Q=st;if(Cs=U||o,st=Q||E,wt(s,t),st=Q,Cs=U,_t(t),n&8192)e:for(s=t.stateNode,s._visibility=o?s._visibility&-2:s._visibility|1,o&&(a===null||E||Cs||st||Ta(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){E=a=s;try{if(d=E.stateNode,o)p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{j=E.stateNode;var V=E.memoizedProps.style,q=V!=null&&V.hasOwnProperty("display")?V.display:null;j.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(te){ze(E,E.return,te)}}}else if(s.tag===6){if(a===null){E=s;try{E.stateNode.nodeValue=o?"":E.memoizedProps}catch(te){ze(E,E.return,te)}}}else if(s.tag===18){if(a===null){E=s;try{var $=E.stateNode;o?vh($,!0):vh(E.stateNode,!1)}catch(te){ze(E,E.return,te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}n&4&&(n=t.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Rr(t,a))));break;case 19:wt(s,t),_t(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Rr(t,n)));break;case 30:break;case 21:break;default:wt(s,t),_t(t)}}function _t(t){var s=t.flags;if(s&2){try{for(var a,n=t.return;n!==null;){if(wx(n)){a=n;break}n=n.return}if(a==null)throw Error(c(160));switch(a.tag){case 27:var o=a.stateNode,d=mo(t);Tr(t,d,o);break;case 5:var p=a.stateNode;a.flags&32&&($a(p,""),a.flags&=-33);var j=mo(t);Tr(t,j,p);break;case 3:case 4:var E=a.stateNode.containerInfo,U=mo(t);xo(t,U,E);break;default:throw Error(c(161))}}catch(Q){ze(t,t.return,Q)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Mx(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Mx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function As(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Cx(t,s.alternate,s),s=s.sibling}function Ta(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Xs(4,s,s.return),Ta(s);break;case 1:os(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&vx(s,s.return,a),Ta(s);break;case 27:pn(s.stateNode);case 26:case 5:os(s,s.return),Ta(s);break;case 22:s.memoizedState===null&&Ta(s);break;case 30:Ta(s);break;default:Ta(s)}t=t.sibling}}function Ts(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var n=s.alternate,o=t,d=s,p=d.flags;switch(d.tag){case 0:case 11:case 15:Ts(o,d,a),nn(4,d);break;case 1:if(Ts(o,d,a),n=d,o=n.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(U){ze(n,n.return,U)}if(n=d,o=n.updateQueue,o!==null){var j=n.stateNode;try{var E=o.shared.hiddenCallbacks;if(E!==null)for(o.shared.hiddenCallbacks=null,o=0;o<E.length;o++)om(E[o],j)}catch(U){ze(n,n.return,U)}}a&&p&64&&jx(d),rn(d,d.return);break;case 27:_x(d);case 26:case 5:Ts(o,d,a),a&&n===null&&p&4&&Nx(d),rn(d,d.return);break;case 12:Ts(o,d,a);break;case 31:Ts(o,d,a),a&&p&4&&Tx(o,d);break;case 13:Ts(o,d,a),a&&p&4&&Rx(o,d);break;case 22:d.memoizedState===null&&Ts(o,d,a),rn(d,d.return);break;case 30:break;default:Ts(o,d,a)}s=s.sibling}}function fo(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Kl(a))}function po(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Kl(t))}function ss(t,s,a,n){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Dx(t,s,a,n),s=s.sibling}function Dx(t,s,a,n){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ss(t,s,a,n),o&2048&&nn(9,s);break;case 1:ss(t,s,a,n);break;case 3:ss(t,s,a,n),o&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Kl(t)));break;case 12:if(o&2048){ss(t,s,a,n),t=s.stateNode;try{var d=s.memoizedProps,p=d.id,j=d.onPostCommit;typeof j=="function"&&j(p,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(E){ze(s,s.return,E)}}else ss(t,s,a,n);break;case 31:ss(t,s,a,n);break;case 13:ss(t,s,a,n);break;case 23:break;case 22:d=s.stateNode,p=s.alternate,s.memoizedState!==null?d._visibility&2?ss(t,s,a,n):cn(t,s):d._visibility&2?ss(t,s,a,n):(d._visibility|=2,ol(t,s,a,n,(s.subtreeFlags&10256)!==0||!1)),o&2048&&fo(p,s);break;case 24:ss(t,s,a,n),o&2048&&po(s.alternate,s);break;default:ss(t,s,a,n)}}function ol(t,s,a,n,o){for(o=o&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=t,p=s,j=a,E=n,U=p.flags;switch(p.tag){case 0:case 11:case 15:ol(d,p,j,E,o),nn(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?ol(d,p,j,E,o):cn(d,p):(Q._visibility|=2,ol(d,p,j,E,o)),o&&U&2048&&fo(p.alternate,p);break;case 24:ol(d,p,j,E,o),o&&U&2048&&po(p.alternate,p);break;default:ol(d,p,j,E,o)}s=s.sibling}}function cn(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,n=s,o=n.flags;switch(n.tag){case 22:cn(a,n),o&2048&&fo(n.alternate,n);break;case 24:cn(a,n),o&2048&&po(n.alternate,n);break;default:cn(a,n)}s=s.sibling}}var on=8192;function dl(t,s,a){if(t.subtreeFlags&on)for(t=t.child;t!==null;)kx(t,s,a),t=t.sibling}function kx(t,s,a){switch(t.tag){case 26:dl(t,s,a),t.flags&on&&t.memoizedState!==null&&ib(a,ts,t.memoizedState,t.memoizedProps);break;case 5:dl(t,s,a);break;case 3:case 4:var n=ts;ts=Qr(t.stateNode.containerInfo),dl(t,s,a),ts=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=on,on=16777216,dl(t,s,a),on=n):dl(t,s,a));break;default:dl(t,s,a)}}function zx(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function dn(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var n=s[a];it=n,Ux(n,t)}zx(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bx(t),t=t.sibling}function Bx(t){switch(t.tag){case 0:case 11:case 15:dn(t),t.flags&2048&&Xs(9,t,t.return);break;case 3:dn(t);break;case 12:dn(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Or(t)):dn(t);break;default:dn(t)}}function Or(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var n=s[a];it=n,Ux(n,t)}zx(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Xs(8,s,s.return),Or(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Or(s));break;default:Or(s)}t=t.sibling}}function Ux(t,s){for(;it!==null;){var a=it;switch(a.tag){case 0:case 11:case 15:Xs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Kl(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,it=n;else e:for(a=t;it!==null;){n=it;var o=n.sibling,d=n.return;if(Ex(n),n===a){it=null;break e}if(o!==null){o.return=d,it=o;break e}it=d}}}var Ng={getCacheForType:function(t){var s=ut(Ie),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return ut(Ie).controller.signal}},wg=typeof WeakMap=="function"?WeakMap:Map,Re=0,qe=null,ye=null,ve=0,ke=0,Ut=null,Zs=!1,ul=!1,go=!1,Rs=0,Xe=0,Js=0,Ra=0,bo=0,Lt=0,ml=0,un=null,St=null,yo=!1,Mr=0,Lx=0,Dr=1/0,kr=null,Ws=null,lt=0,Is=null,xl=null,Os=0,jo=0,vo=null,qx=null,mn=0,No=null;function qt(){return(Re&2)!==0&&ve!==0?ve&-ve:P.T!==null?Ao():tu()}function Hx(){if(Lt===0)if((ve&536870912)===0||_e){var t=Fn;Fn<<=1,(Fn&3932160)===0&&(Fn=262144),Lt=t}else Lt=536870912;return t=zt.current,t!==null&&(t.flags|=32),Lt}function Ct(t,s,a){(t===qe&&(ke===2||ke===9)||t.cancelPendingCommit!==null)&&(hl(t,0),ea(t,ve,Lt,!1)),Ml(t,a),((Re&2)===0||t!==qe)&&(t===qe&&((Re&2)===0&&(Ra|=a),Xe===4&&ea(t,ve,Lt,!1)),ds(t))}function Px(t,s,a){if((Re&6)!==0)throw Error(c(327));var n=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Ol(t,s),o=n?Cg(t,s):_o(t,s,!0),d=n;do{if(o===0){ul&&!n&&ea(t,s,0,!1);break}else{if(a=t.current.alternate,d&&!_g(a)){o=_o(t,s,!1),d=!1;continue}if(o===2){if(d=s,t.errorRecoveryDisabledLanes&d)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){s=p;e:{var j=t;o=un;var E=j.current.memoizedState.isDehydrated;if(E&&(hl(j,p).flags|=256),p=_o(j,p,!1),p!==2){if(go&&!E){j.errorRecoveryDisabledLanes|=d,Ra|=d,o=4;break e}d=St,St=o,d!==null&&(St===null?St=d:St.push.apply(St,d))}o=p}if(d=!1,o!==2)continue}}if(o===1){hl(t,0),ea(t,s,0,!0);break}e:{switch(n=t,d=o,d){case 0:case 1:throw Error(c(345));case 4:if((s&4194048)!==s)break;case 6:ea(n,s,Lt,!Zs);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(c(329))}if((s&62914560)===s&&(o=Mr+300-Rt(),10<o)){if(ea(n,s,Lt,!Zs),Qn(n,0,!0)!==0)break e;Os=s,n.timeoutHandle=bh(Fx.bind(null,n,a,St,kr,yo,s,Lt,Ra,ml,Zs,d,"Throttled",-0,0),o);break e}Fx(n,a,St,kr,yo,s,Lt,Ra,ml,Zs,d,null,-0,0)}}break}while(!0);ds(t)}function Fx(t,s,a,n,o,d,p,j,E,U,Q,V,q,$){if(t.timeoutHandle=-1,V=s.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ps},kx(s,d,V);var te=(d&62914560)===d?Mr-Rt():(d&4194048)===d?Lx-Rt():0;if(te=cb(V,te),te!==null){Os=d,t.cancelPendingCommit=te(Zx.bind(null,t,s,d,a,n,o,p,j,E,Q,V,null,q,$)),ea(t,d,p,!U);return}}Zx(t,s,d,a,n,o,p,j,E)}function _g(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var o=a[n],d=o.getSnapshot;o=o.value;try{if(!Dt(d(),o))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ea(t,s,a,n){s&=~bo,s&=~Ra,t.suspendedLanes|=s,t.pingedLanes&=~s,n&&(t.warmLanes|=s),n=t.expirationTimes;for(var o=s;0<o;){var d=31-Mt(o),p=1<<d;n[d]=-1,o&=~p}a!==0&&Wd(t,a,s)}function zr(){return(Re&6)===0?(xn(0),!1):!0}function wo(){if(ye!==null){if(ke===0)var t=ye.return;else t=ye,js=va=null,Lc(t),ll=null,Vl=0,t=ye;for(;t!==null;)yx(t.alternate,t),t=t.return;ye=null}}function hl(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Qg(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Os=0,wo(),qe=t,ye=a=bs(t.current,null),ve=s,ke=0,Ut=null,Zs=!1,ul=Ol(t,s),go=!1,ml=Lt=bo=Ra=Js=Xe=0,St=un=null,yo=!1,(s&8)!==0&&(s|=s&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=s;0<n;){var o=31-Mt(n),d=1<<o;s|=t[o],n&=~d}return Rs=s,sr(),a}function $x(t,s){xe=null,P.H=sn,s===al||s===dr?(s=nm(),ke=3):s===Cc?(s=nm(),ke=4):ke=s===eo?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ut=s,ye===null&&(Xe=1,_r(t,$t(s,t.current)))}function Qx(){var t=zt.current;return t===null?!0:(ve&4194048)===ve?Gt===null:(ve&62914560)===ve||(ve&536870912)!==0?t===Gt:!1}function Yx(){var t=P.H;return P.H=sn,t===null?sn:t}function Kx(){var t=P.A;return P.A=Ng,t}function Br(){Xe=4,Zs||(ve&4194048)!==ve&&zt.current!==null||(ul=!0),(Js&134217727)===0&&(Ra&134217727)===0||qe===null||ea(qe,ve,Lt,!1)}function _o(t,s,a){var n=Re;Re|=2;var o=Yx(),d=Kx();(qe!==t||ve!==s)&&(kr=null,hl(t,s)),s=!1;var p=Xe;e:do try{if(ke!==0&&ye!==null){var j=ye,E=Ut;switch(ke){case 8:wo(),p=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(s=!0);var U=ke;if(ke=0,Ut=null,fl(t,j,E,U),a&&ul){p=0;break e}break;default:U=ke,ke=0,Ut=null,fl(t,j,E,U)}}Sg(),p=Xe;break}catch(Q){$x(t,Q)}while(!0);return s&&t.shellSuspendCounter++,js=va=null,Re=n,P.H=o,P.A=d,ye===null&&(qe=null,ve=0,sr()),p}function Sg(){for(;ye!==null;)Gx(ye)}function Cg(t,s){var a=Re;Re|=2;var n=Yx(),o=Kx();qe!==t||ve!==s?(kr=null,Dr=Rt()+500,hl(t,s)):ul=Ol(t,s);e:do try{if(ke!==0&&ye!==null){s=ye;var d=Ut;t:switch(ke){case 1:ke=0,Ut=null,fl(t,s,d,1);break;case 2:case 9:if(am(d)){ke=0,Ut=null,Vx(s);break}s=function(){ke!==2&&ke!==9||qe!==t||(ke=7),ds(t)},d.then(s,s);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:am(d)?(ke=0,Ut=null,Vx(s)):(ke=0,Ut=null,fl(t,s,d,7));break;case 5:var p=null;switch(ye.tag){case 26:p=ye.memoizedState;case 5:case 27:var j=ye;if(p?Dh(p):j.stateNode.complete){ke=0,Ut=null;var E=j.sibling;if(E!==null)ye=E;else{var U=j.return;U!==null?(ye=U,Ur(U)):ye=null}break t}}ke=0,Ut=null,fl(t,s,d,5);break;case 6:ke=0,Ut=null,fl(t,s,d,6);break;case 8:wo(),Xe=6;break e;default:throw Error(c(462))}}Eg();break}catch(Q){$x(t,Q)}while(!0);return js=va=null,P.H=n,P.A=o,Re=a,ye!==null?0:(qe=null,ve=0,sr(),Xe)}function Eg(){for(;ye!==null&&!Z0();)Gx(ye)}function Gx(t){var s=gx(t.alternate,t,Rs);t.memoizedProps=t.pendingProps,s===null?Ur(t):ye=s}function Vx(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=ux(a,s,s.pendingProps,s.type,void 0,ve);break;case 11:s=ux(a,s,s.pendingProps,s.type.render,s.ref,ve);break;case 5:Lc(s);default:yx(a,s),s=ye=Ku(s,Rs),s=gx(a,s,Rs)}t.memoizedProps=t.pendingProps,s===null?Ur(t):ye=s}function fl(t,s,a,n){js=va=null,Lc(s),ll=null,Vl=0;var o=s.return;try{if(fg(t,o,s,a,ve)){Xe=1,_r(t,$t(a,t.current)),ye=null;return}}catch(d){if(o!==null)throw ye=o,d;Xe=1,_r(t,$t(a,t.current)),ye=null;return}s.flags&32768?(_e||n===1?t=!0:ul||(ve&536870912)!==0?t=!1:(Zs=t=!0,(n===2||n===9||n===3||n===6)&&(n=zt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Xx(s,t)):Ur(s)}function Ur(t){var s=t;do{if((s.flags&32768)!==0){Xx(s,Zs);return}t=s.return;var a=bg(s.alternate,s,Rs);if(a!==null){ye=a;return}if(s=s.sibling,s!==null){ye=s;return}ye=s=t}while(s!==null);Xe===0&&(Xe=5)}function Xx(t,s){do{var a=yg(t.alternate,t);if(a!==null){a.flags&=32767,ye=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){ye=t;return}ye=t=a}while(t!==null);Xe=6,ye=null}function Zx(t,s,a,n,o,d,p,j,E){t.cancelPendingCommit=null;do Lr();while(lt!==0);if((Re&6)!==0)throw Error(c(327));if(s!==null){if(s===t.current)throw Error(c(177));if(d=s.lanes|s.childLanes,d|=uc,rp(t,a,d,p,j,E),t===qe&&(ye=qe=null,ve=0),xl=s,Is=t,Os=a,jo=d,vo=o,qx=n,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Og(Hn,function(){return th(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||n){n=P.T,P.T=null,o=Z.p,Z.p=2,p=Re,Re|=4;try{jg(t,s,a)}finally{Re=p,Z.p=o,P.T=n}}lt=1,Jx(),Wx(),Ix()}}function Jx(){if(lt===1){lt=0;var t=Is,s=xl,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=P.T,P.T=null;var n=Z.p;Z.p=2;var o=Re;Re|=4;try{Ox(s,t);var d=Bo,p=Uu(t.containerInfo),j=d.focusedElem,E=d.selectionRange;if(p!==j&&j&&j.ownerDocument&&Bu(j.ownerDocument.documentElement,j)){if(E!==null&&rc(j)){var U=E.start,Q=E.end;if(Q===void 0&&(Q=U),"selectionStart"in j)j.selectionStart=U,j.selectionEnd=Math.min(Q,j.value.length);else{var V=j.ownerDocument||document,q=V&&V.defaultView||window;if(q.getSelection){var $=q.getSelection(),te=j.textContent.length,oe=Math.min(E.start,te),Le=E.end===void 0?oe:Math.min(E.end,te);!$.extend&&oe>Le&&(p=Le,Le=oe,oe=p);var k=zu(j,oe),T=zu(j,Le);if(k&&T&&($.rangeCount!==1||$.anchorNode!==k.node||$.anchorOffset!==k.offset||$.focusNode!==T.node||$.focusOffset!==T.offset)){var B=V.createRange();B.setStart(k.node,k.offset),$.removeAllRanges(),oe>Le?($.addRange(B),$.extend(T.node,T.offset)):(B.setEnd(T.node,T.offset),$.addRange(B))}}}}for(V=[],$=j;$=$.parentNode;)$.nodeType===1&&V.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<V.length;j++){var K=V[j];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Zr=!!zo,Bo=zo=null}finally{Re=o,Z.p=n,P.T=a}}t.current=s,lt=2}}function Wx(){if(lt===2){lt=0;var t=Is,s=xl,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=P.T,P.T=null;var n=Z.p;Z.p=2;var o=Re;Re|=4;try{Cx(t,s.alternate,s)}finally{Re=o,Z.p=n,P.T=a}}lt=3}}function Ix(){if(lt===4||lt===3){lt=0,J0();var t=Is,s=xl,a=Os,n=qx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?lt=5:(lt=0,xl=Is=null,eh(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(Ws=null),Pi(a),s=s.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Rl,s,void 0,(s.current.flags&128)===128)}catch{}if(n!==null){s=P.T,o=Z.p,Z.p=2,P.T=null;try{for(var d=t.onRecoverableError,p=0;p<n.length;p++){var j=n[p];d(j.value,{componentStack:j.stack})}}finally{P.T=s,Z.p=o}}(Os&3)!==0&&Lr(),ds(t),o=t.pendingLanes,(a&261930)!==0&&(o&42)!==0?t===No?mn++:(mn=0,No=t):mn=0,xn(0)}}function eh(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Kl(s)))}function Lr(){return Jx(),Wx(),Ix(),th()}function th(){if(lt!==5)return!1;var t=Is,s=jo;jo=0;var a=Pi(Os),n=P.T,o=Z.p;try{Z.p=32>a?32:a,P.T=null,a=vo,vo=null;var d=Is,p=Os;if(lt=0,xl=Is=null,Os=0,(Re&6)!==0)throw Error(c(331));var j=Re;if(Re|=4,Bx(d.current),Dx(d,d.current,p,a),Re=j,xn(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Rl,d)}catch{}return!0}finally{Z.p=o,P.T=n,eh(t,s)}}function sh(t,s,a){s=$t(a,s),s=Ic(t.stateNode,s,2),t=Ks(t,s,2),t!==null&&(Ml(t,2),ds(t))}function ze(t,s,a){if(t.tag===3)sh(t,t,a);else for(;s!==null;){if(s.tag===3){sh(s,t,a);break}else if(s.tag===1){var n=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ws===null||!Ws.has(n))){t=$t(a,t),a=ax(2),n=Ks(s,a,2),n!==null&&(lx(a,n,s,t),Ml(n,2),ds(n));break}}s=s.return}}function So(t,s,a){var n=t.pingCache;if(n===null){n=t.pingCache=new wg;var o=new Set;n.set(s,o)}else o=n.get(s),o===void 0&&(o=new Set,n.set(s,o));o.has(a)||(go=!0,o.add(a),t=Ag.bind(null,t,s,a),s.then(t,t))}function Ag(t,s,a){var n=t.pingCache;n!==null&&n.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,qe===t&&(ve&a)===a&&(Xe===4||Xe===3&&(ve&62914560)===ve&&300>Rt()-Mr?(Re&2)===0&&hl(t,0):bo|=a,ml===ve&&(ml=0)),ds(t)}function ah(t,s){s===0&&(s=Jd()),t=ba(t,s),t!==null&&(Ml(t,s),ds(t))}function Tg(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),ah(t,a)}function Rg(t,s){var a=0;switch(t.tag){case 31:case 13:var n=t.stateNode,o=t.memoizedState;o!==null&&(a=o.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(c(314))}n!==null&&n.delete(s),ah(t,a)}function Og(t,s){return Ui(t,s)}var qr=null,pl=null,Co=!1,Hr=!1,Eo=!1,ta=0;function ds(t){t!==pl&&t.next===null&&(pl===null?qr=pl=t:pl=pl.next=t),Hr=!0,Co||(Co=!0,Dg())}function xn(t,s){if(!Eo&&Hr){Eo=!0;do for(var a=!1,n=qr;n!==null;){if(t!==0){var o=n.pendingLanes;if(o===0)var d=0;else{var p=n.suspendedLanes,j=n.pingedLanes;d=(1<<31-Mt(42|t)+1)-1,d&=o&~(p&~j),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,ih(n,d))}else d=ve,d=Qn(n,n===qe?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(d&3)===0||Ol(n,d)||(a=!0,ih(n,d));n=n.next}while(a);Eo=!1}}function Mg(){lh()}function lh(){Hr=Co=!1;var t=0;ta!==0&&$g()&&(t=ta);for(var s=Rt(),a=null,n=qr;n!==null;){var o=n.next,d=nh(n,s);d===0?(n.next=null,a===null?qr=o:a.next=o,o===null&&(pl=a)):(a=n,(t!==0||(d&3)!==0)&&(Hr=!0)),n=o}lt!==0&&lt!==5||xn(t),ta!==0&&(ta=0)}function nh(t,s){for(var a=t.suspendedLanes,n=t.pingedLanes,o=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var p=31-Mt(d),j=1<<p,E=o[p];E===-1?((j&a)===0||(j&n)!==0)&&(o[p]=np(j,s)):E<=s&&(t.expiredLanes|=j),d&=~j}if(s=qe,a=ve,a=Qn(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,a===0||t===s&&(ke===2||ke===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&Li(n),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ol(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(n!==null&&Li(n),Pi(a)){case 2:case 8:a=Xd;break;case 32:a=Hn;break;case 268435456:a=Zd;break;default:a=Hn}return n=rh.bind(null,t),a=Ui(a,n),t.callbackPriority=s,t.callbackNode=a,s}return n!==null&&n!==null&&Li(n),t.callbackPriority=2,t.callbackNode=null,2}function rh(t,s){if(lt!==0&&lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lr()&&t.callbackNode!==a)return null;var n=ve;return n=Qn(t,t===qe?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(Px(t,n,s),nh(t,Rt()),t.callbackNode!=null&&t.callbackNode===a?rh.bind(null,t):null)}function ih(t,s){if(Lr())return null;Px(t,s,!0)}function Dg(){Yg(function(){(Re&6)!==0?Ui(Vd,Mg):lh()})}function Ao(){if(ta===0){var t=tl;t===0&&(t=Pn,Pn<<=1,(Pn&261888)===0&&(Pn=256)),ta=t}return ta}function ch(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Vn(""+t)}function oh(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function kg(t,s,a,n,o){if(s==="submit"&&a&&a.stateNode===o){var d=ch((o[jt]||null).action),p=n.submitter;p&&(s=(s=p[jt]||null)?ch(s.formAction):p.getAttribute("formAction"),s!==null&&(d=s,p=null));var j=new Wn("action","action",null,n,o);t.push({event:j,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(ta!==0){var E=p?oh(o,p):new FormData(o);Gc(a,{pending:!0,data:E,method:o.method,action:d},null,E)}}else typeof d=="function"&&(j.preventDefault(),E=p?oh(o,p):new FormData(o),Gc(a,{pending:!0,data:E,method:o.method,action:d},d,E))},currentTarget:o}]})}}for(var To=0;To<dc.length;To++){var Ro=dc[To],zg=Ro.toLowerCase(),Bg=Ro[0].toUpperCase()+Ro.slice(1);es(zg,"on"+Bg)}es(Hu,"onAnimationEnd"),es(Pu,"onAnimationIteration"),es(Fu,"onAnimationStart"),es("dblclick","onDoubleClick"),es("focusin","onFocus"),es("focusout","onBlur"),es(Wp,"onTransitionRun"),es(Ip,"onTransitionStart"),es(eg,"onTransitionCancel"),es($u,"onTransitionEnd"),Pa("onMouseEnter",["mouseout","mouseover"]),Pa("onMouseLeave",["mouseout","mouseover"]),Pa("onPointerEnter",["pointerout","pointerover"]),Pa("onPointerLeave",["pointerout","pointerover"]),ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ug=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hn));function dh(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var n=t[a],o=n.event;n=n.listeners;e:{var d=void 0;if(s)for(var p=n.length-1;0<=p;p--){var j=n[p],E=j.instance,U=j.currentTarget;if(j=j.listener,E!==d&&o.isPropagationStopped())break e;d=j,o.currentTarget=U;try{d(o)}catch(Q){tr(Q)}o.currentTarget=null,d=E}else for(p=0;p<n.length;p++){if(j=n[p],E=j.instance,U=j.currentTarget,j=j.listener,E!==d&&o.isPropagationStopped())break e;d=j,o.currentTarget=U;try{d(o)}catch(Q){tr(Q)}o.currentTarget=null,d=E}}}}function je(t,s){var a=s[Fi];a===void 0&&(a=s[Fi]=new Set);var n=t+"__bubble";a.has(n)||(uh(s,t,2,!1),a.add(n))}function Oo(t,s,a){var n=0;s&&(n|=4),uh(a,t,n,s)}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Mo(t){if(!t[Pr]){t[Pr]=!0,lu.forEach(function(a){a!=="selectionchange"&&(Ug.has(a)||Oo(a,!1,t),Oo(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Pr]||(s[Pr]=!0,Oo("selectionchange",!1,s))}}function uh(t,s,a,n){switch(Hh(s)){case 2:var o=ub;break;case 8:o=mb;break;default:o=Go}a=o.bind(null,s,a,t),o=void 0,!Ji||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(o=!0),n?o!==void 0?t.addEventListener(s,a,{capture:!0,passive:o}):t.addEventListener(s,a,!0):o!==void 0?t.addEventListener(s,a,{passive:o}):t.addEventListener(s,a,!1)}function Do(t,s,a,n,o){var d=n;if((s&1)===0&&(s&2)===0&&n!==null)e:for(;;){if(n===null)return;var p=n.tag;if(p===3||p===4){var j=n.stateNode.containerInfo;if(j===o)break;if(p===4)for(p=n.return;p!==null;){var E=p.tag;if((E===3||E===4)&&p.stateNode.containerInfo===o)return;p=p.return}for(;j!==null;){if(p=La(j),p===null)return;if(E=p.tag,E===5||E===6||E===26||E===27){n=d=p;continue e}j=j.parentNode}}n=n.return}pu(function(){var U=d,Q=Xi(a),V=[];e:{var q=Qu.get(t);if(q!==void 0){var $=Wn,te=t;switch(t){case"keypress":if(Zn(a)===0)break e;case"keydown":case"keyup":$=Rp;break;case"focusin":te="focus",$=tc;break;case"focusout":te="blur",$=tc;break;case"beforeblur":case"afterblur":$=tc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=bp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Dp;break;case Hu:case Pu:case Fu:$=vp;break;case $u:$=zp;break;case"scroll":case"scrollend":$=pp;break;case"wheel":$=Up;break;case"copy":case"cut":case"paste":$=wp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=vu;break;case"toggle":case"beforetoggle":$=qp}var oe=(s&4)!==0,Le=!oe&&(t==="scroll"||t==="scrollend"),k=oe?q!==null?q+"Capture":null:q;oe=[];for(var T=U,B;T!==null;){var K=T;if(B=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||B===null||k===null||(K=zl(T,k),K!=null&&oe.push(fn(T,K,B))),Le)break;T=T.return}0<oe.length&&(q=new $(q,te,null,a,Q),V.push({event:q,listeners:oe}))}}if((s&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",q&&a!==Vi&&(te=a.relatedTarget||a.fromElement)&&(La(te)||te[Ua]))break e;if(($||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,$?(te=a.relatedTarget||a.toElement,$=U,te=te?La(te):null,te!==null&&(Le=m(te),oe=te.tag,te!==Le||oe!==5&&oe!==27&&oe!==6)&&(te=null)):($=null,te=U),$!==te)){if(oe=yu,K="onMouseLeave",k="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(oe=vu,K="onPointerLeave",k="onPointerEnter",T="pointer"),Le=$==null?q:kl($),B=te==null?q:kl(te),q=new oe(K,T+"leave",$,a,Q),q.target=Le,q.relatedTarget=B,K=null,La(Q)===U&&(oe=new oe(k,T+"enter",te,a,Q),oe.target=B,oe.relatedTarget=Le,K=oe),Le=K,$&&te)t:{for(oe=Lg,k=$,T=te,B=0,K=k;K;K=oe(K))B++;K=0;for(var re=T;re;re=oe(re))K++;for(;0<B-K;)k=oe(k),B--;for(;0<K-B;)T=oe(T),K--;for(;B--;){if(k===T||T!==null&&k===T.alternate){oe=k;break t}k=oe(k),T=oe(T)}oe=null}else oe=null;$!==null&&mh(V,q,$,oe,!1),te!==null&&Le!==null&&mh(V,Le,te,oe,!0)}}e:{if(q=U?kl(U):window,$=q.nodeName&&q.nodeName.toLowerCase(),$==="select"||$==="input"&&q.type==="file")var Ce=Tu;else if(Eu(q))if(Ru)Ce=Xp;else{Ce=Gp;var se=Kp}else $=q.nodeName,!$||$.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?U&&Gi(U.elementType)&&(Ce=Tu):Ce=Vp;if(Ce&&(Ce=Ce(t,U))){Au(V,Ce,a,Q);break e}se&&se(t,q,U),t==="focusout"&&U&&q.type==="number"&&U.memoizedProps.value!=null&&Ki(q,"number",q.value)}switch(se=U?kl(U):window,t){case"focusin":(Eu(se)||se.contentEditable==="true")&&(Ga=se,ic=U,$l=null);break;case"focusout":$l=ic=Ga=null;break;case"mousedown":cc=!0;break;case"contextmenu":case"mouseup":case"dragend":cc=!1,Lu(V,a,Q);break;case"selectionchange":if(Jp)break;case"keydown":case"keyup":Lu(V,a,Q)}var fe;if(ac)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Ka?Su(t,a)&&(Ne="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(Nu&&a.locale!=="ko"&&(Ka||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Ka&&(fe=gu()):(qs=Q,Wi="value"in qs?qs.value:qs.textContent,Ka=!0)),se=Fr(U,Ne),0<se.length&&(Ne=new ju(Ne,t,null,a,Q),V.push({event:Ne,listeners:se}),fe?Ne.data=fe:(fe=Cu(a),fe!==null&&(Ne.data=fe)))),(fe=Pp?Fp(t,a):$p(t,a))&&(Ne=Fr(U,"onBeforeInput"),0<Ne.length&&(se=new ju("onBeforeInput","beforeinput",null,a,Q),V.push({event:se,listeners:Ne}),se.data=fe)),kg(V,t,U,a,Q)}dh(V,s)})}function fn(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Fr(t,s){for(var a=s+"Capture",n=[];t!==null;){var o=t,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=zl(t,a),o!=null&&n.unshift(fn(t,o,d)),o=zl(t,s),o!=null&&n.push(fn(t,o,d))),t.tag===3)return n;t=t.return}return[]}function Lg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function mh(t,s,a,n,o){for(var d=s._reactName,p=[];a!==null&&a!==n;){var j=a,E=j.alternate,U=j.stateNode;if(j=j.tag,E!==null&&E===n)break;j!==5&&j!==26&&j!==27||U===null||(E=U,o?(U=zl(a,d),U!=null&&p.unshift(fn(a,U,E))):o||(U=zl(a,d),U!=null&&p.push(fn(a,U,E)))),a=a.return}p.length!==0&&t.push({event:s,listeners:p})}var qg=/\r\n?/g,Hg=/\u0000|\uFFFD/g;function xh(t){return(typeof t=="string"?t:""+t).replace(qg,`
`).replace(Hg,"")}function hh(t,s){return s=xh(s),xh(t)===s}function Ue(t,s,a,n,o,d){switch(a){case"children":typeof n=="string"?s==="body"||s==="textarea"&&n===""||$a(t,n):(typeof n=="number"||typeof n=="bigint")&&s!=="body"&&$a(t,""+n);break;case"className":Kn(t,"class",n);break;case"tabIndex":Kn(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(t,a,n);break;case"style":hu(t,n,d);break;case"data":if(s!=="object"){Kn(t,"data",n);break}case"src":case"href":if(n===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(a);break}n=Vn(""+n),t.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Ue(t,s,"name",o.name,o,null),Ue(t,s,"formEncType",o.formEncType,o,null),Ue(t,s,"formMethod",o.formMethod,o,null),Ue(t,s,"formTarget",o.formTarget,o,null)):(Ue(t,s,"encType",o.encType,o,null),Ue(t,s,"method",o.method,o,null),Ue(t,s,"target",o.target,o,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(a);break}n=Vn(""+n),t.setAttribute(a,n);break;case"onClick":n!=null&&(t.onclick=ps);break;case"onScroll":n!=null&&je("scroll",t);break;case"onScrollEnd":n!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(c(61));if(a=n.__html,a!=null){if(o.children!=null)throw Error(c(60));t.innerHTML=a}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}a=Vn(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(a,""+n):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":n===!0?t.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(a,n):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(a,n):t.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(a):t.setAttribute(a,n);break;case"popover":je("beforetoggle",t),je("toggle",t),Yn(t,"popover",n);break;case"xlinkActuate":fs(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":fs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":fs(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":fs(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":fs(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":fs(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":fs(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":fs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":fs(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Yn(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hp.get(a)||a,Yn(t,a,n))}}function ko(t,s,a,n,o,d){switch(a){case"style":hu(t,n,d);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(c(61));if(a=n.__html,a!=null){if(o.children!=null)throw Error(c(60));t.innerHTML=a}}break;case"children":typeof n=="string"?$a(t,n):(typeof n=="number"||typeof n=="bigint")&&$a(t,""+n);break;case"onScroll":n!=null&&je("scroll",t);break;case"onScrollEnd":n!=null&&je("scrollend",t);break;case"onClick":n!=null&&(t.onclick=ps);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),s=a.slice(2,o?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(s,d,o),typeof n=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,n,o);break e}a in t?t[a]=n:n===!0?t.setAttribute(a,""):Yn(t,a,n)}}}function xt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var n=!1,o=!1,d;for(d in a)if(a.hasOwnProperty(d)){var p=a[d];if(p!=null)switch(d){case"src":n=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,s));default:Ue(t,s,d,p,a,null)}}o&&Ue(t,s,"srcSet",a.srcSet,a,null),n&&Ue(t,s,"src",a.src,a,null);return;case"input":je("invalid",t);var j=d=p=o=null,E=null,U=null;for(n in a)if(a.hasOwnProperty(n)){var Q=a[n];if(Q!=null)switch(n){case"name":o=Q;break;case"type":p=Q;break;case"checked":E=Q;break;case"defaultChecked":U=Q;break;case"value":d=Q;break;case"defaultValue":j=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(c(137,s));break;default:Ue(t,s,n,Q,a,null)}}du(t,d,j,E,U,p,o,!1);return;case"select":je("invalid",t),n=p=d=null;for(o in a)if(a.hasOwnProperty(o)&&(j=a[o],j!=null))switch(o){case"value":d=j;break;case"defaultValue":p=j;break;case"multiple":n=j;default:Ue(t,s,o,j,a,null)}s=d,a=p,t.multiple=!!n,s!=null?Fa(t,!!n,s,!1):a!=null&&Fa(t,!!n,a,!0);return;case"textarea":je("invalid",t),d=o=n=null;for(p in a)if(a.hasOwnProperty(p)&&(j=a[p],j!=null))switch(p){case"value":n=j;break;case"defaultValue":o=j;break;case"children":d=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(c(91));break;default:Ue(t,s,p,j,a,null)}mu(t,n,o,d);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(n=a[E],n!=null))switch(E){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Ue(t,s,E,n,a,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(n=0;n<hn.length;n++)je(hn[n],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(n=a[U],n!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,s));default:Ue(t,s,U,n,a,null)}return;default:if(Gi(s)){for(Q in a)a.hasOwnProperty(Q)&&(n=a[Q],n!==void 0&&ko(t,s,Q,n,a,void 0));return}}for(j in a)a.hasOwnProperty(j)&&(n=a[j],n!=null&&Ue(t,s,j,n,a,null))}function Pg(t,s,a,n){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,p=null,j=null,E=null,U=null,Q=null;for($ in a){var V=a[$];if(a.hasOwnProperty($)&&V!=null)switch($){case"checked":break;case"value":break;case"defaultValue":E=V;default:n.hasOwnProperty($)||Ue(t,s,$,null,n,V)}}for(var q in n){var $=n[q];if(V=a[q],n.hasOwnProperty(q)&&($!=null||V!=null))switch(q){case"type":d=$;break;case"name":o=$;break;case"checked":U=$;break;case"defaultChecked":Q=$;break;case"value":p=$;break;case"defaultValue":j=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(c(137,s));break;default:$!==V&&Ue(t,s,q,$,n,V)}}Yi(t,p,j,E,U,Q,d,o);return;case"select":$=p=j=q=null;for(d in a)if(E=a[d],a.hasOwnProperty(d)&&E!=null)switch(d){case"value":break;case"multiple":$=E;default:n.hasOwnProperty(d)||Ue(t,s,d,null,n,E)}for(o in n)if(d=n[o],E=a[o],n.hasOwnProperty(o)&&(d!=null||E!=null))switch(o){case"value":q=d;break;case"defaultValue":j=d;break;case"multiple":p=d;default:d!==E&&Ue(t,s,o,d,n,E)}s=j,a=p,n=$,q!=null?Fa(t,!!a,q,!1):!!n!=!!a&&(s!=null?Fa(t,!!a,s,!0):Fa(t,!!a,a?[]:"",!1));return;case"textarea":$=q=null;for(j in a)if(o=a[j],a.hasOwnProperty(j)&&o!=null&&!n.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Ue(t,s,j,null,n,o)}for(p in n)if(o=n[p],d=a[p],n.hasOwnProperty(p)&&(o!=null||d!=null))switch(p){case"value":q=o;break;case"defaultValue":$=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(c(91));break;default:o!==d&&Ue(t,s,p,o,n,d)}uu(t,q,$);return;case"option":for(var te in a)if(q=a[te],a.hasOwnProperty(te)&&q!=null&&!n.hasOwnProperty(te))switch(te){case"selected":t.selected=!1;break;default:Ue(t,s,te,null,n,q)}for(E in n)if(q=n[E],$=a[E],n.hasOwnProperty(E)&&q!==$&&(q!=null||$!=null))switch(E){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ue(t,s,E,q,n,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in a)q=a[oe],a.hasOwnProperty(oe)&&q!=null&&!n.hasOwnProperty(oe)&&Ue(t,s,oe,null,n,q);for(U in n)if(q=n[U],$=a[U],n.hasOwnProperty(U)&&q!==$&&(q!=null||$!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(c(137,s));break;default:Ue(t,s,U,q,n,$)}return;default:if(Gi(s)){for(var Le in a)q=a[Le],a.hasOwnProperty(Le)&&q!==void 0&&!n.hasOwnProperty(Le)&&ko(t,s,Le,void 0,n,q);for(Q in n)q=n[Q],$=a[Q],!n.hasOwnProperty(Q)||q===$||q===void 0&&$===void 0||ko(t,s,Q,q,n,$);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!n.hasOwnProperty(k)&&Ue(t,s,k,null,n,q);for(V in n)q=n[V],$=a[V],!n.hasOwnProperty(V)||q===$||q==null&&$==null||Ue(t,s,V,q,n,$)}function fh(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Fg(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var o=a[n],d=o.transferSize,p=o.initiatorType,j=o.duration;if(d&&j&&fh(p)){for(p=0,j=o.responseEnd,n+=1;n<a.length;n++){var E=a[n],U=E.startTime;if(U>j)break;var Q=E.transferSize,V=E.initiatorType;Q&&fh(V)&&(E=E.responseEnd,p+=Q*(E<j?1:(j-U)/(E-U)))}if(--n,s+=8*(d+p)/(o.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var zo=null,Bo=null;function $r(t){return t.nodeType===9?t:t.ownerDocument}function ph(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gh(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Uo(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Lo=null;function $g(){var t=window.event;return t&&t.type==="popstate"?t===Lo?!1:(Lo=t,!0):(Lo=null,!1)}var bh=typeof setTimeout=="function"?setTimeout:void 0,Qg=typeof clearTimeout=="function"?clearTimeout:void 0,yh=typeof Promise=="function"?Promise:void 0,Yg=typeof queueMicrotask=="function"?queueMicrotask:typeof yh<"u"?function(t){return yh.resolve(null).then(t).catch(Kg)}:bh;function Kg(t){setTimeout(function(){throw t})}function sa(t){return t==="head"}function jh(t,s){var a=s,n=0;do{var o=a.nextSibling;if(t.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(n===0){t.removeChild(o),jl(s);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")pn(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,pn(a);for(var d=a.firstChild;d;){var p=d.nextSibling,j=d.nodeName;d[Dl]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=p}}else a==="body"&&pn(t.ownerDocument.body);a=o}while(a);jl(s)}function vh(t,s){var a=t;t=0;do{var n=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=n}while(a)}function qo(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qo(a),$i(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Gg(t,s,a,n){for(;t.nodeType===1;){var o=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[Dl])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Vt(t.nextSibling),t===null)break}return null}function Vg(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Vt(t.nextSibling),t===null))return null;return t}function Nh(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Vt(t.nextSibling),t===null))return null;return t}function Ho(t){return t.data==="$?"||t.data==="$~"}function Po(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Xg(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var n=function(){s(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function Vt(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Fo=null;function wh(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Vt(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function _h(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Sh(t,s,a){switch(s=$r(a),t){case"html":if(t=s.documentElement,!t)throw Error(c(452));return t;case"head":if(t=s.head,!t)throw Error(c(453));return t;case"body":if(t=s.body,!t)throw Error(c(454));return t;default:throw Error(c(451))}}function pn(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);$i(t)}var Xt=new Map,Ch=new Set;function Qr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ms=Z.d;Z.d={f:Zg,r:Jg,D:Wg,C:Ig,L:eb,m:tb,X:ab,S:sb,M:lb};function Zg(){var t=Ms.f(),s=zr();return t||s}function Jg(t){var s=qa(t);s!==null&&s.tag===5&&s.type==="form"?$m(s):Ms.r(t)}var gl=typeof document>"u"?null:document;function Eh(t,s,a){var n=gl;if(n&&typeof s=="string"&&s){var o=Pt(s);o='link[rel="'+t+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Ch.has(o)||(Ch.add(o),t={rel:t,crossOrigin:a,href:s},n.querySelector(o)===null&&(s=n.createElement("link"),xt(s,"link",t),rt(s),n.head.appendChild(s)))}}function Wg(t){Ms.D(t),Eh("dns-prefetch",t,null)}function Ig(t,s){Ms.C(t,s),Eh("preconnect",t,s)}function eb(t,s,a){Ms.L(t,s,a);var n=gl;if(n&&t&&s){var o='link[rel="preload"][as="'+Pt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Pt(a.imageSizes)+'"]')):o+='[href="'+Pt(t)+'"]';var d=o;switch(s){case"style":d=bl(t);break;case"script":d=yl(t)}Xt.has(d)||(t=y({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Xt.set(d,t),n.querySelector(o)!==null||s==="style"&&n.querySelector(gn(d))||s==="script"&&n.querySelector(bn(d))||(s=n.createElement("link"),xt(s,"link",t),rt(s),n.head.appendChild(s)))}}function tb(t,s){Ms.m(t,s);var a=gl;if(a&&t){var n=s&&typeof s.as=="string"?s.as:"script",o='link[rel="modulepreload"][as="'+Pt(n)+'"][href="'+Pt(t)+'"]',d=o;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=yl(t)}if(!Xt.has(d)&&(t=y({rel:"modulepreload",href:t},s),Xt.set(d,t),a.querySelector(o)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bn(d)))return}n=a.createElement("link"),xt(n,"link",t),rt(n),a.head.appendChild(n)}}}function sb(t,s,a){Ms.S(t,s,a);var n=gl;if(n&&t){var o=Ha(n).hoistableStyles,d=bl(t);s=s||"default";var p=o.get(d);if(!p){var j={loading:0,preload:null};if(p=n.querySelector(gn(d)))j.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Xt.get(d))&&$o(t,a);var E=p=n.createElement("link");rt(E),xt(E,"link",t),E._p=new Promise(function(U,Q){E.onload=U,E.onerror=Q}),E.addEventListener("load",function(){j.loading|=1}),E.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Yr(p,s,n)}p={type:"stylesheet",instance:p,count:1,state:j},o.set(d,p)}}}function ab(t,s){Ms.X(t,s);var a=gl;if(a&&t){var n=Ha(a).hoistableScripts,o=yl(t),d=n.get(o);d||(d=a.querySelector(bn(o)),d||(t=y({src:t,async:!0},s),(s=Xt.get(o))&&Qo(t,s),d=a.createElement("script"),rt(d),xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},n.set(o,d))}}function lb(t,s){Ms.M(t,s);var a=gl;if(a&&t){var n=Ha(a).hoistableScripts,o=yl(t),d=n.get(o);d||(d=a.querySelector(bn(o)),d||(t=y({src:t,async:!0,type:"module"},s),(s=Xt.get(o))&&Qo(t,s),d=a.createElement("script"),rt(d),xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},n.set(o,d))}}function Ah(t,s,a,n){var o=(o=be.current)?Qr(o):null;if(!o)throw Error(c(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=bl(a.href),a=Ha(o).hoistableStyles,n=a.get(s),n||(n={type:"style",instance:null,count:0,state:null},a.set(s,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=bl(a.href);var d=Ha(o).hoistableStyles,p=d.get(t);if(p||(o=o.ownerDocument||o,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,p),(d=o.querySelector(gn(t)))&&!d._p&&(p.instance=d,p.state.loading=5),Xt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xt.set(t,a),d||nb(o,t,a,p.state))),s&&n===null)throw Error(c(528,""));return p}if(s&&n!==null)throw Error(c(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=yl(a),a=Ha(o).hoistableScripts,n=a.get(s),n||(n={type:"script",instance:null,count:0,state:null},a.set(s,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,t))}}function bl(t){return'href="'+Pt(t)+'"'}function gn(t){return'link[rel="stylesheet"]['+t+"]"}function Th(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function nb(t,s,a,n){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?n.loading=1:(s=t.createElement("link"),n.preload=s,s.addEventListener("load",function(){return n.loading|=1}),s.addEventListener("error",function(){return n.loading|=2}),xt(s,"link",a),rt(s),t.head.appendChild(s))}function yl(t){return'[src="'+Pt(t)+'"]'}function bn(t){return"script[async]"+t}function Rh(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var n=t.querySelector('style[data-href~="'+Pt(a.href)+'"]');if(n)return s.instance=n,rt(n),n;var o=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),rt(n),xt(n,"style",o),Yr(n,a.precedence,t),s.instance=n;case"stylesheet":o=bl(a.href);var d=t.querySelector(gn(o));if(d)return s.state.loading|=4,s.instance=d,rt(d),d;n=Th(a),(o=Xt.get(o))&&$o(n,o),d=(t.ownerDocument||t).createElement("link"),rt(d);var p=d;return p._p=new Promise(function(j,E){p.onload=j,p.onerror=E}),xt(d,"link",n),s.state.loading|=4,Yr(d,a.precedence,t),s.instance=d;case"script":return d=yl(a.src),(o=t.querySelector(bn(d)))?(s.instance=o,rt(o),o):(n=a,(o=Xt.get(d))&&(n=y({},a),Qo(n,o)),t=t.ownerDocument||t,o=t.createElement("script"),rt(o),xt(o,"link",n),t.head.appendChild(o),s.instance=o);case"void":return null;default:throw Error(c(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(n=s.instance,s.state.loading|=4,Yr(n,a.precedence,t));return s.instance}function Yr(t,s,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=n.length?n[n.length-1]:null,d=o,p=0;p<n.length;p++){var j=n[p];if(j.dataset.precedence===s)d=j;else if(d!==o)break}d?d.parentNode.insertBefore(t,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function $o(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Qo(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Kr=null;function Oh(t,s,a){if(Kr===null){var n=new Map,o=Kr=new Map;o.set(a,n)}else o=Kr,n=o.get(a),n||(n=new Map,o.set(a,n));if(n.has(t))return n;for(n.set(t,null),a=a.getElementsByTagName(t),o=0;o<a.length;o++){var d=a[o];if(!(d[Dl]||d[ot]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var p=d.getAttribute(s)||"";p=t+p;var j=n.get(p);j?j.push(d):n.set(p,[d])}}return n}function Mh(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function rb(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Dh(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ib(t,s,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=bl(n.href),d=s.querySelector(gn(o));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Gr.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=d,rt(d);return}d=s.ownerDocument||s,n=Th(n),(o=Xt.get(o))&&$o(n,o),d=d.createElement("link"),rt(d);var p=d;p._p=new Promise(function(j,E){p.onload=j,p.onerror=E}),xt(d,"link",n),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Gr.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Yo=0;function cb(t,s){return t.stylesheets&&t.count===0&&Xr(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var n=setTimeout(function(){if(t.stylesheets&&Xr(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+s);0<t.imgBytes&&Yo===0&&(Yo=62500*Fg());var o=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Xr(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Yo?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(n),clearTimeout(o)}}:null}function Gr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vr=null;function Xr(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vr=new Map,s.forEach(ob,t),Vr=null,Gr.call(t))}function ob(t,s){if(!(s.state.loading&4)){var a=Vr.get(t);if(a)var n=a.get(null);else{a=new Map,Vr.set(t,a);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var p=o[d];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),n=p)}n&&a.set(null,n)}o=s.instance,p=o.getAttribute("data-precedence"),d=a.get(p)||n,d===n&&a.set(null,o),a.set(p,o),this.count++,n=Gr.bind(this),o.addEventListener("load",n),o.addEventListener("error",n),d?d.parentNode.insertBefore(o,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),s.state.loading|=4}}var yn={$$typeof:F,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function db(t,s,a,n,o,d,p,j,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qi(0),this.hiddenUpdates=qi(null),this.identifierPrefix=n,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function kh(t,s,a,n,o,d,p,j,E,U,Q,V){return t=new db(t,s,a,p,E,U,Q,V,j),s=1,d===!0&&(s|=24),d=kt(3,null,null,s),t.current=d,d.stateNode=t,s=wc(),s.refCount++,t.pooledCache=s,s.refCount++,d.memoizedState={element:n,isDehydrated:a,cache:s},Ec(d),t}function zh(t){return t?(t=Za,t):Za}function Bh(t,s,a,n,o,d){o=zh(o),n.context===null?n.context=o:n.pendingContext=o,n=Ys(s),n.payload={element:a},d=d===void 0?null:d,d!==null&&(n.callback=d),a=Ks(t,n,s),a!==null&&(Ct(a,t,s),Zl(a,t,s))}function Uh(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Ko(t,s){Uh(t,s),(t=t.alternate)&&Uh(t,s)}function Lh(t){if(t.tag===13||t.tag===31){var s=ba(t,67108864);s!==null&&Ct(s,t,67108864),Ko(t,67108864)}}function qh(t){if(t.tag===13||t.tag===31){var s=qt();s=Hi(s);var a=ba(t,s);a!==null&&Ct(a,t,s),Ko(t,s)}}var Zr=!0;function ub(t,s,a,n){var o=P.T;P.T=null;var d=Z.p;try{Z.p=2,Go(t,s,a,n)}finally{Z.p=d,P.T=o}}function mb(t,s,a,n){var o=P.T;P.T=null;var d=Z.p;try{Z.p=8,Go(t,s,a,n)}finally{Z.p=d,P.T=o}}function Go(t,s,a,n){if(Zr){var o=Vo(n);if(o===null)Do(t,s,n,Jr,a),Ph(t,n);else if(hb(o,t,s,a,n))n.stopPropagation();else if(Ph(t,n),s&4&&-1<xb.indexOf(t)){for(;o!==null;){var d=qa(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var p=xa(d.pendingLanes);if(p!==0){var j=d;for(j.pendingLanes|=2,j.entangledLanes|=2;p;){var E=1<<31-Mt(p);j.entanglements[1]|=E,p&=~E}ds(d),(Re&6)===0&&(Dr=Rt()+500,xn(0))}}break;case 31:case 13:j=ba(d,2),j!==null&&Ct(j,d,2),zr(),Ko(d,2)}if(d=Vo(n),d===null&&Do(t,s,n,Jr,a),d===o)break;o=d}o!==null&&n.stopPropagation()}else Do(t,s,n,null,a)}}function Vo(t){return t=Xi(t),Xo(t)}var Jr=null;function Xo(t){if(Jr=null,t=La(t),t!==null){var s=m(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=x(s),t!==null)return t;t=null}else if(a===31){if(t=h(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Jr=t,null}function Hh(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(W0()){case Vd:return 2;case Xd:return 8;case Hn:case I0:return 32;case Zd:return 268435456;default:return 32}default:return 32}}var Zo=!1,aa=null,la=null,na=null,jn=new Map,vn=new Map,ra=[],xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ph(t,s){switch(t){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":la=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":jn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vn.delete(s.pointerId)}}function Nn(t,s,a,n,o,d){return t===null||t.nativeEvent!==d?(t={blockedOn:s,domEventName:a,eventSystemFlags:n,nativeEvent:d,targetContainers:[o]},s!==null&&(s=qa(s),s!==null&&Lh(s)),t):(t.eventSystemFlags|=n,s=t.targetContainers,o!==null&&s.indexOf(o)===-1&&s.push(o),t)}function hb(t,s,a,n,o){switch(s){case"focusin":return aa=Nn(aa,t,s,a,n,o),!0;case"dragenter":return la=Nn(la,t,s,a,n,o),!0;case"mouseover":return na=Nn(na,t,s,a,n,o),!0;case"pointerover":var d=o.pointerId;return jn.set(d,Nn(jn.get(d)||null,t,s,a,n,o)),!0;case"gotpointercapture":return d=o.pointerId,vn.set(d,Nn(vn.get(d)||null,t,s,a,n,o)),!0}return!1}function Fh(t){var s=La(t.target);if(s!==null){var a=m(s);if(a!==null){if(s=a.tag,s===13){if(s=x(a),s!==null){t.blockedOn=s,su(t.priority,function(){qh(a)});return}}else if(s===31){if(s=h(a),s!==null){t.blockedOn=s,su(t.priority,function(){qh(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wr(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Vo(t.nativeEvent);if(a===null){a=t.nativeEvent;var n=new a.constructor(a.type,a);Vi=n,a.target.dispatchEvent(n),Vi=null}else return s=qa(a),s!==null&&Lh(s),t.blockedOn=a,!1;s.shift()}return!0}function $h(t,s,a){Wr(t)&&a.delete(s)}function fb(){Zo=!1,aa!==null&&Wr(aa)&&(aa=null),la!==null&&Wr(la)&&(la=null),na!==null&&Wr(na)&&(na=null),jn.forEach($h),vn.forEach($h)}function Ir(t,s){t.blockedOn===s&&(t.blockedOn=null,Zo||(Zo=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,fb)))}var ei=null;function Qh(t){ei!==t&&(ei=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){ei===t&&(ei=null);for(var s=0;s<t.length;s+=3){var a=t[s],n=t[s+1],o=t[s+2];if(typeof n!="function"){if(Xo(n||a)===null)continue;break}var d=qa(a);d!==null&&(t.splice(s,3),s-=3,Gc(d,{pending:!0,data:o,method:a.method,action:n},n,o))}}))}function jl(t){function s(E){return Ir(E,t)}aa!==null&&Ir(aa,t),la!==null&&Ir(la,t),na!==null&&Ir(na,t),jn.forEach(s),vn.forEach(s);for(var a=0;a<ra.length;a++){var n=ra[a];n.blockedOn===t&&(n.blockedOn=null)}for(;0<ra.length&&(a=ra[0],a.blockedOn===null);)Fh(a),a.blockedOn===null&&ra.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var o=a[n],d=a[n+1],p=o[jt]||null;if(typeof d=="function")p||Qh(a);else if(p){var j=null;if(d&&d.hasAttribute("formAction")){if(o=d,p=d[jt]||null)j=p.formAction;else if(Xo(o)!==null)continue}else j=p.action;typeof j=="function"?a[n+1]=j:(a.splice(n,3),n-=3),Qh(a)}}}function Yh(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(p){return o=p})},focusReset:"manual",scroll:"manual"})}function s(){o!==null&&(o(),o=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,o=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),o!==null&&(o(),o=null)}}}function Jo(t){this._internalRoot=t}ti.prototype.render=Jo.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(c(409));var a=s.current,n=qt();Bh(a,n,t,s,null,null)},ti.prototype.unmount=Jo.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Bh(t.current,2,null,t,null,null),zr(),s[Ua]=null}};function ti(t){this._internalRoot=t}ti.prototype.unstable_scheduleHydration=function(t){if(t){var s=tu();t={blockedOn:null,target:t,priority:s};for(var a=0;a<ra.length&&s!==0&&s<ra[a].priority;a++);ra.splice(a,0,t),a===0&&Fh(t)}};var Kh=r.version;if(Kh!=="19.2.0")throw Error(c(527,Kh,"19.2.0"));Z.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(c(188)):(t=Object.keys(t).join(","),Error(c(268,t)));return t=f(s),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var pb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var si=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!si.isDisabled&&si.supportsFiber)try{Rl=si.inject(pb),Ot=si}catch{}}return _n.createRoot=function(t,s){if(!u(t))throw Error(c(299));var a=!1,n="",o=Im,d=ex,p=tx;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onUncaughtError!==void 0&&(o=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=kh(t,1,!1,null,null,a,n,null,o,d,p,Yh),t[Ua]=s.current,Mo(t),new Jo(s)},_n.hydrateRoot=function(t,s,a){if(!u(t))throw Error(c(299));var n=!1,o="",d=Im,p=ex,j=tx,E=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(j=a.onRecoverableError),a.formState!==void 0&&(E=a.formState)),s=kh(t,1,!0,s,a??null,n,o,E,d,p,j,Yh),s.context=zh(null),a=s.current,n=qt(),n=Hi(n),o=Ys(n),o.callback=null,Ks(a,o,n),a=n,s.current.lanes=a,Ml(s,a),ds(s),t[Ua]=s.current,Mo(t),new ti(s)},_n.version="19.2.0",_n}var sf;function Eb(){if(sf)return ed.exports;sf=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),ed.exports=Cb(),ed.exports}var Ab=Eb();const Tb=Hf(Ab);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var af="popstate";function Rb(l={}){function r(c,u){let{pathname:m,search:x,hash:h}=c.location;return xd("",{pathname:m,search:x,hash:h},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(c,u){return typeof u=="string"?u:An(u)}return Mb(r,i,null,l)}function Ye(l,r){if(l===!1||l===null||typeof l>"u")throw new Error(r)}function Jt(l,r){if(!l){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Ob(){return Math.random().toString(36).substring(2,10)}function lf(l,r){return{usr:l.state,key:l.key,idx:r}}function xd(l,r,i=null,c){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof r=="string"?wl(r):r,state:i,key:r&&r.key||c||Ob()}}function An({pathname:l="/",search:r="",hash:i=""}){return r&&r!=="?"&&(l+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(l+=i.charAt(0)==="#"?i:"#"+i),l}function wl(l){let r={};if(l){let i=l.indexOf("#");i>=0&&(r.hash=l.substring(i),l=l.substring(0,i));let c=l.indexOf("?");c>=0&&(r.search=l.substring(c),l=l.substring(0,c)),l&&(r.pathname=l)}return r}function Mb(l,r,i,c={}){let{window:u=document.defaultView,v5Compat:m=!1}=c,x=u.history,h="POP",b=null,f=g();f==null&&(f=0,x.replaceState({...x.state,idx:f},""));function g(){return(x.state||{idx:null}).idx}function y(){h="POP";let v=g(),S=v==null?null:v-f;f=v,b&&b({action:h,location:_.location,delta:S})}function N(v,S){h="PUSH";let M=xd(_.location,v,S);f=g()+1;let F=lf(M,f),z=_.createHref(M);try{x.pushState(F,"",z)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;u.location.assign(z)}m&&b&&b({action:h,location:_.location,delta:1})}function O(v,S){h="REPLACE";let M=xd(_.location,v,S);f=g();let F=lf(M,f),z=_.createHref(M);x.replaceState(F,"",z),m&&b&&b({action:h,location:_.location,delta:0})}function w(v){return Db(v)}let _={get action(){return h},get location(){return l(u,x)},listen(v){if(b)throw new Error("A history only accepts one active listener");return u.addEventListener(af,y),b=v,()=>{u.removeEventListener(af,y),b=null}},createHref(v){return r(u,v)},createURL:w,encodeLocation(v){let S=w(v);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:N,replace:O,go(v){return x.go(v)}};return _}function Db(l,r=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ye(i,"No window.location.(origin|href) available to create URL");let c=typeof l=="string"?l:An(l);return c=c.replace(/ $/,"%20"),!r&&c.startsWith("//")&&(c=i+c),new URL(c,i)}function Pf(l,r,i="/"){return kb(l,r,i,!1)}function kb(l,r,i,c){let u=typeof r=="string"?wl(r):r,m=zs(u.pathname||"/",i);if(m==null)return null;let x=Ff(l);zb(x);let h=null;for(let b=0;h==null&&b<x.length;++b){let f=Kb(m);h=Qb(x[b],f,c)}return h}function Ff(l,r=[],i=[],c="",u=!1){let m=(x,h,b=u,f)=>{let g={relativePath:f===void 0?x.path||"":f,caseSensitive:x.caseSensitive===!0,childrenIndex:h,route:x};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(c)&&b)return;Ye(g.relativePath.startsWith(c),`Absolute route path "${g.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(c.length)}let y=ks([c,g.relativePath]),N=i.concat(g);x.children&&x.children.length>0&&(Ye(x.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Ff(x.children,r,N,y,b)),!(x.path==null&&!x.index)&&r.push({path:y,score:Fb(y,x.index),routesMeta:N})};return l.forEach((x,h)=>{if(x.path===""||!x.path?.includes("?"))m(x,h);else for(let b of $f(x.path))m(x,h,!0,b)}),r}function $f(l){let r=l.split("/");if(r.length===0)return[];let[i,...c]=r,u=i.endsWith("?"),m=i.replace(/\?$/,"");if(c.length===0)return u?[m,""]:[m];let x=$f(c.join("/")),h=[];return h.push(...x.map(b=>b===""?m:[m,b].join("/"))),u&&h.push(...x),h.map(b=>l.startsWith("/")&&b===""?"/":b)}function zb(l){l.sort((r,i)=>r.score!==i.score?i.score-r.score:$b(r.routesMeta.map(c=>c.childrenIndex),i.routesMeta.map(c=>c.childrenIndex)))}var Bb=/^:[\w-]+$/,Ub=3,Lb=2,qb=1,Hb=10,Pb=-2,nf=l=>l==="*";function Fb(l,r){let i=l.split("/"),c=i.length;return i.some(nf)&&(c+=Pb),r&&(c+=Lb),i.filter(u=>!nf(u)).reduce((u,m)=>u+(Bb.test(m)?Ub:m===""?qb:Hb),c)}function $b(l,r){return l.length===r.length&&l.slice(0,-1).every((c,u)=>c===r[u])?l[l.length-1]-r[r.length-1]:0}function Qb(l,r,i=!1){let{routesMeta:c}=l,u={},m="/",x=[];for(let h=0;h<c.length;++h){let b=c[h],f=h===c.length-1,g=m==="/"?r:r.slice(m.length)||"/",y=hi({path:b.relativePath,caseSensitive:b.caseSensitive,end:f},g),N=b.route;if(!y&&f&&i&&!c[c.length-1].route.index&&(y=hi({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},g)),!y)return null;Object.assign(u,y.params),x.push({params:u,pathname:ks([m,y.pathname]),pathnameBase:Zb(ks([m,y.pathnameBase])),route:N}),y.pathnameBase!=="/"&&(m=ks([m,y.pathnameBase]))}return x}function hi(l,r){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[i,c]=Yb(l.path,l.caseSensitive,l.end),u=r.match(i);if(!u)return null;let m=u[0],x=m.replace(/(.)\/+$/,"$1"),h=u.slice(1);return{params:c.reduce((f,{paramName:g,isOptional:y},N)=>{if(g==="*"){let w=h[N]||"";x=m.slice(0,m.length-w.length).replace(/(.)\/+$/,"$1")}const O=h[N];return y&&!O?f[g]=void 0:f[g]=(O||"").replace(/%2F/g,"/"),f},{}),pathname:m,pathnameBase:x,pattern:l}}function Yb(l,r=!1,i=!0){Jt(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let c=[],u="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(x,h,b)=>(c.push({paramName:h,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(c.push({paramName:"*"}),u+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":l!==""&&l!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,r?void 0:"i"),c]}function Kb(l){try{return l.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Jt(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),l}}function zs(l,r){if(r==="/")return l;if(!l.toLowerCase().startsWith(r.toLowerCase()))return null;let i=r.endsWith("/")?r.length-1:r.length,c=l.charAt(i);return c&&c!=="/"?null:l.slice(i)||"/"}function Gb(l,r="/"){let{pathname:i,search:c="",hash:u=""}=typeof l=="string"?wl(l):l;return{pathname:i?i.startsWith("/")?i:Vb(i,r):r,search:Jb(c),hash:Wb(u)}}function Vb(l,r){let i=r.replace(/\/+$/,"").split("/");return l.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function ld(l,r,i,c){return`Cannot include a '${l}' character in a manually specified \`to.${r}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xb(l){return l.filter((r,i)=>i===0||r.route.path&&r.route.path.length>0)}function Td(l){let r=Xb(l);return r.map((i,c)=>c===r.length-1?i.pathname:i.pathnameBase)}function Rd(l,r,i,c=!1){let u;typeof l=="string"?u=wl(l):(u={...l},Ye(!u.pathname||!u.pathname.includes("?"),ld("?","pathname","search",u)),Ye(!u.pathname||!u.pathname.includes("#"),ld("#","pathname","hash",u)),Ye(!u.search||!u.search.includes("#"),ld("#","search","hash",u)));let m=l===""||u.pathname==="",x=m?"/":u.pathname,h;if(x==null)h=i;else{let y=r.length-1;if(!c&&x.startsWith("..")){let N=x.split("/");for(;N[0]==="..";)N.shift(),y-=1;u.pathname=N.join("/")}h=y>=0?r[y]:"/"}let b=Gb(u,h),f=x&&x!=="/"&&x.endsWith("/"),g=(m||x===".")&&i.endsWith("/");return!b.pathname.endsWith("/")&&(f||g)&&(b.pathname+="/"),b}var ks=l=>l.join("/").replace(/\/\/+/g,"/"),Zb=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),Jb=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,Wb=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function Ib(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}var Qf=["POST","PUT","PATCH","DELETE"];new Set(Qf);var ey=["GET",...Qf];new Set(ey);var _l=C.createContext(null);_l.displayName="DataRouter";var ji=C.createContext(null);ji.displayName="DataRouterState";C.createContext(!1);var Yf=C.createContext({isTransitioning:!1});Yf.displayName="ViewTransition";var ty=C.createContext(new Map);ty.displayName="Fetchers";var sy=C.createContext(null);sy.displayName="Await";var ls=C.createContext(null);ls.displayName="Navigation";var On=C.createContext(null);On.displayName="Location";var ns=C.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var Od=C.createContext(null);Od.displayName="RouteError";function ay(l,{relative:r}={}){Ye(Sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:c}=C.useContext(ls),{hash:u,pathname:m,search:x}=Mn(l,{relative:r}),h=m;return i!=="/"&&(h=m==="/"?i:ks([i,m])),c.createHref({pathname:h,search:x,hash:u})}function Sl(){return C.useContext(On)!=null}function Wt(){return Ye(Sl(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(On).location}var Kf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gf(l){C.useContext(ls).static||C.useLayoutEffect(l)}function It(){let{isDataRoute:l}=C.useContext(ns);return l?py():ly()}function ly(){Ye(Sl(),"useNavigate() may be used only in the context of a <Router> component.");let l=C.useContext(_l),{basename:r,navigator:i}=C.useContext(ls),{matches:c}=C.useContext(ns),{pathname:u}=Wt(),m=JSON.stringify(Td(c)),x=C.useRef(!1);return Gf(()=>{x.current=!0}),C.useCallback((b,f={})=>{if(Jt(x.current,Kf),!x.current)return;if(typeof b=="number"){i.go(b);return}let g=Rd(b,JSON.parse(m),u,f.relative==="path");l==null&&r!=="/"&&(g.pathname=g.pathname==="/"?r:ks([r,g.pathname])),(f.replace?i.replace:i.push)(g,f.state,f)},[r,i,m,u,l])}C.createContext(null);function pt(){let{matches:l}=C.useContext(ns),r=l[l.length-1];return r?r.params:{}}function Mn(l,{relative:r}={}){let{matches:i}=C.useContext(ns),{pathname:c}=Wt(),u=JSON.stringify(Td(i));return C.useMemo(()=>Rd(l,JSON.parse(u),c,r==="path"),[l,u,c,r])}function ny(l,r){return Vf(l,r)}function Vf(l,r,i,c,u){Ye(Sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=C.useContext(ls),{matches:x}=C.useContext(ns),h=x[x.length-1],b=h?h.params:{},f=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let M=y&&y.path||"";Xf(f,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let N=Wt(),O;if(r){let M=typeof r=="string"?wl(r):r;Ye(g==="/"||M.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),O=M}else O=N;let w=O.pathname||"/",_=w;if(g!=="/"){let M=g.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(M.length).join("/")}let v=Pf(l,{pathname:_});Jt(y||v!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Jt(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=dy(v&&v.map(M=>Object.assign({},M,{params:Object.assign({},b,M.params),pathname:ks([g,m.encodeLocation?m.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:ks([g,m.encodeLocation?m.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),x,i,c,u);return r&&S?C.createElement(On.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},S):S}function ry(){let l=fy(),r=Ib(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),i=l instanceof Error?l.stack:null,c="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:c},m={padding:"2px 4px",backgroundColor:c},x=null;return console.error("Error handled by React Router default ErrorBoundary:",l),x=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:m},"ErrorBoundary")," or"," ",C.createElement("code",{style:m},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},r),i?C.createElement("pre",{style:u},i):null,x)}var iy=C.createElement(ry,null),cy=class extends C.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,r){return r.location!==l.location||r.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:r.error,location:r.location,revalidation:l.revalidation||r.revalidation}}componentDidCatch(l,r){this.props.unstable_onError?this.props.unstable_onError(l,r):console.error("React Router caught the following error during render",l)}render(){return this.state.error!==void 0?C.createElement(ns.Provider,{value:this.props.routeContext},C.createElement(Od.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oy({routeContext:l,match:r,children:i}){let c=C.useContext(_l);return c&&c.static&&c.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(ns.Provider,{value:l},i)}function dy(l,r=[],i=null,c=null,u=null){if(l==null){if(!i)return null;if(i.errors)l=i.matches;else if(r.length===0&&!i.initialized&&i.matches.length>0)l=i.matches;else return null}let m=l,x=i?.errors;if(x!=null){let f=m.findIndex(g=>g.route.id&&x?.[g.route.id]!==void 0);Ye(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(x).join(",")}`),m=m.slice(0,Math.min(m.length,f+1))}let h=!1,b=-1;if(i)for(let f=0;f<m.length;f++){let g=m[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(b=f),g.route.id){let{loaderData:y,errors:N}=i,O=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!N||N[g.route.id]===void 0);if(g.route.lazy||O){h=!0,b>=0?m=m.slice(0,b+1):m=[m[0]];break}}}return m.reduceRight((f,g,y)=>{let N,O=!1,w=null,_=null;i&&(N=x&&g.route.id?x[g.route.id]:void 0,w=g.route.errorElement||iy,h&&(b<0&&y===0?(Xf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,_=null):b===y&&(O=!0,_=g.route.hydrateFallbackElement||null)));let v=r.concat(m.slice(0,y+1)),S=()=>{let M;return N?M=w:O?M=_:g.route.Component?M=C.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=f,C.createElement(oy,{match:g,routeContext:{outlet:f,matches:v,isDataRoute:i!=null},children:M})};return i&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?C.createElement(cy,{location:i.location,revalidation:i.revalidation,component:w,error:N,children:S(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:c}):S()},null)}function Md(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uy(l){let r=C.useContext(_l);return Ye(r,Md(l)),r}function my(l){let r=C.useContext(ji);return Ye(r,Md(l)),r}function xy(l){let r=C.useContext(ns);return Ye(r,Md(l)),r}function Dd(l){let r=xy(l),i=r.matches[r.matches.length-1];return Ye(i.route.id,`${l} can only be used on routes that contain a unique "id"`),i.route.id}function hy(){return Dd("useRouteId")}function fy(){let l=C.useContext(Od),r=my("useRouteError"),i=Dd("useRouteError");return l!==void 0?l:r.errors?.[i]}function py(){let{router:l}=uy("useNavigate"),r=Dd("useNavigate"),i=C.useRef(!1);return Gf(()=>{i.current=!0}),C.useCallback(async(u,m={})=>{Jt(i.current,Kf),i.current&&(typeof u=="number"?l.navigate(u):await l.navigate(u,{fromRouteId:r,...m}))},[l,r])}var rf={};function Xf(l,r,i){!r&&!rf[l]&&(rf[l]=!0,Jt(!1,i))}C.memo(gy);function gy({routes:l,future:r,state:i,unstable_onError:c}){return Vf(l,void 0,i,c,r)}function Zf({to:l,replace:r,state:i,relative:c}){Ye(Sl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=C.useContext(ls);Jt(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:m}=C.useContext(ns),{pathname:x}=Wt(),h=It(),b=Rd(l,Td(m),x,c==="path"),f=JSON.stringify(b);return C.useEffect(()=>{h(JSON.parse(f),{replace:r,state:i,relative:c})},[h,f,c,r,i]),null}function we(l){Ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function by({basename:l="/",children:r=null,location:i,navigationType:c="POP",navigator:u,static:m=!1}){Ye(!Sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=l.replace(/^\/*/,"/"),h=C.useMemo(()=>({basename:x,navigator:u,static:m,future:{}}),[x,u,m]);typeof i=="string"&&(i=wl(i));let{pathname:b="/",search:f="",hash:g="",state:y=null,key:N="default"}=i,O=C.useMemo(()=>{let w=zs(b,x);return w==null?null:{location:{pathname:w,search:f,hash:g,state:y,key:N},navigationType:c}},[x,b,f,g,y,N,c]);return Jt(O!=null,`<Router basename="${x}"> is not able to match the URL "${b}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:C.createElement(ls.Provider,{value:h},C.createElement(On.Provider,{children:r,value:O}))}function yy({children:l,location:r}){return ny(hd(l),r)}function hd(l,r=[]){let i=[];return C.Children.forEach(l,(c,u)=>{if(!C.isValidElement(c))return;let m=[...r,u];if(c.type===C.Fragment){i.push.apply(i,hd(c.props.children,m));return}Ye(c.type===we,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ye(!c.props.index||!c.props.children,"An index route cannot have child routes.");let x={id:c.props.id||m.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,middleware:c.props.middleware,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(x.children=hd(c.props.children,m)),i.push(x)}),i}var ci="get",oi="application/x-www-form-urlencoded";function vi(l){return l!=null&&typeof l.tagName=="string"}function jy(l){return vi(l)&&l.tagName.toLowerCase()==="button"}function vy(l){return vi(l)&&l.tagName.toLowerCase()==="form"}function Ny(l){return vi(l)&&l.tagName.toLowerCase()==="input"}function wy(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function _y(l,r){return l.button===0&&(!r||r==="_self")&&!wy(l)}function fd(l=""){return new URLSearchParams(typeof l=="string"||Array.isArray(l)||l instanceof URLSearchParams?l:Object.keys(l).reduce((r,i)=>{let c=l[i];return r.concat(Array.isArray(c)?c.map(u=>[i,u]):[[i,c]])},[]))}function Sy(l,r){let i=fd(l);return r&&r.forEach((c,u)=>{i.has(u)||r.getAll(u).forEach(m=>{i.append(u,m)})}),i}var ai=null;function Cy(){if(ai===null)try{new FormData(document.createElement("form"),0),ai=!1}catch{ai=!0}return ai}var Ey=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nd(l){return l!=null&&!Ey.has(l)?(Jt(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oi}"`),null):l}function Ay(l,r){let i,c,u,m,x;if(vy(l)){let h=l.getAttribute("action");c=h?zs(h,r):null,i=l.getAttribute("method")||ci,u=nd(l.getAttribute("enctype"))||oi,m=new FormData(l)}else if(jy(l)||Ny(l)&&(l.type==="submit"||l.type==="image")){let h=l.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=l.getAttribute("formaction")||h.getAttribute("action");if(c=b?zs(b,r):null,i=l.getAttribute("formmethod")||h.getAttribute("method")||ci,u=nd(l.getAttribute("formenctype"))||nd(h.getAttribute("enctype"))||oi,m=new FormData(h,l),!Cy()){let{name:f,type:g,value:y}=l;if(g==="image"){let N=f?`${f}.`:"";m.append(`${N}x`,"0"),m.append(`${N}y`,"0")}else f&&m.append(f,y)}}else{if(vi(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=ci,c=null,u=oi,x=l}return m&&u==="text/plain"&&(x=m,m=void 0),{action:c,method:i.toLowerCase(),encType:u,formData:m,body:x}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kd(l,r){if(l===!1||l===null||typeof l>"u")throw new Error(r)}function Ty(l,r,i){let c=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return c.pathname==="/"?c.pathname=`_root.${i}`:r&&zs(c.pathname,r)==="/"?c.pathname=`${r.replace(/\/$/,"")}/_root.${i}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${i}`,c}async function Ry(l,r){if(l.id in r)return r[l.id];try{let i=await import(l.module);return r[l.id]=i,i}catch(i){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Oy(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function My(l,r,i){let c=await Promise.all(l.map(async u=>{let m=r.routes[u.route.id];if(m){let x=await Ry(m,i);return x.links?x.links():[]}return[]}));return By(c.flat(1).filter(Oy).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function cf(l,r,i,c,u,m){let x=(b,f)=>i[f]?b.route.id!==i[f].route.id:!0,h=(b,f)=>i[f].pathname!==b.pathname||i[f].route.path?.endsWith("*")&&i[f].params["*"]!==b.params["*"];return m==="assets"?r.filter((b,f)=>x(b,f)||h(b,f)):m==="data"?r.filter((b,f)=>{let g=c.routes[b.route.id];if(!g||!g.hasLoader)return!1;if(x(b,f)||h(b,f))return!0;if(b.route.shouldRevalidate){let y=b.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Dy(l,r,{includeHydrateFallback:i}={}){return ky(l.map(c=>{let u=r.routes[c.route.id];if(!u)return[];let m=[u.module];return u.clientActionModule&&(m=m.concat(u.clientActionModule)),u.clientLoaderModule&&(m=m.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(m=m.concat(u.hydrateFallbackModule)),u.imports&&(m=m.concat(u.imports)),m}).flat(1))}function ky(l){return[...new Set(l)]}function zy(l){let r={},i=Object.keys(l).sort();for(let c of i)r[c]=l[c];return r}function By(l,r){let i=new Set;return new Set(r),l.reduce((c,u)=>{let m=JSON.stringify(zy(u));return i.has(m)||(i.add(m),c.push({key:m,link:u})),c},[])}function Jf(){let l=C.useContext(_l);return kd(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function Uy(){let l=C.useContext(ji);return kd(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var zd=C.createContext(void 0);zd.displayName="FrameworkContext";function Wf(){let l=C.useContext(zd);return kd(l,"You must render this element inside a <HydratedRouter> element"),l}function Ly(l,r){let i=C.useContext(zd),[c,u]=C.useState(!1),[m,x]=C.useState(!1),{onFocus:h,onBlur:b,onMouseEnter:f,onMouseLeave:g,onTouchStart:y}=r,N=C.useRef(null);C.useEffect(()=>{if(l==="render"&&x(!0),l==="viewport"){let _=S=>{S.forEach(M=>{x(M.isIntersecting)})},v=new IntersectionObserver(_,{threshold:.5});return N.current&&v.observe(N.current),()=>{v.disconnect()}}},[l]),C.useEffect(()=>{if(c){let _=setTimeout(()=>{x(!0)},100);return()=>{clearTimeout(_)}}},[c]);let O=()=>{u(!0)},w=()=>{u(!1),x(!1)};return i?l!=="intent"?[m,N,{}]:[m,N,{onFocus:Sn(h,O),onBlur:Sn(b,w),onMouseEnter:Sn(f,O),onMouseLeave:Sn(g,w),onTouchStart:Sn(y,O)}]:[!1,N,{}]}function Sn(l,r){return i=>{l&&l(i),i.defaultPrevented||r(i)}}function qy({page:l,...r}){let{router:i}=Jf(),c=C.useMemo(()=>Pf(i.routes,l,i.basename),[i.routes,l,i.basename]);return c?C.createElement(Py,{page:l,matches:c,...r}):null}function Hy(l){let{manifest:r,routeModules:i}=Wf(),[c,u]=C.useState([]);return C.useEffect(()=>{let m=!1;return My(l,r,i).then(x=>{m||u(x)}),()=>{m=!0}},[l,r,i]),c}function Py({page:l,matches:r,...i}){let c=Wt(),{manifest:u,routeModules:m}=Wf(),{basename:x}=Jf(),{loaderData:h,matches:b}=Uy(),f=C.useMemo(()=>cf(l,r,b,u,c,"data"),[l,r,b,u,c]),g=C.useMemo(()=>cf(l,r,b,u,c,"assets"),[l,r,b,u,c]),y=C.useMemo(()=>{if(l===c.pathname+c.search+c.hash)return[];let w=new Set,_=!1;if(r.forEach(S=>{let M=u.routes[S.route.id];!M||!M.hasLoader||(!f.some(F=>F.route.id===S.route.id)&&S.route.id in h&&m[S.route.id]?.shouldRevalidate||M.hasClientLoader?_=!0:w.add(S.route.id))}),w.size===0)return[];let v=Ty(l,x,"data");return _&&w.size>0&&v.searchParams.set("_routes",r.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[v.pathname+v.search]},[x,h,c,u,f,r,l,m]),N=C.useMemo(()=>Dy(g,u),[g,u]),O=Hy(g);return C.createElement(C.Fragment,null,y.map(w=>C.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...i})),N.map(w=>C.createElement("link",{key:w,rel:"modulepreload",href:w,...i})),O.map(({key:w,link:_})=>C.createElement("link",{key:w,nonce:i.nonce,..._})))}function Fy(...l){return r=>{l.forEach(i=>{typeof i=="function"?i(r):i!=null&&(i.current=r)})}}var If=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{If&&(window.__reactRouterVersion="7.9.4")}catch{}function $y({basename:l,children:r,window:i}){let c=C.useRef();c.current==null&&(c.current=Rb({window:i,v5Compat:!0}));let u=c.current,[m,x]=C.useState({action:u.action,location:u.location}),h=C.useCallback(b=>{C.startTransition(()=>x(b))},[x]);return C.useLayoutEffect(()=>u.listen(h),[u,h]),C.createElement(by,{basename:l,children:r,location:m.location,navigationType:m.action,navigator:u})}var e0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X=C.forwardRef(function({onClick:r,discover:i="render",prefetch:c="none",relative:u,reloadDocument:m,replace:x,state:h,target:b,to:f,preventScrollReset:g,viewTransition:y,...N},O){let{basename:w}=C.useContext(ls),_=typeof f=="string"&&e0.test(f),v,S=!1;if(typeof f=="string"&&_&&(v=f,If))try{let ne=new URL(window.location.href),ge=f.startsWith("//")?new URL(ne.protocol+f):new URL(f),ae=zs(ge.pathname,w);ge.origin===ne.origin&&ae!=null?f=ae+ge.search+ge.hash:S=!0}catch{Jt(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=ay(f,{relative:u}),[F,z,R]=Ly(c,N),D=Gy(f,{replace:x,state:h,target:b,preventScrollReset:g,relative:u,viewTransition:y});function Y(ne){r&&r(ne),ne.defaultPrevented||D(ne)}let J=C.createElement("a",{...N,...R,href:v||M,onClick:S||m?r:Y,ref:Fy(O,z),target:b,"data-discover":!_&&i==="render"?"true":void 0});return F&&!_?C.createElement(C.Fragment,null,J,C.createElement(qy,{page:M})):J});X.displayName="Link";var Qy=C.forwardRef(function({"aria-current":r="page",caseSensitive:i=!1,className:c="",end:u=!1,style:m,to:x,viewTransition:h,children:b,...f},g){let y=Mn(x,{relative:f.relative}),N=Wt(),O=C.useContext(ji),{navigator:w,basename:_}=C.useContext(ls),v=O!=null&&Iy(y)&&h===!0,S=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,M=N.pathname,F=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;i||(M=M.toLowerCase(),F=F?F.toLowerCase():null,S=S.toLowerCase()),F&&_&&(F=zs(F,_)||F);const z=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let R=M===S||!u&&M.startsWith(S)&&M.charAt(z)==="/",D=F!=null&&(F===S||!u&&F.startsWith(S)&&F.charAt(S.length)==="/"),Y={isActive:R,isPending:D,isTransitioning:v},J=R?r:void 0,ne;typeof c=="function"?ne=c(Y):ne=[c,R?"active":null,D?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let ge=typeof m=="function"?m(Y):m;return C.createElement(X,{...f,"aria-current":J,className:ne,ref:g,style:ge,to:x,viewTransition:h},typeof b=="function"?b(Y):b)});Qy.displayName="NavLink";var Yy=C.forwardRef(({discover:l="render",fetcherKey:r,navigate:i,reloadDocument:c,replace:u,state:m,method:x=ci,action:h,onSubmit:b,relative:f,preventScrollReset:g,viewTransition:y,...N},O)=>{let w=Jy(),_=Wy(h,{relative:f}),v=x.toLowerCase()==="get"?"get":"post",S=typeof h=="string"&&e0.test(h),M=F=>{if(b&&b(F),F.defaultPrevented)return;F.preventDefault();let z=F.nativeEvent.submitter,R=z?.getAttribute("formmethod")||x;w(z||F.currentTarget,{fetcherKey:r,method:R,navigate:i,replace:u,state:m,relative:f,preventScrollReset:g,viewTransition:y})};return C.createElement("form",{ref:O,method:v,action:_,onSubmit:c?b:M,...N,"data-discover":!S&&l==="render"?"true":void 0})});Yy.displayName="Form";function Ky(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t0(l){let r=C.useContext(_l);return Ye(r,Ky(l)),r}function Gy(l,{target:r,replace:i,state:c,preventScrollReset:u,relative:m,viewTransition:x}={}){let h=It(),b=Wt(),f=Mn(l,{relative:m});return C.useCallback(g=>{if(_y(g,r)){g.preventDefault();let y=i!==void 0?i:An(b)===An(f);h(l,{replace:y,state:c,preventScrollReset:u,relative:m,viewTransition:x})}},[b,h,f,i,c,r,l,u,m,x])}function Vy(l){Jt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=C.useRef(fd(l)),i=C.useRef(!1),c=Wt(),u=C.useMemo(()=>Sy(c.search,i.current?null:r.current),[c.search]),m=It(),x=C.useCallback((h,b)=>{const f=fd(typeof h=="function"?h(new URLSearchParams(u)):h);i.current=!0,m("?"+f,b)},[m,u]);return[u,x]}var Xy=0,Zy=()=>`__${String(++Xy)}__`;function Jy(){let{router:l}=t0("useSubmit"),{basename:r}=C.useContext(ls),i=hy();return C.useCallback(async(c,u={})=>{let{action:m,method:x,encType:h,formData:b,body:f}=Ay(c,r);if(u.navigate===!1){let g=u.fetcherKey||Zy();await l.fetch(g,i,u.action||m,{preventScrollReset:u.preventScrollReset,formData:b,body:f,formMethod:u.method||x,formEncType:u.encType||h,flushSync:u.flushSync})}else await l.navigate(u.action||m,{preventScrollReset:u.preventScrollReset,formData:b,body:f,formMethod:u.method||x,formEncType:u.encType||h,replace:u.replace,state:u.state,fromRouteId:i,flushSync:u.flushSync,viewTransition:u.viewTransition})},[l,r,i])}function Wy(l,{relative:r}={}){let{basename:i}=C.useContext(ls),c=C.useContext(ns);Ye(c,"useFormAction must be used inside a RouteContext");let[u]=c.matches.slice(-1),m={...Mn(l||".",{relative:r})},x=Wt();if(l==null){m.search=x.search;let h=new URLSearchParams(m.search),b=h.getAll("index");if(b.some(g=>g==="")){h.delete("index"),b.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();m.search=g?`?${g}`:""}}return(!l||l===".")&&u.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(m.pathname=m.pathname==="/"?i:ks([i,m.pathname])),An(m)}function Iy(l,{relative:r}={}){let i=C.useContext(Yf);Ye(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=t0("useViewTransitionState"),u=Mn(l,{relative:r});if(!i.isTransitioning)return!1;let m=zs(i.currentLocation.pathname,c)||i.currentLocation.pathname,x=zs(i.nextLocation.pathname,c)||i.nextLocation.pathname;return hi(u.pathname,x)!=null||hi(u.pathname,m)!=null}var Cl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(l){return this.listeners.add(l),this.onSubscribe(),()=>{this.listeners.delete(l),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ej={setTimeout:(l,r)=>setTimeout(l,r),clearTimeout:l=>clearTimeout(l),setInterval:(l,r)=>setInterval(l,r),clearInterval:l=>clearInterval(l)},tj=class{#e=ej;#t=!1;setTimeoutProvider(l){this.#e=l}setTimeout(l,r){return this.#e.setTimeout(l,r)}clearTimeout(l){this.#e.clearTimeout(l)}setInterval(l,r){return this.#e.setInterval(l,r)}clearInterval(l){this.#e.clearInterval(l)}},Oa=new tj;function sj(l){setTimeout(l,0)}var ka=typeof window>"u"||"Deno"in globalThis;function yt(){}function aj(l,r){return typeof l=="function"?l(r):l}function pd(l){return typeof l=="number"&&l>=0&&l!==1/0}function s0(l,r){return Math.max(l+(r||0)-Date.now(),0)}function da(l,r){return typeof l=="function"?l(r):l}function Zt(l,r){return typeof l=="function"?l(r):l}function of(l,r){const{type:i="all",exact:c,fetchStatus:u,predicate:m,queryKey:x,stale:h}=l;if(x){if(c){if(r.queryHash!==Bd(x,r.options))return!1}else if(!Tn(r.queryKey,x))return!1}if(i!=="all"){const b=r.isActive();if(i==="active"&&!b||i==="inactive"&&b)return!1}return!(typeof h=="boolean"&&r.isStale()!==h||u&&u!==r.state.fetchStatus||m&&!m(r))}function df(l,r){const{exact:i,status:c,predicate:u,mutationKey:m}=l;if(m){if(!r.options.mutationKey)return!1;if(i){if(za(r.options.mutationKey)!==za(m))return!1}else if(!Tn(r.options.mutationKey,m))return!1}return!(c&&r.state.status!==c||u&&!u(r))}function Bd(l,r){return(r?.queryKeyHashFn||za)(l)}function za(l){return JSON.stringify(l,(r,i)=>gd(i)?Object.keys(i).sort().reduce((c,u)=>(c[u]=i[u],c),{}):i)}function Tn(l,r){return l===r?!0:typeof l!=typeof r?!1:l&&r&&typeof l=="object"&&typeof r=="object"?Object.keys(r).every(i=>Tn(l[i],r[i])):!1}var lj=Object.prototype.hasOwnProperty;function a0(l,r){if(l===r)return l;const i=uf(l)&&uf(r);if(!i&&!(gd(l)&&gd(r)))return r;const u=(i?l:Object.keys(l)).length,m=i?r:Object.keys(r),x=m.length,h=i?new Array(x):{};let b=0;for(let f=0;f<x;f++){const g=i?f:m[f],y=l[g],N=r[g];if(y===N){h[g]=y,(i?f<u:lj.call(l,g))&&b++;continue}if(y===null||N===null||typeof y!="object"||typeof N!="object"){h[g]=N;continue}const O=a0(y,N);h[g]=O,O===y&&b++}return u===x&&b===u?l:h}function fi(l,r){if(!r||Object.keys(l).length!==Object.keys(r).length)return!1;for(const i in l)if(l[i]!==r[i])return!1;return!0}function uf(l){return Array.isArray(l)&&l.length===Object.keys(l).length}function gd(l){if(!mf(l))return!1;const r=l.constructor;if(r===void 0)return!0;const i=r.prototype;return!(!mf(i)||!i.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(l)!==Object.prototype)}function mf(l){return Object.prototype.toString.call(l)==="[object Object]"}function nj(l){return new Promise(r=>{Oa.setTimeout(r,l)})}function bd(l,r,i){return typeof i.structuralSharing=="function"?i.structuralSharing(l,r):i.structuralSharing!==!1?a0(l,r):r}function rj(l,r,i=0){const c=[...l,r];return i&&c.length>i?c.slice(1):c}function ij(l,r,i=0){const c=[r,...l];return i&&c.length>i?c.slice(0,-1):c}var Ud=Symbol();function l0(l,r){return!l.queryFn&&r?.initialPromise?()=>r.initialPromise:!l.queryFn||l.queryFn===Ud?()=>Promise.reject(new Error(`Missing queryFn: '${l.queryHash}'`)):l.queryFn}function n0(l,r){return typeof l=="function"?l(...r):!!l}var cj=class extends Cl{#e;#t;#s;constructor(){super(),this.#s=l=>{if(!ka&&window.addEventListener){const r=()=>l();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(l){this.#s=l,this.#t?.(),this.#t=l(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(l){this.#e!==l&&(this.#e=l,this.onFocus())}onFocus(){const l=this.isFocused();this.listeners.forEach(r=>{r(l)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Ld=new cj;function yd(){let l,r;const i=new Promise((u,m)=>{l=u,r=m});i.status="pending",i.catch(()=>{});function c(u){Object.assign(i,u),delete i.resolve,delete i.reject}return i.resolve=u=>{c({status:"fulfilled",value:u}),l(u)},i.reject=u=>{c({status:"rejected",reason:u}),r(u)},i}var oj=sj;function dj(){let l=[],r=0,i=h=>{h()},c=h=>{h()},u=oj;const m=h=>{r?l.push(h):u(()=>{i(h)})},x=()=>{const h=l;l=[],h.length&&u(()=>{c(()=>{h.forEach(b=>{i(b)})})})};return{batch:h=>{let b;r++;try{b=h()}finally{r--,r||x()}return b},batchCalls:h=>(...b)=>{m(()=>{h(...b)})},schedule:m,setNotifyFunction:h=>{i=h},setBatchNotifyFunction:h=>{c=h},setScheduler:h=>{u=h}}}var nt=dj(),uj=class extends Cl{#e=!0;#t;#s;constructor(){super(),this.#s=l=>{if(!ka&&window.addEventListener){const r=()=>l(!0),i=()=>l(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",i)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(l){this.#s=l,this.#t?.(),this.#t=l(this.setOnline.bind(this))}setOnline(l){this.#e!==l&&(this.#e=l,this.listeners.forEach(i=>{i(l)}))}isOnline(){return this.#e}},pi=new uj;function mj(l){return Math.min(1e3*2**l,3e4)}function r0(l){return(l??"online")==="online"?pi.isOnline():!0}var jd=class extends Error{constructor(l){super("CancelledError"),this.revert=l?.revert,this.silent=l?.silent}};function i0(l){let r=!1,i=0,c;const u=yd(),m=()=>u.status!=="pending",x=_=>{if(!m()){const v=new jd(_);N(v),l.onCancel?.(v)}},h=()=>{r=!0},b=()=>{r=!1},f=()=>Ld.isFocused()&&(l.networkMode==="always"||pi.isOnline())&&l.canRun(),g=()=>r0(l.networkMode)&&l.canRun(),y=_=>{m()||(c?.(),u.resolve(_))},N=_=>{m()||(c?.(),u.reject(_))},O=()=>new Promise(_=>{c=v=>{(m()||f())&&_(v)},l.onPause?.()}).then(()=>{c=void 0,m()||l.onContinue?.()}),w=()=>{if(m())return;let _;const v=i===0?l.initialPromise:void 0;try{_=v??l.fn()}catch(S){_=Promise.reject(S)}Promise.resolve(_).then(y).catch(S=>{if(m())return;const M=l.retry??(ka?0:3),F=l.retryDelay??mj,z=typeof F=="function"?F(i,S):F,R=M===!0||typeof M=="number"&&i<M||typeof M=="function"&&M(i,S);if(r||!R){N(S);return}i++,l.onFail?.(i,S),nj(z).then(()=>f()?void 0:O()).then(()=>{r?N(S):w()})})};return{promise:u,status:()=>u.status,cancel:x,continue:()=>(c?.(),u),cancelRetry:h,continueRetry:b,canStart:g,start:()=>(g()?w():O().then(w),u)}}var c0=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pd(this.gcTime)&&(this.#e=Oa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(l){this.gcTime=Math.max(this.gcTime||0,l??(ka?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Oa.clearTimeout(this.#e),this.#e=void 0)}},xj=class extends c0{#e;#t;#s;#l;#a;#r;#i;constructor(l){super(),this.#i=!1,this.#r=l.defaultOptions,this.setOptions(l.options),this.observers=[],this.#l=l.client,this.#s=this.#l.getQueryCache(),this.queryKey=l.queryKey,this.queryHash=l.queryHash,this.#e=xf(this.options),this.state=l.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(l){if(this.options={...this.#r,...l},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=xf(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),this.#e=r)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(l,r){const i=bd(this.state.data,l,this.options);return this.#n({data:i,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),i}setState(l,r){this.#n({type:"setState",state:l,setStateOptions:r})}cancel(l){const r=this.#a?.promise;return this.#a?.cancel(l),r?r.then(yt).catch(yt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(l=>Zt(l.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ud||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(l=>da(l.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(l=>l.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(l=0){return this.state.data===void 0?!0:l==="static"?!1:this.state.isInvalidated?!0:!s0(this.state.dataUpdatedAt,l)}onFocus(){this.observers.find(r=>r.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(r=>r.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(l){this.observers.includes(l)||(this.observers.push(l),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:l}))}removeObserver(l){this.observers.includes(l)&&(this.observers=this.observers.filter(r=>r!==l),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:l}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#n({type:"invalidate"})}async fetch(l,r){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&r?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(l&&this.setOptions(l),!this.options.queryFn){const h=this.observers.find(b=>b.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,c=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#i=!0,i.signal)})},u=()=>{const h=l0(this.options,r),f=(()=>{const g={client:this.#l,queryKey:this.queryKey,meta:this.meta};return c(g),g})();return this.#i=!1,this.options.persister?this.options.persister(h,f,this):h(f)},x=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:this.#l,state:this.state,fetchFn:u};return c(h),h})();this.options.behavior?.onFetch(x,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==x.fetchOptions?.meta)&&this.#n({type:"fetch",meta:x.fetchOptions?.meta}),this.#a=i0({initialPromise:r?.initialPromise,fn:x.fetchFn,onCancel:h=>{h instanceof jd&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),i.abort()},onFail:(h,b)=>{this.#n({type:"failed",failureCount:h,error:b})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:x.options.retry,retryDelay:x.options.retryDelay,networkMode:x.options.networkMode,canRun:()=>!0});try{const h=await this.#a.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#s.config.onSuccess?.(h,this),this.#s.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof jd){if(h.silent)return this.#a.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#n({type:"error",error:h}),this.#s.config.onError?.(h,this),this.#s.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#n(l){const r=i=>{switch(l.type){case"failed":return{...i,fetchFailureCount:l.failureCount,fetchFailureReason:l.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...o0(i.data,this.options),fetchMeta:l.meta??null};case"success":const c={...i,data:l.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:l.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!l.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=l.manual?c:void 0,c;case"error":const u=l.error;return{...i,error:u,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...l.state}}};this.state=r(this.state),nt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:l})})}};function o0(l,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:r0(r.networkMode)?"fetching":"paused",...l===void 0&&{error:null,status:"pending"}}}function xf(l){const r=typeof l.initialData=="function"?l.initialData():l.initialData,i=r!==void 0,c=i?typeof l.initialDataUpdatedAt=="function"?l.initialDataUpdatedAt():l.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:i?c??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}var hj=class extends Cl{constructor(l,r){super(),this.options=r,this.#e=l,this.#n=null,this.#i=yd(),this.bindMethods(),this.setOptions(r)}#e;#t=void 0;#s=void 0;#l=void 0;#a;#r;#i;#n;#f;#m;#x;#o;#d;#c;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),hf(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return vd(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return vd(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#j(),this.#v(),this.#t.removeObserver(this)}setOptions(l){const r=this.options,i=this.#t;if(this.options=this.#e.defaultQueryOptions(l),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Zt(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),r._defaulted&&!fi(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const c=this.hasListeners();c&&ff(this.#t,i,this.options,r)&&this.#u(),this.updateResult(),c&&(this.#t!==i||Zt(this.options.enabled,this.#t)!==Zt(r.enabled,this.#t)||da(this.options.staleTime,this.#t)!==da(r.staleTime,this.#t))&&this.#p();const u=this.#g();c&&(this.#t!==i||Zt(this.options.enabled,this.#t)!==Zt(r.enabled,this.#t)||u!==this.#c)&&this.#b(u)}getOptimisticResult(l){const r=this.#e.getQueryCache().build(this.#e,l),i=this.createResult(r,l);return pj(this,i)&&(this.#l=i,this.#r=this.options,this.#a=this.#t.state),i}getCurrentResult(){return this.#l}trackResult(l,r){return new Proxy(l,{get:(i,c)=>(this.trackProp(c),r?.(c),c==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,c))})}trackProp(l){this.#h.add(l)}getCurrentQuery(){return this.#t}refetch({...l}={}){return this.fetch({...l})}fetchOptimistic(l){const r=this.#e.defaultQueryOptions(l),i=this.#e.getQueryCache().build(this.#e,r);return i.fetch().then(()=>this.createResult(i,r))}fetch(l){return this.#u({...l,cancelRefetch:l.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#l))}#u(l){this.#N();let r=this.#t.fetch(this.options,l);return l?.throwOnError||(r=r.catch(yt)),r}#p(){this.#j();const l=da(this.options.staleTime,this.#t);if(ka||this.#l.isStale||!pd(l))return;const i=s0(this.#l.dataUpdatedAt,l)+1;this.#o=Oa.setTimeout(()=>{this.#l.isStale||this.updateResult()},i)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(l){this.#v(),this.#c=l,!(ka||Zt(this.options.enabled,this.#t)===!1||!pd(this.#c)||this.#c===0)&&(this.#d=Oa.setInterval(()=>{(this.options.refetchIntervalInBackground||Ld.isFocused())&&this.#u()},this.#c))}#y(){this.#p(),this.#b(this.#g())}#j(){this.#o&&(Oa.clearTimeout(this.#o),this.#o=void 0)}#v(){this.#d&&(Oa.clearInterval(this.#d),this.#d=void 0)}createResult(l,r){const i=this.#t,c=this.options,u=this.#l,m=this.#a,x=this.#r,b=l!==i?l.state:this.#s,{state:f}=l;let g={...f},y=!1,N;if(r._optimisticResults){const J=this.hasListeners(),ne=!J&&hf(l,r),ge=J&&ff(l,i,r,c);(ne||ge)&&(g={...g,...o0(f.data,l.options)}),r._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:O,errorUpdatedAt:w,status:_}=g;N=g.data;let v=!1;if(r.placeholderData!==void 0&&N===void 0&&_==="pending"){let J;u?.isPlaceholderData&&r.placeholderData===x?.placeholderData?(J=u.data,v=!0):J=typeof r.placeholderData=="function"?r.placeholderData(this.#x?.state.data,this.#x):r.placeholderData,J!==void 0&&(_="success",N=bd(u?.data,J,r),y=!0)}if(r.select&&N!==void 0&&!v)if(u&&N===m?.data&&r.select===this.#f)N=this.#m;else try{this.#f=r.select,N=r.select(N),N=bd(u?.data,N,r),this.#m=N,this.#n=null}catch(J){this.#n=J}this.#n&&(O=this.#n,N=this.#m,w=Date.now(),_="error");const S=g.fetchStatus==="fetching",M=_==="pending",F=_==="error",z=M&&S,R=N!==void 0,Y={status:_,fetchStatus:g.fetchStatus,isPending:M,isSuccess:_==="success",isError:F,isInitialLoading:z,isLoading:z,data:N,dataUpdatedAt:g.dataUpdatedAt,error:O,errorUpdatedAt:w,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>b.dataUpdateCount||g.errorUpdateCount>b.errorUpdateCount,isFetching:S,isRefetching:S&&!M,isLoadingError:F&&!R,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:F&&R,isStale:qd(l,r),refetch:this.refetch,promise:this.#i,isEnabled:Zt(r.enabled,l)!==!1};if(this.options.experimental_prefetchInRender){const J=ae=>{Y.status==="error"?ae.reject(Y.error):Y.data!==void 0&&ae.resolve(Y.data)},ne=()=>{const ae=this.#i=Y.promise=yd();J(ae)},ge=this.#i;switch(ge.status){case"pending":l.queryHash===i.queryHash&&J(ge);break;case"fulfilled":(Y.status==="error"||Y.data!==ge.value)&&ne();break;case"rejected":(Y.status!=="error"||Y.error!==ge.reason)&&ne();break}}return Y}updateResult(){const l=this.#l,r=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#r=this.options,this.#a.data!==void 0&&(this.#x=this.#t),fi(r,l))return;this.#l=r;const i=()=>{if(!l)return!0;const{notifyOnChangeProps:c}=this.options,u=typeof c=="function"?c():c;if(u==="all"||!u&&!this.#h.size)return!0;const m=new Set(u??this.#h);return this.options.throwOnError&&m.add("error"),Object.keys(this.#l).some(x=>{const h=x;return this.#l[h]!==l[h]&&m.has(h)})};this.#w({listeners:i()})}#N(){const l=this.#e.getQueryCache().build(this.#e,this.options);if(l===this.#t)return;const r=this.#t;this.#t=l,this.#s=l.state,this.hasListeners()&&(r?.removeObserver(this),l.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#w(l){nt.batch(()=>{l.listeners&&this.listeners.forEach(r=>{r(this.#l)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function fj(l,r){return Zt(r.enabled,l)!==!1&&l.state.data===void 0&&!(l.state.status==="error"&&r.retryOnMount===!1)}function hf(l,r){return fj(l,r)||l.state.data!==void 0&&vd(l,r,r.refetchOnMount)}function vd(l,r,i){if(Zt(r.enabled,l)!==!1&&da(r.staleTime,l)!=="static"){const c=typeof i=="function"?i(l):i;return c==="always"||c!==!1&&qd(l,r)}return!1}function ff(l,r,i,c){return(l!==r||Zt(c.enabled,l)===!1)&&(!i.suspense||l.state.status!=="error")&&qd(l,i)}function qd(l,r){return Zt(r.enabled,l)!==!1&&l.isStaleByTime(da(r.staleTime,l))}function pj(l,r){return!fi(l.getCurrentResult(),r)}function pf(l){return{onFetch:(r,i)=>{const c=r.options,u=r.fetchOptions?.meta?.fetchMore?.direction,m=r.state.data?.pages||[],x=r.state.data?.pageParams||[];let h={pages:[],pageParams:[]},b=0;const f=async()=>{let g=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(r.signal.aborted?g=!0:r.signal.addEventListener("abort",()=>{g=!0}),r.signal)})},N=l0(r.options,r.fetchOptions),O=async(w,_,v)=>{if(g)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const M=(()=>{const D={client:r.client,queryKey:r.queryKey,pageParam:_,direction:v?"backward":"forward",meta:r.options.meta};return y(D),D})(),F=await N(M),{maxPages:z}=r.options,R=v?ij:rj;return{pages:R(w.pages,F,z),pageParams:R(w.pageParams,_,z)}};if(u&&m.length){const w=u==="backward",_=w?gj:gf,v={pages:m,pageParams:x},S=_(c,v);h=await O(v,S,w)}else{const w=l??m.length;do{const _=b===0?x[0]??c.initialPageParam:gf(c,h);if(b>0&&_==null)break;h=await O(h,_),b++}while(b<w)}return h};r.options.persister?r.fetchFn=()=>r.options.persister?.(f,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},i):r.fetchFn=f}}}function gf(l,{pages:r,pageParams:i}){const c=r.length-1;return r.length>0?l.getNextPageParam(r[c],r,i[c],i):void 0}function gj(l,{pages:r,pageParams:i}){return r.length>0?l.getPreviousPageParam?.(r[0],r,i[0],i):void 0}var bj=class extends c0{#e;#t;#s;#l;constructor(l){super(),this.#e=l.client,this.mutationId=l.mutationId,this.#s=l.mutationCache,this.#t=[],this.state=l.state||d0(),this.setOptions(l.options),this.scheduleGc()}setOptions(l){this.options=l,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(l){this.#t.includes(l)||(this.#t.push(l),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:l}))}removeObserver(l){this.#t=this.#t.filter(r=>r!==l),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:l})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#l?.continue()??this.execute(this.state.variables)}async execute(l){const r=()=>{this.#a({type:"continue"})},i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#l=i0({fn:()=>this.options.mutationFn?this.options.mutationFn(l,i):Promise.reject(new Error("No mutationFn found")),onFail:(m,x)=>{this.#a({type:"failed",failureCount:m,error:x})},onPause:()=>{this.#a({type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const c=this.state.status==="pending",u=!this.#l.canStart();try{if(c)r();else{this.#a({type:"pending",variables:l,isPaused:u}),await this.#s.config.onMutate?.(l,this,i);const x=await this.options.onMutate?.(l,i);x!==this.state.context&&this.#a({type:"pending",context:x,variables:l,isPaused:u})}const m=await this.#l.start();return await this.#s.config.onSuccess?.(m,l,this.state.context,this,i),await this.options.onSuccess?.(m,l,this.state.context,i),await this.#s.config.onSettled?.(m,null,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(m,null,l,this.state.context,i),this.#a({type:"success",data:m}),m}catch(m){try{throw await this.#s.config.onError?.(m,l,this.state.context,this,i),await this.options.onError?.(m,l,this.state.context,i),await this.#s.config.onSettled?.(void 0,m,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(void 0,m,l,this.state.context,i),m}finally{this.#a({type:"error",error:m})}}finally{this.#s.runNext(this)}}#a(l){const r=i=>{switch(l.type){case"failed":return{...i,failureCount:l.failureCount,failureReason:l.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:l.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:l.isPaused,status:"pending",variables:l.variables,submittedAt:Date.now()};case"success":return{...i,data:l.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:l.error,failureCount:i.failureCount+1,failureReason:l.error,isPaused:!1,status:"error"}}};this.state=r(this.state),nt.batch(()=>{this.#t.forEach(i=>{i.onMutationUpdate(l)}),this.#s.notify({mutation:this,type:"updated",action:l})})}};function d0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yj=class extends Cl{constructor(l={}){super(),this.config=l,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(l,r,i){const c=new bj({client:l,mutationCache:this,mutationId:++this.#s,options:l.defaultMutationOptions(r),state:i});return this.add(c),c}add(l){this.#e.add(l);const r=li(l);if(typeof r=="string"){const i=this.#t.get(r);i?i.push(l):this.#t.set(r,[l])}this.notify({type:"added",mutation:l})}remove(l){if(this.#e.delete(l)){const r=li(l);if(typeof r=="string"){const i=this.#t.get(r);if(i)if(i.length>1){const c=i.indexOf(l);c!==-1&&i.splice(c,1)}else i[0]===l&&this.#t.delete(r)}}this.notify({type:"removed",mutation:l})}canRun(l){const r=li(l);if(typeof r=="string"){const c=this.#t.get(r)?.find(u=>u.state.status==="pending");return!c||c===l}else return!0}runNext(l){const r=li(l);return typeof r=="string"?this.#t.get(r)?.find(c=>c!==l&&c.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){nt.batch(()=>{this.#e.forEach(l=>{this.notify({type:"removed",mutation:l})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(l){const r={exact:!0,...l};return this.getAll().find(i=>df(r,i))}findAll(l={}){return this.getAll().filter(r=>df(l,r))}notify(l){nt.batch(()=>{this.listeners.forEach(r=>{r(l)})})}resumePausedMutations(){const l=this.getAll().filter(r=>r.state.isPaused);return nt.batch(()=>Promise.all(l.map(r=>r.continue().catch(yt))))}};function li(l){return l.options.scope?.id}var jj=class extends Cl{#e;#t=void 0;#s;#l;constructor(r,i){super(),this.#e=r,this.setOptions(i),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){const i=this.options;this.options=this.#e.defaultMutationOptions(r),fi(this.options,i)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),i?.mutationKey&&this.options.mutationKey&&za(i.mutationKey)!==za(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(r){this.#a(),this.#r(r)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#a(),this.#r()}mutate(r,i){return this.#l=i,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(r)}#a(){const r=this.#s?.state??d0();this.#t={...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset}}#r(r){nt.batch(()=>{if(this.#l&&this.hasListeners()){const i=this.#t.variables,c=this.#t.context,u={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};r?.type==="success"?(this.#l.onSuccess?.(r.data,i,c,u),this.#l.onSettled?.(r.data,null,i,c,u)):r?.type==="error"&&(this.#l.onError?.(r.error,i,c,u),this.#l.onSettled?.(void 0,r.error,i,c,u))}this.listeners.forEach(i=>{i(this.#t)})})}},vj=class extends Cl{constructor(l={}){super(),this.config=l,this.#e=new Map}#e;build(l,r,i){const c=r.queryKey,u=r.queryHash??Bd(c,r);let m=this.get(u);return m||(m=new xj({client:l,queryKey:c,queryHash:u,options:l.defaultQueryOptions(r),state:i,defaultOptions:l.getQueryDefaults(c)}),this.add(m)),m}add(l){this.#e.has(l.queryHash)||(this.#e.set(l.queryHash,l),this.notify({type:"added",query:l}))}remove(l){const r=this.#e.get(l.queryHash);r&&(l.destroy(),r===l&&this.#e.delete(l.queryHash),this.notify({type:"removed",query:l}))}clear(){nt.batch(()=>{this.getAll().forEach(l=>{this.remove(l)})})}get(l){return this.#e.get(l)}getAll(){return[...this.#e.values()]}find(l){const r={exact:!0,...l};return this.getAll().find(i=>of(r,i))}findAll(l={}){const r=this.getAll();return Object.keys(l).length>0?r.filter(i=>of(l,i)):r}notify(l){nt.batch(()=>{this.listeners.forEach(r=>{r(l)})})}onFocus(){nt.batch(()=>{this.getAll().forEach(l=>{l.onFocus()})})}onOnline(){nt.batch(()=>{this.getAll().forEach(l=>{l.onOnline()})})}},Nj=class{#e;#t;#s;#l;#a;#r;#i;#n;constructor(l={}){this.#e=l.queryCache||new vj,this.#t=l.mutationCache||new yj,this.#s=l.defaultOptions||{},this.#l=new Map,this.#a=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#i=Ld.subscribe(async l=>{l&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#n=pi.subscribe(async l=>{l&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#i?.(),this.#i=void 0,this.#n?.(),this.#n=void 0)}isFetching(l){return this.#e.findAll({...l,fetchStatus:"fetching"}).length}isMutating(l){return this.#t.findAll({...l,status:"pending"}).length}getQueryData(l){const r=this.defaultQueryOptions({queryKey:l});return this.#e.get(r.queryHash)?.state.data}ensureQueryData(l){const r=this.defaultQueryOptions(l),i=this.#e.build(this,r),c=i.state.data;return c===void 0?this.fetchQuery(l):(l.revalidateIfStale&&i.isStaleByTime(da(r.staleTime,i))&&this.prefetchQuery(r),Promise.resolve(c))}getQueriesData(l){return this.#e.findAll(l).map(({queryKey:r,state:i})=>{const c=i.data;return[r,c]})}setQueryData(l,r,i){const c=this.defaultQueryOptions({queryKey:l}),m=this.#e.get(c.queryHash)?.state.data,x=aj(r,m);if(x!==void 0)return this.#e.build(this,c).setData(x,{...i,manual:!0})}setQueriesData(l,r,i){return nt.batch(()=>this.#e.findAll(l).map(({queryKey:c})=>[c,this.setQueryData(c,r,i)]))}getQueryState(l){const r=this.defaultQueryOptions({queryKey:l});return this.#e.get(r.queryHash)?.state}removeQueries(l){const r=this.#e;nt.batch(()=>{r.findAll(l).forEach(i=>{r.remove(i)})})}resetQueries(l,r){const i=this.#e;return nt.batch(()=>(i.findAll(l).forEach(c=>{c.reset()}),this.refetchQueries({type:"active",...l},r)))}cancelQueries(l,r={}){const i={revert:!0,...r},c=nt.batch(()=>this.#e.findAll(l).map(u=>u.cancel(i)));return Promise.all(c).then(yt).catch(yt)}invalidateQueries(l,r={}){return nt.batch(()=>(this.#e.findAll(l).forEach(i=>{i.invalidate()}),l?.refetchType==="none"?Promise.resolve():this.refetchQueries({...l,type:l?.refetchType??l?.type??"active"},r)))}refetchQueries(l,r={}){const i={...r,cancelRefetch:r.cancelRefetch??!0},c=nt.batch(()=>this.#e.findAll(l).filter(u=>!u.isDisabled()&&!u.isStatic()).map(u=>{let m=u.fetch(void 0,i);return i.throwOnError||(m=m.catch(yt)),u.state.fetchStatus==="paused"?Promise.resolve():m}));return Promise.all(c).then(yt)}fetchQuery(l){const r=this.defaultQueryOptions(l);r.retry===void 0&&(r.retry=!1);const i=this.#e.build(this,r);return i.isStaleByTime(da(r.staleTime,i))?i.fetch(r):Promise.resolve(i.state.data)}prefetchQuery(l){return this.fetchQuery(l).then(yt).catch(yt)}fetchInfiniteQuery(l){return l.behavior=pf(l.pages),this.fetchQuery(l)}prefetchInfiniteQuery(l){return this.fetchInfiniteQuery(l).then(yt).catch(yt)}ensureInfiniteQueryData(l){return l.behavior=pf(l.pages),this.ensureQueryData(l)}resumePausedMutations(){return pi.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(l){this.#s=l}setQueryDefaults(l,r){this.#l.set(za(l),{queryKey:l,defaultOptions:r})}getQueryDefaults(l){const r=[...this.#l.values()],i={};return r.forEach(c=>{Tn(l,c.queryKey)&&Object.assign(i,c.defaultOptions)}),i}setMutationDefaults(l,r){this.#a.set(za(l),{mutationKey:l,defaultOptions:r})}getMutationDefaults(l){const r=[...this.#a.values()],i={};return r.forEach(c=>{Tn(l,c.mutationKey)&&Object.assign(i,c.defaultOptions)}),i}defaultQueryOptions(l){if(l._defaulted)return l;const r={...this.#s.queries,...this.getQueryDefaults(l.queryKey),...l,_defaulted:!0};return r.queryHash||(r.queryHash=Bd(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===Ud&&(r.enabled=!1),r}defaultMutationOptions(l){return l?._defaulted?l:{...this.#s.mutations,...l?.mutationKey&&this.getMutationDefaults(l.mutationKey),...l,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},u0=C.createContext(void 0),Tt=l=>{const r=C.useContext(u0);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},wj=({client:l,children:r})=>(C.useEffect(()=>(l.mount(),()=>{l.unmount()}),[l]),e.jsx(u0.Provider,{value:l,children:r})),m0=C.createContext(!1),_j=()=>C.useContext(m0);m0.Provider;function Sj(){let l=!1;return{clearReset:()=>{l=!1},reset:()=>{l=!0},isReset:()=>l}}var Cj=C.createContext(Sj()),Ej=()=>C.useContext(Cj),Aj=(l,r)=>{(l.suspense||l.throwOnError||l.experimental_prefetchInRender)&&(r.isReset()||(l.retryOnMount=!1))},Tj=l=>{C.useEffect(()=>{l.clearReset()},[l])},Rj=({result:l,errorResetBoundary:r,throwOnError:i,query:c,suspense:u})=>l.isError&&!r.isReset()&&!l.isFetching&&c&&(u&&l.data===void 0||n0(i,[l.error,c])),Oj=l=>{if(l.suspense){const i=u=>u==="static"?u:Math.max(u??1e3,1e3),c=l.staleTime;l.staleTime=typeof c=="function"?(...u)=>i(c(...u)):i(c),typeof l.gcTime=="number"&&(l.gcTime=Math.max(l.gcTime,1e3))}},Mj=(l,r)=>l.isLoading&&l.isFetching&&!r,Dj=(l,r)=>l?.suspense&&r.isPending,bf=(l,r,i)=>r.fetchOptimistic(l).catch(()=>{i.clearReset()});function kj(l,r,i){const c=_j(),u=Ej(),m=Tt(),x=m.defaultQueryOptions(l);m.getDefaultOptions().queries?._experimental_beforeQuery?.(x),x._optimisticResults=c?"isRestoring":"optimistic",Oj(x),Aj(x,u),Tj(u);const h=!m.getQueryCache().get(x.queryHash),[b]=C.useState(()=>new r(m,x)),f=b.getOptimisticResult(x),g=!c&&l.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(y=>{const N=g?b.subscribe(nt.batchCalls(y)):yt;return b.updateResult(),N},[b,g]),()=>b.getCurrentResult(),()=>b.getCurrentResult()),C.useEffect(()=>{b.setOptions(x)},[x,b]),Dj(x,f))throw bf(x,b,u);if(Rj({result:f,errorResetBoundary:u,throwOnError:x.throwOnError,query:m.getQueryCache().get(x.queryHash),suspense:x.suspense}))throw f.error;return m.getDefaultOptions().queries?._experimental_afterQuery?.(x,f),x.experimental_prefetchInRender&&!ka&&Mj(f,c)&&(h?bf(x,b,u):m.getQueryCache().get(x.queryHash)?.promise)?.catch(yt).finally(()=>{b.updateResult()}),x.notifyOnChangeProps?f:b.trackResult(f)}function ie(l,r){return kj(l,hj)}function Ge(l,r){const i=Tt(),[c]=C.useState(()=>new jj(i,l));C.useEffect(()=>{c.setOptions(l)},[c,l]);const u=C.useSyncExternalStore(C.useCallback(x=>c.subscribe(nt.batchCalls(x)),[c]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m=C.useCallback((x,h)=>{c.mutate(x,h).catch(yt)},[c]);if(u.error&&n0(c.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:m,mutateAsync:u.mutate}}function x0(l,r){return function(){return l.apply(r,arguments)}}const{toString:zj}=Object.prototype,{getPrototypeOf:Hd}=Object,{iterator:Ni,toStringTag:h0}=Symbol,wi=(l=>r=>{const i=zj.call(r);return l[i]||(l[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),rs=l=>(l=l.toLowerCase(),r=>wi(r)===l),_i=l=>r=>typeof r===l,{isArray:El}=Array,Nl=_i("undefined");function Dn(l){return l!==null&&!Nl(l)&&l.constructor!==null&&!Nl(l.constructor)&&Et(l.constructor.isBuffer)&&l.constructor.isBuffer(l)}const f0=rs("ArrayBuffer");function Bj(l){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(l):r=l&&l.buffer&&f0(l.buffer),r}const Uj=_i("string"),Et=_i("function"),p0=_i("number"),kn=l=>l!==null&&typeof l=="object",Lj=l=>l===!0||l===!1,di=l=>{if(wi(l)!=="object")return!1;const r=Hd(l);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(h0 in l)&&!(Ni in l)},qj=l=>{if(!kn(l)||Dn(l))return!1;try{return Object.keys(l).length===0&&Object.getPrototypeOf(l)===Object.prototype}catch{return!1}},Hj=rs("Date"),Pj=rs("File"),Fj=rs("Blob"),$j=rs("FileList"),Qj=l=>kn(l)&&Et(l.pipe),Yj=l=>{let r;return l&&(typeof FormData=="function"&&l instanceof FormData||Et(l.append)&&((r=wi(l))==="formdata"||r==="object"&&Et(l.toString)&&l.toString()==="[object FormData]"))},Kj=rs("URLSearchParams"),[Gj,Vj,Xj,Zj]=["ReadableStream","Request","Response","Headers"].map(rs),Jj=l=>l.trim?l.trim():l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zn(l,r,{allOwnKeys:i=!1}={}){if(l===null||typeof l>"u")return;let c,u;if(typeof l!="object"&&(l=[l]),El(l))for(c=0,u=l.length;c<u;c++)r.call(null,l[c],c,l);else{if(Dn(l))return;const m=i?Object.getOwnPropertyNames(l):Object.keys(l),x=m.length;let h;for(c=0;c<x;c++)h=m[c],r.call(null,l[h],h,l)}}function g0(l,r){if(Dn(l))return null;r=r.toLowerCase();const i=Object.keys(l);let c=i.length,u;for(;c-- >0;)if(u=i[c],r===u.toLowerCase())return u;return null}const Ma=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,b0=l=>!Nl(l)&&l!==Ma;function Nd(){const{caseless:l,skipUndefined:r}=b0(this)&&this||{},i={},c=(u,m)=>{const x=l&&g0(i,m)||m;di(i[x])&&di(u)?i[x]=Nd(i[x],u):di(u)?i[x]=Nd({},u):El(u)?i[x]=u.slice():(!r||!Nl(u))&&(i[x]=u)};for(let u=0,m=arguments.length;u<m;u++)arguments[u]&&zn(arguments[u],c);return i}const Wj=(l,r,i,{allOwnKeys:c}={})=>(zn(r,(u,m)=>{i&&Et(u)?l[m]=x0(u,i):l[m]=u},{allOwnKeys:c}),l),Ij=l=>(l.charCodeAt(0)===65279&&(l=l.slice(1)),l),ev=(l,r,i,c)=>{l.prototype=Object.create(r.prototype,c),l.prototype.constructor=l,Object.defineProperty(l,"super",{value:r.prototype}),i&&Object.assign(l.prototype,i)},tv=(l,r,i,c)=>{let u,m,x;const h={};if(r=r||{},l==null)return r;do{for(u=Object.getOwnPropertyNames(l),m=u.length;m-- >0;)x=u[m],(!c||c(x,l,r))&&!h[x]&&(r[x]=l[x],h[x]=!0);l=i!==!1&&Hd(l)}while(l&&(!i||i(l,r))&&l!==Object.prototype);return r},sv=(l,r,i)=>{l=String(l),(i===void 0||i>l.length)&&(i=l.length),i-=r.length;const c=l.indexOf(r,i);return c!==-1&&c===i},av=l=>{if(!l)return null;if(El(l))return l;let r=l.length;if(!p0(r))return null;const i=new Array(r);for(;r-- >0;)i[r]=l[r];return i},lv=(l=>r=>l&&r instanceof l)(typeof Uint8Array<"u"&&Hd(Uint8Array)),nv=(l,r)=>{const c=(l&&l[Ni]).call(l);let u;for(;(u=c.next())&&!u.done;){const m=u.value;r.call(l,m[0],m[1])}},rv=(l,r)=>{let i;const c=[];for(;(i=l.exec(r))!==null;)c.push(i);return c},iv=rs("HTMLFormElement"),cv=l=>l.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,c,u){return c.toUpperCase()+u}),yf=(({hasOwnProperty:l})=>(r,i)=>l.call(r,i))(Object.prototype),ov=rs("RegExp"),y0=(l,r)=>{const i=Object.getOwnPropertyDescriptors(l),c={};zn(i,(u,m)=>{let x;(x=r(u,m,l))!==!1&&(c[m]=x||u)}),Object.defineProperties(l,c)},dv=l=>{y0(l,(r,i)=>{if(Et(l)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const c=l[i];if(Et(c)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},uv=(l,r)=>{const i={},c=u=>{u.forEach(m=>{i[m]=!0})};return El(l)?c(l):c(String(l).split(r)),i},mv=()=>{},xv=(l,r)=>l!=null&&Number.isFinite(l=+l)?l:r;function hv(l){return!!(l&&Et(l.append)&&l[h0]==="FormData"&&l[Ni])}const fv=l=>{const r=new Array(10),i=(c,u)=>{if(kn(c)){if(r.indexOf(c)>=0)return;if(Dn(c))return c;if(!("toJSON"in c)){r[u]=c;const m=El(c)?[]:{};return zn(c,(x,h)=>{const b=i(x,u+1);!Nl(b)&&(m[h]=b)}),r[u]=void 0,m}}return c};return i(l,0)},pv=rs("AsyncFunction"),gv=l=>l&&(kn(l)||Et(l))&&Et(l.then)&&Et(l.catch),j0=((l,r)=>l?setImmediate:r?((i,c)=>(Ma.addEventListener("message",({source:u,data:m})=>{u===Ma&&m===i&&c.length&&c.shift()()},!1),u=>{c.push(u),Ma.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Et(Ma.postMessage)),bv=typeof queueMicrotask<"u"?queueMicrotask.bind(Ma):typeof process<"u"&&process.nextTick||j0,yv=l=>l!=null&&Et(l[Ni]),H={isArray:El,isArrayBuffer:f0,isBuffer:Dn,isFormData:Yj,isArrayBufferView:Bj,isString:Uj,isNumber:p0,isBoolean:Lj,isObject:kn,isPlainObject:di,isEmptyObject:qj,isReadableStream:Gj,isRequest:Vj,isResponse:Xj,isHeaders:Zj,isUndefined:Nl,isDate:Hj,isFile:Pj,isBlob:Fj,isRegExp:ov,isFunction:Et,isStream:Qj,isURLSearchParams:Kj,isTypedArray:lv,isFileList:$j,forEach:zn,merge:Nd,extend:Wj,trim:Jj,stripBOM:Ij,inherits:ev,toFlatObject:tv,kindOf:wi,kindOfTest:rs,endsWith:sv,toArray:av,forEachEntry:nv,matchAll:rv,isHTMLForm:iv,hasOwnProperty:yf,hasOwnProp:yf,reduceDescriptors:y0,freezeMethods:dv,toObjectSet:uv,toCamelCase:cv,noop:mv,toFiniteNumber:xv,findKey:g0,global:Ma,isContextDefined:b0,isSpecCompliantForm:hv,toJSONObject:fv,isAsyncFn:pv,isThenable:gv,setImmediate:j0,asap:bv,isIterable:yv};function he(l,r,i,c,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=l,this.name="AxiosError",r&&(this.code=r),i&&(this.config=i),c&&(this.request=c),u&&(this.response=u,this.status=u.status?u.status:null)}H.inherits(he,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const v0=he.prototype,N0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(l=>{N0[l]={value:l}});Object.defineProperties(he,N0);Object.defineProperty(v0,"isAxiosError",{value:!0});he.from=(l,r,i,c,u,m)=>{const x=Object.create(v0);H.toFlatObject(l,x,function(g){return g!==Error.prototype},f=>f!=="isAxiosError");const h=l&&l.message?l.message:"Error",b=r==null&&l?l.code:r;return he.call(x,h,b,i,c,u),l&&x.cause==null&&Object.defineProperty(x,"cause",{value:l,configurable:!0}),x.name=l&&l.name||"Error",m&&Object.assign(x,m),x};const jv=null;function wd(l){return H.isPlainObject(l)||H.isArray(l)}function w0(l){return H.endsWith(l,"[]")?l.slice(0,-2):l}function jf(l,r,i){return l?l.concat(r).map(function(u,m){return u=w0(u),!i&&m?"["+u+"]":u}).join(i?".":""):r}function vv(l){return H.isArray(l)&&!l.some(wd)}const Nv=H.toFlatObject(H,{},null,function(r){return/^is[A-Z]/.test(r)});function Si(l,r,i){if(!H.isObject(l))throw new TypeError("target must be an object");r=r||new FormData,i=H.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,v){return!H.isUndefined(v[_])});const c=i.metaTokens,u=i.visitor||g,m=i.dots,x=i.indexes,b=(i.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(r);if(!H.isFunction(u))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(H.isDate(w))return w.toISOString();if(H.isBoolean(w))return w.toString();if(!b&&H.isBlob(w))throw new he("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(w)||H.isTypedArray(w)?b&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,_,v){let S=w;if(w&&!v&&typeof w=="object"){if(H.endsWith(_,"{}"))_=c?_:_.slice(0,-2),w=JSON.stringify(w);else if(H.isArray(w)&&vv(w)||(H.isFileList(w)||H.endsWith(_,"[]"))&&(S=H.toArray(w)))return _=w0(_),S.forEach(function(F,z){!(H.isUndefined(F)||F===null)&&r.append(x===!0?jf([_],z,m):x===null?_:_+"[]",f(F))}),!1}return wd(w)?!0:(r.append(jf(v,_,m),f(w)),!1)}const y=[],N=Object.assign(Nv,{defaultVisitor:g,convertValue:f,isVisitable:wd});function O(w,_){if(!H.isUndefined(w)){if(y.indexOf(w)!==-1)throw Error("Circular reference detected in "+_.join("."));y.push(w),H.forEach(w,function(S,M){(!(H.isUndefined(S)||S===null)&&u.call(r,S,H.isString(M)?M.trim():M,_,N))===!0&&O(S,_?_.concat(M):[M])}),y.pop()}}if(!H.isObject(l))throw new TypeError("data must be an object");return O(l),r}function vf(l){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(l).replace(/[!'()~]|%20|%00/g,function(c){return r[c]})}function Pd(l,r){this._pairs=[],l&&Si(l,this,r)}const _0=Pd.prototype;_0.append=function(r,i){this._pairs.push([r,i])};_0.toString=function(r){const i=r?function(c){return r.call(this,c,vf)}:vf;return this._pairs.map(function(u){return i(u[0])+"="+i(u[1])},"").join("&")};function wv(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function S0(l,r,i){if(!r)return l;const c=i&&i.encode||wv;H.isFunction(i)&&(i={serialize:i});const u=i&&i.serialize;let m;if(u?m=u(r,i):m=H.isURLSearchParams(r)?r.toString():new Pd(r,i).toString(c),m){const x=l.indexOf("#");x!==-1&&(l=l.slice(0,x)),l+=(l.indexOf("?")===-1?"?":"&")+m}return l}class Nf{constructor(){this.handlers=[]}use(r,i,c){return this.handlers.push({fulfilled:r,rejected:i,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){H.forEach(this.handlers,function(c){c!==null&&r(c)})}}const C0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_v=typeof URLSearchParams<"u"?URLSearchParams:Pd,Sv=typeof FormData<"u"?FormData:null,Cv=typeof Blob<"u"?Blob:null,Ev={isBrowser:!0,classes:{URLSearchParams:_v,FormData:Sv,Blob:Cv},protocols:["http","https","file","blob","url","data"]},Fd=typeof window<"u"&&typeof document<"u",_d=typeof navigator=="object"&&navigator||void 0,Av=Fd&&(!_d||["ReactNative","NativeScript","NS"].indexOf(_d.product)<0),Tv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rv=Fd&&window.location.href||"http://localhost",Ov=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fd,hasStandardBrowserEnv:Av,hasStandardBrowserWebWorkerEnv:Tv,navigator:_d,origin:Rv},Symbol.toStringTag,{value:"Module"})),ft={...Ov,...Ev};function Mv(l,r){return Si(l,new ft.classes.URLSearchParams,{visitor:function(i,c,u,m){return ft.isNode&&H.isBuffer(i)?(this.append(c,i.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)},...r})}function Dv(l){return H.matchAll(/\w+|\[(\w*)]/g,l).map(r=>r[0]==="[]"?"":r[1]||r[0])}function kv(l){const r={},i=Object.keys(l);let c;const u=i.length;let m;for(c=0;c<u;c++)m=i[c],r[m]=l[m];return r}function E0(l){function r(i,c,u,m){let x=i[m++];if(x==="__proto__")return!0;const h=Number.isFinite(+x),b=m>=i.length;return x=!x&&H.isArray(u)?u.length:x,b?(H.hasOwnProp(u,x)?u[x]=[u[x],c]:u[x]=c,!h):((!u[x]||!H.isObject(u[x]))&&(u[x]=[]),r(i,c,u[x],m)&&H.isArray(u[x])&&(u[x]=kv(u[x])),!h)}if(H.isFormData(l)&&H.isFunction(l.entries)){const i={};return H.forEachEntry(l,(c,u)=>{r(Dv(c),u,i,0)}),i}return null}function zv(l,r,i){if(H.isString(l))try{return(r||JSON.parse)(l),H.trim(l)}catch(c){if(c.name!=="SyntaxError")throw c}return(i||JSON.stringify)(l)}const Bn={transitional:C0,adapter:["xhr","http","fetch"],transformRequest:[function(r,i){const c=i.getContentType()||"",u=c.indexOf("application/json")>-1,m=H.isObject(r);if(m&&H.isHTMLForm(r)&&(r=new FormData(r)),H.isFormData(r))return u?JSON.stringify(E0(r)):r;if(H.isArrayBuffer(r)||H.isBuffer(r)||H.isStream(r)||H.isFile(r)||H.isBlob(r)||H.isReadableStream(r))return r;if(H.isArrayBufferView(r))return r.buffer;if(H.isURLSearchParams(r))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let h;if(m){if(c.indexOf("application/x-www-form-urlencoded")>-1)return Mv(r,this.formSerializer).toString();if((h=H.isFileList(r))||c.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return Si(h?{"files[]":r}:r,b&&new b,this.formSerializer)}}return m||u?(i.setContentType("application/json",!1),zv(r)):r}],transformResponse:[function(r){const i=this.transitional||Bn.transitional,c=i&&i.forcedJSONParsing,u=this.responseType==="json";if(H.isResponse(r)||H.isReadableStream(r))return r;if(r&&H.isString(r)&&(c&&!this.responseType||u)){const x=!(i&&i.silentJSONParsing)&&u;try{return JSON.parse(r,this.parseReviver)}catch(h){if(x)throw h.name==="SyntaxError"?he.from(h,he.ERR_BAD_RESPONSE,this,null,this.response):h}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ft.classes.FormData,Blob:ft.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],l=>{Bn.headers[l]={}});const Bv=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Uv=l=>{const r={};let i,c,u;return l&&l.split(`
`).forEach(function(x){u=x.indexOf(":"),i=x.substring(0,u).trim().toLowerCase(),c=x.substring(u+1).trim(),!(!i||r[i]&&Bv[i])&&(i==="set-cookie"?r[i]?r[i].push(c):r[i]=[c]:r[i]=r[i]?r[i]+", "+c:c)}),r},wf=Symbol("internals");function Cn(l){return l&&String(l).trim().toLowerCase()}function ui(l){return l===!1||l==null?l:H.isArray(l)?l.map(ui):String(l)}function Lv(l){const r=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=i.exec(l);)r[c[1]]=c[2];return r}const qv=l=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(l.trim());function rd(l,r,i,c,u){if(H.isFunction(c))return c.call(this,r,i);if(u&&(r=i),!!H.isString(r)){if(H.isString(c))return r.indexOf(c)!==-1;if(H.isRegExp(c))return c.test(r)}}function Hv(l){return l.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,i,c)=>i.toUpperCase()+c)}function Pv(l,r){const i=H.toCamelCase(" "+r);["get","set","has"].forEach(c=>{Object.defineProperty(l,c+i,{value:function(u,m,x){return this[c].call(this,r,u,m,x)},configurable:!0})})}let At=class{constructor(r){r&&this.set(r)}set(r,i,c){const u=this;function m(h,b,f){const g=Cn(b);if(!g)throw new Error("header name must be a non-empty string");const y=H.findKey(u,g);(!y||u[y]===void 0||f===!0||f===void 0&&u[y]!==!1)&&(u[y||b]=ui(h))}const x=(h,b)=>H.forEach(h,(f,g)=>m(f,g,b));if(H.isPlainObject(r)||r instanceof this.constructor)x(r,i);else if(H.isString(r)&&(r=r.trim())&&!qv(r))x(Uv(r),i);else if(H.isObject(r)&&H.isIterable(r)){let h={},b,f;for(const g of r){if(!H.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[f=g[0]]=(b=h[f])?H.isArray(b)?[...b,g[1]]:[b,g[1]]:g[1]}x(h,i)}else r!=null&&m(i,r,c);return this}get(r,i){if(r=Cn(r),r){const c=H.findKey(this,r);if(c){const u=this[c];if(!i)return u;if(i===!0)return Lv(u);if(H.isFunction(i))return i.call(this,u,c);if(H.isRegExp(i))return i.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,i){if(r=Cn(r),r){const c=H.findKey(this,r);return!!(c&&this[c]!==void 0&&(!i||rd(this,this[c],c,i)))}return!1}delete(r,i){const c=this;let u=!1;function m(x){if(x=Cn(x),x){const h=H.findKey(c,x);h&&(!i||rd(c,c[h],h,i))&&(delete c[h],u=!0)}}return H.isArray(r)?r.forEach(m):m(r),u}clear(r){const i=Object.keys(this);let c=i.length,u=!1;for(;c--;){const m=i[c];(!r||rd(this,this[m],m,r,!0))&&(delete this[m],u=!0)}return u}normalize(r){const i=this,c={};return H.forEach(this,(u,m)=>{const x=H.findKey(c,m);if(x){i[x]=ui(u),delete i[m];return}const h=r?Hv(m):String(m).trim();h!==m&&delete i[m],i[h]=ui(u),c[h]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const i=Object.create(null);return H.forEach(this,(c,u)=>{c!=null&&c!==!1&&(i[u]=r&&H.isArray(c)?c.join(", "):c)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,i])=>r+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...i){const c=new this(r);return i.forEach(u=>c.set(u)),c}static accessor(r){const c=(this[wf]=this[wf]={accessors:{}}).accessors,u=this.prototype;function m(x){const h=Cn(x);c[h]||(Pv(u,x),c[h]=!0)}return H.isArray(r)?r.forEach(m):m(r),this}};At.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(At.prototype,({value:l},r)=>{let i=r[0].toUpperCase()+r.slice(1);return{get:()=>l,set(c){this[i]=c}}});H.freezeMethods(At);function id(l,r){const i=this||Bn,c=r||i,u=At.from(c.headers);let m=c.data;return H.forEach(l,function(h){m=h.call(i,m,u.normalize(),r?r.status:void 0)}),u.normalize(),m}function A0(l){return!!(l&&l.__CANCEL__)}function Al(l,r,i){he.call(this,l??"canceled",he.ERR_CANCELED,r,i),this.name="CanceledError"}H.inherits(Al,he,{__CANCEL__:!0});function T0(l,r,i){const c=i.config.validateStatus;!i.status||!c||c(i.status)?l(i):r(new he("Request failed with status code "+i.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function Fv(l){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l);return r&&r[1]||""}function $v(l,r){l=l||10;const i=new Array(l),c=new Array(l);let u=0,m=0,x;return r=r!==void 0?r:1e3,function(b){const f=Date.now(),g=c[m];x||(x=f),i[u]=b,c[u]=f;let y=m,N=0;for(;y!==u;)N+=i[y++],y=y%l;if(u=(u+1)%l,u===m&&(m=(m+1)%l),f-x<r)return;const O=g&&f-g;return O?Math.round(N*1e3/O):void 0}}function Qv(l,r){let i=0,c=1e3/r,u,m;const x=(f,g=Date.now())=>{i=g,u=null,m&&(clearTimeout(m),m=null),l(...f)};return[(...f)=>{const g=Date.now(),y=g-i;y>=c?x(f,g):(u=f,m||(m=setTimeout(()=>{m=null,x(u)},c-y)))},()=>u&&x(u)]}const gi=(l,r,i=3)=>{let c=0;const u=$v(50,250);return Qv(m=>{const x=m.loaded,h=m.lengthComputable?m.total:void 0,b=x-c,f=u(b),g=x<=h;c=x;const y={loaded:x,total:h,progress:h?x/h:void 0,bytes:b,rate:f||void 0,estimated:f&&h&&g?(h-x)/f:void 0,event:m,lengthComputable:h!=null,[r?"download":"upload"]:!0};l(y)},i)},_f=(l,r)=>{const i=l!=null;return[c=>r[0]({lengthComputable:i,total:l,loaded:c}),r[1]]},Sf=l=>(...r)=>H.asap(()=>l(...r)),Yv=ft.hasStandardBrowserEnv?((l,r)=>i=>(i=new URL(i,ft.origin),l.protocol===i.protocol&&l.host===i.host&&(r||l.port===i.port)))(new URL(ft.origin),ft.navigator&&/(msie|trident)/i.test(ft.navigator.userAgent)):()=>!0,Kv=ft.hasStandardBrowserEnv?{write(l,r,i,c,u,m,x){if(typeof document>"u")return;const h=[`${l}=${encodeURIComponent(r)}`];H.isNumber(i)&&h.push(`expires=${new Date(i).toUTCString()}`),H.isString(c)&&h.push(`path=${c}`),H.isString(u)&&h.push(`domain=${u}`),m===!0&&h.push("secure"),H.isString(x)&&h.push(`SameSite=${x}`),document.cookie=h.join("; ")},read(l){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+l+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(l){this.write(l,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Gv(l){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l)}function Vv(l,r){return r?l.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):l}function R0(l,r,i){let c=!Gv(r);return l&&(c||i==!1)?Vv(l,r):r}const Cf=l=>l instanceof At?{...l}:l;function Ba(l,r){r=r||{};const i={};function c(f,g,y,N){return H.isPlainObject(f)&&H.isPlainObject(g)?H.merge.call({caseless:N},f,g):H.isPlainObject(g)?H.merge({},g):H.isArray(g)?g.slice():g}function u(f,g,y,N){if(H.isUndefined(g)){if(!H.isUndefined(f))return c(void 0,f,y,N)}else return c(f,g,y,N)}function m(f,g){if(!H.isUndefined(g))return c(void 0,g)}function x(f,g){if(H.isUndefined(g)){if(!H.isUndefined(f))return c(void 0,f)}else return c(void 0,g)}function h(f,g,y){if(y in r)return c(f,g);if(y in l)return c(void 0,f)}const b={url:m,method:m,data:m,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:h,headers:(f,g,y)=>u(Cf(f),Cf(g),y,!0)};return H.forEach(Object.keys({...l,...r}),function(g){const y=b[g]||u,N=y(l[g],r[g],g);H.isUndefined(N)&&y!==h||(i[g]=N)}),i}const O0=l=>{const r=Ba({},l);let{data:i,withXSRFToken:c,xsrfHeaderName:u,xsrfCookieName:m,headers:x,auth:h}=r;if(r.headers=x=At.from(x),r.url=S0(R0(r.baseURL,r.url,r.allowAbsoluteUrls),l.params,l.paramsSerializer),h&&x.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),H.isFormData(i)){if(ft.hasStandardBrowserEnv||ft.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if(H.isFunction(i.getHeaders)){const b=i.getHeaders(),f=["content-type","content-length"];Object.entries(b).forEach(([g,y])=>{f.includes(g.toLowerCase())&&x.set(g,y)})}}if(ft.hasStandardBrowserEnv&&(c&&H.isFunction(c)&&(c=c(r)),c||c!==!1&&Yv(r.url))){const b=u&&m&&Kv.read(m);b&&x.set(u,b)}return r},Xv=typeof XMLHttpRequest<"u",Zv=Xv&&function(l){return new Promise(function(i,c){const u=O0(l);let m=u.data;const x=At.from(u.headers).normalize();let{responseType:h,onUploadProgress:b,onDownloadProgress:f}=u,g,y,N,O,w;function _(){O&&O(),w&&w(),u.cancelToken&&u.cancelToken.unsubscribe(g),u.signal&&u.signal.removeEventListener("abort",g)}let v=new XMLHttpRequest;v.open(u.method.toUpperCase(),u.url,!0),v.timeout=u.timeout;function S(){if(!v)return;const F=At.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),R={data:!h||h==="text"||h==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:F,config:l,request:v};T0(function(Y){i(Y),_()},function(Y){c(Y),_()},R),v=null}"onloadend"in v?v.onloadend=S:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(S)},v.onabort=function(){v&&(c(new he("Request aborted",he.ECONNABORTED,l,v)),v=null)},v.onerror=function(z){const R=z&&z.message?z.message:"Network Error",D=new he(R,he.ERR_NETWORK,l,v);D.event=z||null,c(D),v=null},v.ontimeout=function(){let z=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const R=u.transitional||C0;u.timeoutErrorMessage&&(z=u.timeoutErrorMessage),c(new he(z,R.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,l,v)),v=null},m===void 0&&x.setContentType(null),"setRequestHeader"in v&&H.forEach(x.toJSON(),function(z,R){v.setRequestHeader(R,z)}),H.isUndefined(u.withCredentials)||(v.withCredentials=!!u.withCredentials),h&&h!=="json"&&(v.responseType=u.responseType),f&&([N,w]=gi(f,!0),v.addEventListener("progress",N)),b&&v.upload&&([y,O]=gi(b),v.upload.addEventListener("progress",y),v.upload.addEventListener("loadend",O)),(u.cancelToken||u.signal)&&(g=F=>{v&&(c(!F||F.type?new Al(null,l,v):F),v.abort(),v=null)},u.cancelToken&&u.cancelToken.subscribe(g),u.signal&&(u.signal.aborted?g():u.signal.addEventListener("abort",g)));const M=Fv(u.url);if(M&&ft.protocols.indexOf(M)===-1){c(new he("Unsupported protocol "+M+":",he.ERR_BAD_REQUEST,l));return}v.send(m||null)})},Jv=(l,r)=>{const{length:i}=l=l?l.filter(Boolean):[];if(r||i){let c=new AbortController,u;const m=function(f){if(!u){u=!0,h();const g=f instanceof Error?f:this.reason;c.abort(g instanceof he?g:new Al(g instanceof Error?g.message:g))}};let x=r&&setTimeout(()=>{x=null,m(new he(`timeout ${r} of ms exceeded`,he.ETIMEDOUT))},r);const h=()=>{l&&(x&&clearTimeout(x),x=null,l.forEach(f=>{f.unsubscribe?f.unsubscribe(m):f.removeEventListener("abort",m)}),l=null)};l.forEach(f=>f.addEventListener("abort",m));const{signal:b}=c;return b.unsubscribe=()=>H.asap(h),b}},Wv=function*(l,r){let i=l.byteLength;if(i<r){yield l;return}let c=0,u;for(;c<i;)u=c+r,yield l.slice(c,u),c=u},Iv=async function*(l,r){for await(const i of eN(l))yield*Wv(i,r)},eN=async function*(l){if(l[Symbol.asyncIterator]){yield*l;return}const r=l.getReader();try{for(;;){const{done:i,value:c}=await r.read();if(i)break;yield c}}finally{await r.cancel()}},Ef=(l,r,i,c)=>{const u=Iv(l,r);let m=0,x,h=b=>{x||(x=!0,c&&c(b))};return new ReadableStream({async pull(b){try{const{done:f,value:g}=await u.next();if(f){h(),b.close();return}let y=g.byteLength;if(i){let N=m+=y;i(N)}b.enqueue(new Uint8Array(g))}catch(f){throw h(f),f}},cancel(b){return h(b),u.return()}},{highWaterMark:2})},Af=64*1024,{isFunction:ni}=H,tN=(({Request:l,Response:r})=>({Request:l,Response:r}))(H.global),{ReadableStream:Tf,TextEncoder:Rf}=H.global,Of=(l,...r)=>{try{return!!l(...r)}catch{return!1}},sN=l=>{l=H.merge.call({skipUndefined:!0},tN,l);const{fetch:r,Request:i,Response:c}=l,u=r?ni(r):typeof fetch=="function",m=ni(i),x=ni(c);if(!u)return!1;const h=u&&ni(Tf),b=u&&(typeof Rf=="function"?(w=>_=>w.encode(_))(new Rf):async w=>new Uint8Array(await new i(w).arrayBuffer())),f=m&&h&&Of(()=>{let w=!1;const _=new i(ft.origin,{body:new Tf,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!_}),g=x&&h&&Of(()=>H.isReadableStream(new c("").body)),y={stream:g&&(w=>w.body)};u&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!y[w]&&(y[w]=(_,v)=>{let S=_&&_[w];if(S)return S.call(_);throw new he(`Response type '${w}' is not supported`,he.ERR_NOT_SUPPORT,v)})});const N=async w=>{if(w==null)return 0;if(H.isBlob(w))return w.size;if(H.isSpecCompliantForm(w))return(await new i(ft.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(H.isArrayBufferView(w)||H.isArrayBuffer(w))return w.byteLength;if(H.isURLSearchParams(w)&&(w=w+""),H.isString(w))return(await b(w)).byteLength},O=async(w,_)=>{const v=H.toFiniteNumber(w.getContentLength());return v??N(_)};return async w=>{let{url:_,method:v,data:S,signal:M,cancelToken:F,timeout:z,onDownloadProgress:R,onUploadProgress:D,responseType:Y,headers:J,withCredentials:ne="same-origin",fetchOptions:ge}=O0(w),ae=r||fetch;Y=Y?(Y+"").toLowerCase():"text";let ce=Jv([M,F&&F.toAbortSignal()],z),Ke=null;const Pe=ce&&ce.unsubscribe&&(()=>{ce.unsubscribe()});let Ae;try{if(D&&f&&v!=="get"&&v!=="head"&&(Ae=await O(J,S))!==0){let A=new i(_,{method:"POST",body:S,duplex:"half"}),G;if(H.isFormData(S)&&(G=A.headers.get("content-type"))&&J.setContentType(G),A.body){const[W,I]=_f(Ae,gi(Sf(D)));S=Ef(A.body,Af,W,I)}}H.isString(ne)||(ne=ne?"include":"omit");const P=m&&"credentials"in i.prototype,Z={...ge,signal:ce,method:v.toUpperCase(),headers:J.normalize().toJSON(),body:S,duplex:"half",credentials:P?ne:void 0};Ke=m&&new i(_,Z);let le=await(m?ae(Ke,ge):ae(_,Z));const Te=g&&(Y==="stream"||Y==="response");if(g&&(R||Te&&Pe)){const A={};["status","statusText","headers"].forEach(de=>{A[de]=le[de]});const G=H.toFiniteNumber(le.headers.get("content-length")),[W,I]=R&&_f(G,gi(Sf(R),!0))||[];le=new c(Ef(le.body,Af,W,()=>{I&&I(),Pe&&Pe()}),A)}Y=Y||"text";let De=await y[H.findKey(y,Y)||"text"](le,w);return!Te&&Pe&&Pe(),await new Promise((A,G)=>{T0(A,G,{data:De,headers:At.from(le.headers),status:le.status,statusText:le.statusText,config:w,request:Ke})})}catch(P){throw Pe&&Pe(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new he("Network Error",he.ERR_NETWORK,w,Ke),{cause:P.cause||P}):he.from(P,P&&P.code,w,Ke)}}},aN=new Map,M0=l=>{let r=l&&l.env||{};const{fetch:i,Request:c,Response:u}=r,m=[c,u,i];let x=m.length,h=x,b,f,g=aN;for(;h--;)b=m[h],f=g.get(b),f===void 0&&g.set(b,f=h?new Map:sN(r)),g=f;return f};M0();const $d={http:jv,xhr:Zv,fetch:{get:M0}};H.forEach($d,(l,r)=>{if(l){try{Object.defineProperty(l,"name",{value:r})}catch{}Object.defineProperty(l,"adapterName",{value:r})}});const Mf=l=>`- ${l}`,lN=l=>H.isFunction(l)||l===null||l===!1;function nN(l,r){l=H.isArray(l)?l:[l];const{length:i}=l;let c,u;const m={};for(let x=0;x<i;x++){c=l[x];let h;if(u=c,!lN(c)&&(u=$d[(h=String(c)).toLowerCase()],u===void 0))throw new he(`Unknown adapter '${h}'`);if(u&&(H.isFunction(u)||(u=u.get(r))))break;m[h||"#"+x]=u}if(!u){const x=Object.entries(m).map(([b,f])=>`adapter ${b} `+(f===!1?"is not supported by the environment":"is not available in the build"));let h=i?x.length>1?`since :
`+x.map(Mf).join(`
`):" "+Mf(x[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return u}const D0={getAdapter:nN,adapters:$d};function cd(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new Al(null,l)}function Df(l){return cd(l),l.headers=At.from(l.headers),l.data=id.call(l,l.transformRequest),["post","put","patch"].indexOf(l.method)!==-1&&l.headers.setContentType("application/x-www-form-urlencoded",!1),D0.getAdapter(l.adapter||Bn.adapter,l)(l).then(function(c){return cd(l),c.data=id.call(l,l.transformResponse,c),c.headers=At.from(c.headers),c},function(c){return A0(c)||(cd(l),c&&c.response&&(c.response.data=id.call(l,l.transformResponse,c.response),c.response.headers=At.from(c.response.headers))),Promise.reject(c)})}const k0="1.13.0",Ci={};["object","boolean","number","function","string","symbol"].forEach((l,r)=>{Ci[l]=function(c){return typeof c===l||"a"+(r<1?"n ":" ")+l}});const kf={};Ci.transitional=function(r,i,c){function u(m,x){return"[Axios v"+k0+"] Transitional option '"+m+"'"+x+(c?". "+c:"")}return(m,x,h)=>{if(r===!1)throw new he(u(x," has been removed"+(i?" in "+i:"")),he.ERR_DEPRECATED);return i&&!kf[x]&&(kf[x]=!0,console.warn(u(x," has been deprecated since v"+i+" and will be removed in the near future"))),r?r(m,x,h):!0}};Ci.spelling=function(r){return(i,c)=>(console.warn(`${c} is likely a misspelling of ${r}`),!0)};function rN(l,r,i){if(typeof l!="object")throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);const c=Object.keys(l);let u=c.length;for(;u-- >0;){const m=c[u],x=r[m];if(x){const h=l[m],b=h===void 0||x(h,m,l);if(b!==!0)throw new he("option "+m+" must be "+b,he.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new he("Unknown option "+m,he.ERR_BAD_OPTION)}}const mi={assertOptions:rN,validators:Ci},us=mi.validators;let Da=class{constructor(r){this.defaults=r||{},this.interceptors={request:new Nf,response:new Nf}}async request(r,i){try{return await this._request(r,i)}catch(c){if(c instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const m=u.stack?u.stack.replace(/^.+\n/,""):"";try{c.stack?m&&!String(c.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+m):c.stack=m}catch{}}throw c}}_request(r,i){typeof r=="string"?(i=i||{},i.url=r):i=r||{},i=Ba(this.defaults,i);const{transitional:c,paramsSerializer:u,headers:m}=i;c!==void 0&&mi.assertOptions(c,{silentJSONParsing:us.transitional(us.boolean),forcedJSONParsing:us.transitional(us.boolean),clarifyTimeoutError:us.transitional(us.boolean)},!1),u!=null&&(H.isFunction(u)?i.paramsSerializer={serialize:u}:mi.assertOptions(u,{encode:us.function,serialize:us.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),mi.assertOptions(i,{baseUrl:us.spelling("baseURL"),withXsrfToken:us.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let x=m&&H.merge(m.common,m[i.method]);m&&H.forEach(["delete","get","head","post","put","patch","common"],w=>{delete m[w]}),i.headers=At.concat(x,m);const h=[];let b=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(i)===!1||(b=b&&_.synchronous,h.unshift(_.fulfilled,_.rejected))});const f=[];this.interceptors.response.forEach(function(_){f.push(_.fulfilled,_.rejected)});let g,y=0,N;if(!b){const w=[Df.bind(this),void 0];for(w.unshift(...h),w.push(...f),N=w.length,g=Promise.resolve(i);y<N;)g=g.then(w[y++],w[y++]);return g}N=h.length;let O=i;for(;y<N;){const w=h[y++],_=h[y++];try{O=w(O)}catch(v){_.call(this,v);break}}try{g=Df.call(this,O)}catch(w){return Promise.reject(w)}for(y=0,N=f.length;y<N;)g=g.then(f[y++],f[y++]);return g}getUri(r){r=Ba(this.defaults,r);const i=R0(r.baseURL,r.url,r.allowAbsoluteUrls);return S0(i,r.params,r.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(r){Da.prototype[r]=function(i,c){return this.request(Ba(c||{},{method:r,url:i,data:(c||{}).data}))}});H.forEach(["post","put","patch"],function(r){function i(c){return function(m,x,h){return this.request(Ba(h||{},{method:r,headers:c?{"Content-Type":"multipart/form-data"}:{},url:m,data:x}))}}Da.prototype[r]=i(),Da.prototype[r+"Form"]=i(!0)});let iN=class z0{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(m){i=m});const c=this;this.promise.then(u=>{if(!c._listeners)return;let m=c._listeners.length;for(;m-- >0;)c._listeners[m](u);c._listeners=null}),this.promise.then=u=>{let m;const x=new Promise(h=>{c.subscribe(h),m=h}).then(u);return x.cancel=function(){c.unsubscribe(m)},x},r(function(m,x,h){c.reason||(c.reason=new Al(m,x,h),i(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const r=new AbortController,i=c=>{r.abort(c)};return this.subscribe(i),r.signal.unsubscribe=()=>this.unsubscribe(i),r.signal}static source(){let r;return{token:new z0(function(u){r=u}),cancel:r}}};function cN(l){return function(i){return l.apply(null,i)}}function oN(l){return H.isObject(l)&&l.isAxiosError===!0}const Sd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Sd).forEach(([l,r])=>{Sd[r]=l});function B0(l){const r=new Da(l),i=x0(Da.prototype.request,r);return H.extend(i,Da.prototype,r,{allOwnKeys:!0}),H.extend(i,r,null,{allOwnKeys:!0}),i.create=function(u){return B0(Ba(l,u))},i}const Se=B0(Bn);Se.Axios=Da;Se.CanceledError=Al;Se.CancelToken=iN;Se.isCancel=A0;Se.VERSION=k0;Se.toFormData=Si;Se.AxiosError=he;Se.Cancel=Se.CanceledError;Se.all=function(r){return Promise.all(r)};Se.spread=cN;Se.isAxiosError=oN;Se.mergeConfig=Ba;Se.AxiosHeaders=At;Se.formToJSON=l=>E0(H.isHTMLForm(l)?new FormData(l):l);Se.getAdapter=D0.getAdapter;Se.HttpStatusCode=Sd;Se.default=Se;const{Axios:h2,AxiosError:f2,CanceledError:p2,isCancel:g2,CancelToken:b2,VERSION:y2,all:j2,Cancel:v2,isAxiosError:N2,spread:w2,toFormData:_2,AxiosHeaders:S2,HttpStatusCode:C2,formToJSON:E2,getAdapter:A2,mergeConfig:T2}=Se,od="bidmarket_access_token",dd="bidmarket_refresh_token",ud="bidmarket_user",as={setTokens(l,r){localStorage.setItem(od,l),r&&localStorage.setItem(dd,r)},getAccessToken(){return localStorage.getItem(od)},getRefreshToken(){return localStorage.getItem(dd)},setUser(l){localStorage.setItem(ud,JSON.stringify(l))},getUser(){const l=localStorage.getItem(ud);return l?JSON.parse(l):null},isAuthenticated(){return!!this.getAccessToken()},clearAuth(){localStorage.removeItem(od),localStorage.removeItem(dd),localStorage.removeItem(ud)},getAuthHeader(){const l=this.getAccessToken();return l?{Authorization:`Bearer ${l}`}:{}}},vl="",ri={async register(l){return await Se.post(`${vl}/accounts/api/users/`,{...l,user_type:"buyer"})},async login(l,r){return await Se.post(`${vl}/accounts/api/token/`,{username:l,password:r})},async refreshToken(){const l=as.getRefreshToken();return await Se.post(`${vl}/accounts/api/token/refresh/`,{refresh:l})},async getProfile(){return await Se.get(`${vl}/accounts/api/users/me/`,{headers:as.getAuthHeader()})},async updateProfile(l){return await Se.patch(`${vl}/accounts/api/users/update_profile/`,l,{headers:as.getAuthHeader()})},async getStats(){return await Se.get(`${vl}/accounts/api/users/stats/`,{headers:as.getAuthHeader()})}},Ei=C.createContext(null);function dN({children:l}){const[r,i]=C.useState(null),[c,u]=C.useState(!0);C.useEffect(()=>{(async()=>{const g=as.getAccessToken(),y=as.getUser();if(g&&y)try{const N=await ri.getProfile();i(N.data),as.setUser(N.data)}catch{as.clearAuth(),i(null)}u(!1)})()},[]);const m=async(f,g)=>{try{const y=await ri.login(f,g),{access:N,refresh:O}=y.data;as.setTokens(N,O);const _=(await ri.getProfile()).data;return as.setUser(_),i(_),{success:!0,user:_}}catch(y){return{success:!1,error:y.response?.data?.detail||"Invalid username or password"}}},b={user:r,loading:c,login:m,register:async f=>{try{const g=await ri.register(f);return await m(f.username,f.password)}catch(g){const y=g.response?.data||{};return{success:!1,error:y.username?.[0]||y.email?.[0]||"Registration failed",errors:y}}},logout:()=>{as.clearAuth(),i(null)},isAuthenticated:!!r};return e.jsx(Ei.Provider,{value:b,children:l})}function Ai(){const l=C.useContext(Ei);if(!l)throw new Error("useAuth must be used within an AuthProvider");return l}function at({children:l,requireSuperuser:r=!1}){const{user:i,loading:c}=C.useContext(Ei);return c?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):i?r&&!i.is_superuser?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md text-center",children:[e.jsx("div",{className:"text-red-600 text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access this page."}),e.jsx("a",{href:"/",className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 inline-block",children:"Go to Homepage"})]})}):l:e.jsx(Zf,{to:"/login",replace:!0})}const ee=Se.create({baseURL:"/api",headers:{"Content-Type":"application/json"},withCredentials:!0});ee.interceptors.request.use(l=>{const r=localStorage.getItem("bidmarket_access_token");return r&&(l.headers.Authorization=`Bearer ${r}`),l},l=>Promise.reject(l));ee.interceptors.response.use(l=>l,async l=>{const r=l.config;if(l.response?.status===401&&!r._retry){r._retry=!0;try{const i=localStorage.getItem("bidmarket_refresh_token"),c=await Se.post("/accounts/api/token/refresh/",{refresh:i}),{access:u}=c.data;return localStorage.setItem("bidmarket_access_token",u),r.headers.Authorization=`Bearer ${u}`,ee(r)}catch(i){return localStorage.removeItem("bidmarket_access_token"),localStorage.removeItem("bidmarket_refresh_token"),localStorage.removeItem("bidmarket_user"),window.location.href="/login",Promise.reject(i)}}return Promise.reject(l)});const ms=Se.create({headers:{"Content-Type":"application/json"},withCredentials:!0});ms.interceptors.request.use(l=>{const r=localStorage.getItem("bidmarket_access_token");return r&&(l.headers.Authorization=`Bearer ${r}`),l},l=>Promise.reject(l));ms.interceptors.response.use(l=>l,async l=>{const r=l.config;if(l.response?.status===401&&!r._retry){r._retry=!0;try{const i=localStorage.getItem("bidmarket_refresh_token"),c=await Se.post("/accounts/api/token/refresh/",{refresh:i}),{access:u}=c.data;return localStorage.setItem("bidmarket_access_token",u),r.headers.Authorization=`Bearer ${u}`,ms(r)}catch(i){return localStorage.removeItem("bidmarket_access_token"),localStorage.removeItem("bidmarket_refresh_token"),localStorage.removeItem("bidmarket_user"),window.location.href="/login",Promise.reject(i)}}return Promise.reject(l)});const Oe="",ct={getAll:()=>ee.get(`${Oe}/auctions/`),getById:l=>ee.get(`${Oe}/auctions/${l}/`),create:l=>{const r=new FormData;return Object.keys(l).forEach(i=>{l[i]!==null&&l[i]!==void 0&&l[i]!==""&&r.append(i,l[i])}),ee.post(`${Oe}/auctions/`,r,{headers:{"Content-Type":"multipart/form-data"}})},update:(l,r)=>ee.put(`${Oe}/auctions/${l}/`,r),activate:(l,r)=>ee.post(`${Oe}/auctions/${l}/activate/`,r),close:l=>ee.post(`${Oe}/auctions/${l}/close/`),getLeaderboard:l=>ee.get(`${Oe}/auctions/${l}/leaderboard/`),getRounds:l=>ee.get(`${Oe}/auctions/${l}/rounds/`),getParticipants:l=>ee.get(`${Oe}/auctions/${l}/participants/`),getBidsList:l=>ee.get(`${Oe}/auctions/${l}/bids_list/`),getRevenueSummary:l=>ee.get(`${Oe}/auctions/${l}/revenue_summary/`),getBuyers:l=>ee.get(`${Oe}/auctions/${l}/buyers/`),getSalesStats:l=>ee.get(`${Oe}/auctions/${l}/sales_stats/`)},xs={getAll:()=>ee.get(`${Oe}/categories/`),getById:l=>ee.get(`${Oe}/categories/${l}/`),create:l=>ee.post(`${Oe}/categories/`,l,{headers:{"Content-Type":"multipart/form-data"}}),update:(l,r)=>ee.put(`${Oe}/categories/${l}/`,r,{headers:{"Content-Type":"multipart/form-data"}}),delete:l=>ee.delete(`${Oe}/categories/${l}/`),toggleActive:l=>ee.post(`${Oe}/categories/${l}/toggle_active/`)},uN={create:l=>ee.post(`${Oe}/bids/`,l),getMyBids:()=>ee.get(`${Oe}/bids/`)},bi={getAll:()=>ee.get(`${Oe}/orders/`),getById:l=>ee.get(`${Oe}/orders/${l}/`),create:l=>ee.post(`${Oe}/orders/`,l),updateStatus:(l,r)=>ee.patch(`${Oe}/orders/${l}/update_status/`,r),getStats:()=>ee.get(`${Oe}/orders/stats/`)},oa={getCart:()=>ee.get(`${Oe}/cart/`),addToCart:l=>ee.post(`${Oe}/cart/add/`,l),updateQuantity:l=>ee.post(`${Oe}/cart/update_quantity/`,l),removeItem:l=>ee.post(`${Oe}/cart/remove/`,{item_id:l}),clearCart:()=>ee.post(`${Oe}/cart/clear/`)},En={register:l=>ms.post("/accounts/api/users/",l),getMe:()=>ms.get("/accounts/api/users/me/"),updateProfile:l=>ms.patch("/accounts/api/users/update_profile/",l),adminList:l=>ms.get("/accounts/api/users/admin_list/",{params:l}),adminDetail:l=>ee.get(`/accounts/api/users/${l}/admin_detail/`),adminStats:()=>ms.get("/accounts/api/users/admin_stats/")},U0={initiateOrderPayment:(l,r)=>ee.post("/payments/mpesa/initiate-order/",{order_id:l,phone_number:r}),checkOrderPaymentStatus:l=>ee.get(`/payments/mpesa/order-status/${l}/`),getMyTransactions:()=>ee.get("/payments/mpesa/my-transactions/"),mockOrderPayment:l=>ee.post("/payments/mock-order/",{order_id:l})};function Rn(){const{user:l,isAuthenticated:r,logout:i}=Ai(),[c,u]=C.useState(!1),{data:m}=ie({queryKey:["cart"],queryFn:oa.getCart,enabled:r,retry:!1,refetchOnWindowFocus:!1}),x=m?.data?.total_items||0,h=()=>{i(),u(!1)};return e.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx(X,{to:"/",className:"flex items-center gap-2",onClick:()=>u(!1),children:e.jsx("span",{className:"text-xl sm:text-2xl font-bold text-orange-600",children:"BidSoko"})}),e.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[e.jsx(X,{to:"/",className:"text-gray-700 hover:text-orange-600 font-medium transition",children:"Home"}),e.jsx(X,{to:"/browse",className:"text-gray-700 hover:text-orange-600 font-medium transition",children:"Browse"}),e.jsxs(X,{to:"/cart",className:"text-gray-700 hover:text-orange-600 font-medium transition flex items-center gap-2 relative",children:[e.jsx("span",{className:"text-xl",children:""}),e.jsx("span",{children:"Cart"}),r&&x>0&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-orange-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center animate-pulse",children:x})]})]}),e.jsx("div",{className:"hidden md:flex items-center gap-4",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["Hi, ",e.jsx("span",{className:"font-semibold text-gray-900",children:l?.first_name||l?.username})]}),e.jsx(X,{to:l?.is_superuser||l?.is_staff?"/management":"/dashboard",className:"text-sm text-gray-700 hover:text-orange-600 font-medium",children:l?.is_superuser||l?.is_staff?" Admin Panel":" Dashboard"}),e.jsx("button",{onClick:h,className:"text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded font-medium transition",children:"Logout"})]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{to:"/login",className:"text-gray-700 hover:text-orange-600 font-medium transition",children:"Login"}),e.jsx(X,{to:"/signup",className:"bg-orange-600 text-white px-4 py-2 rounded font-semibold hover:bg-orange-700 transition",children:"Sign Up"})]})}),e.jsxs("div",{className:"flex md:hidden items-center gap-3",children:[e.jsxs(X,{to:"/cart",className:"relative",children:[e.jsx("span",{className:"text-2xl",children:""}),r&&x>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-orange-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:x})]}),e.jsx("button",{onClick:()=>u(!c),className:"text-gray-700 hover:text-orange-600 focus:outline-none",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),c&&e.jsx("div",{className:"md:hidden border-t border-gray-200 py-4",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx(X,{to:"/",className:"text-gray-700 hover:text-orange-600 font-medium",onClick:()=>u(!1),children:"Home"}),e.jsx(X,{to:"/browse",className:"text-gray-700 hover:text-orange-600 font-medium",onClick:()=>u(!1),children:"Browse"}),e.jsxs(X,{to:"/cart",className:"text-gray-700 hover:text-orange-600 font-medium",onClick:()=>u(!1),children:["Cart ",x>0&&`(${x})`]}),r?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Hi, ",e.jsx("span",{className:"font-semibold",children:l?.first_name||l?.username})]}),e.jsx(X,{to:l?.is_superuser||l?.is_staff?"/management":"/dashboard",className:"block text-gray-700 hover:text-orange-600 font-medium mb-2",onClick:()=>u(!1),children:l?.is_superuser||l?.is_staff?" Admin Panel":" Dashboard"}),e.jsx("button",{onClick:h,className:"w-full text-left text-gray-700 hover:text-orange-600 font-medium",children:"Logout"})]})}):e.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[e.jsx(X,{to:"/login",className:"block text-gray-700 hover:text-orange-600 font-medium",onClick:()=>u(!1),children:"Login"}),e.jsx(X,{to:"/signup",className:"block bg-orange-600 text-white px-4 py-2 rounded font-semibold hover:bg-orange-700 transition text-center",onClick:()=>u(!1),children:"Sign Up"})]})]})})]})})}function mN(){const[l,r]=C.useState(0),[i,c]=C.useState(!1),{data:u}=ie({queryKey:["promobar-settings"],queryFn:()=>Se.get("/api/settings/promobar/").then(v=>v.data),staleTime:300*1e3,refetchInterval:300*1e3}),{brand_text:m="BIDSOKO LUXE",brand_text_mobile:x="BIDSOKO",brand_emoji:h="",phone_number:b="0711 011 011",phone_emoji:f="",announcement_texts:g=[" Free Delivery on Orders Over KES 5,000"],cta_text:y="SHOP NOW",cta_link:N="/browse",background_color:O="#f9e5c9",text_color:w="#1f2937",accent_color:_="#ea580c"}=u||{};return C.useEffect(()=>{if(g.length<=1)return;const v=setInterval(()=>{c(!0),setTimeout(()=>{r(S=>(S+1)%g.length),c(!1)},500)},4e3);return()=>clearInterval(v)},[g.length]),e.jsx("div",{className:"border-b border-orange-200",style:{backgroundColor:O,color:w},children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-2 sm:py-3",children:e.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-4",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"text-base sm:text-xl font-bold tracking-wide whitespace-nowrap",style:{color:_},children:[h," ",e.jsx("span",{className:"hidden sm:inline",children:m}),e.jsx("span",{className:"sm:hidden",children:x})]})}),e.jsxs("div",{className:"flex-1 hidden md:flex items-center justify-center gap-2 overflow-hidden px-4",children:[e.jsxs("span",{className:"text-sm font-semibold whitespace-nowrap",children:[f," ",e.jsx("span",{style:{color:_},className:"font-bold",children:b})]}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("div",{className:"relative h-6 flex-1 max-w-2xl",children:e.jsx("p",{className:`absolute inset-0 text-sm font-bold text-center transition-all duration-700 flex items-center justify-center ${i?"-translate-y-full opacity-0":"translate-y-0 opacity-100"}`,style:{color:_},children:g[l]})})]}),e.jsxs("div",{className:"flex-1 hidden sm:flex md:hidden items-center justify-center gap-2 overflow-hidden px-2",children:[e.jsxs("span",{className:"text-xs font-semibold whitespace-nowrap",children:[f," ",e.jsx("span",{style:{color:_},className:"font-bold",children:b})]}),e.jsx("span",{className:"text-gray-400 text-xs",children:""}),e.jsx("div",{className:"relative h-5 flex-1",children:e.jsx("p",{className:`absolute inset-0 text-xs font-bold text-center transition-all duration-700 flex items-center justify-center ${i?"-translate-y-full opacity-0":"translate-y-0 opacity-100"}`,style:{color:_},children:g[l]})})]}),e.jsx("div",{className:"flex-1 sm:hidden overflow-hidden px-2",children:e.jsx("div",{className:"relative h-5",children:e.jsx("p",{className:`absolute inset-0 text-xs font-bold text-center transition-all duration-700 flex items-center justify-center ${i?"-translate-y-full opacity-0":"translate-y-0 opacity-100"}`,style:{color:_},children:g[l]})})}),e.jsx(X,{to:N,className:"text-white px-3 py-1.5 sm:px-6 sm:py-2 rounded-full font-bold text-xs sm:text-sm hover:opacity-90 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 whitespace-nowrap",style:{backgroundColor:_},children:y})]})})})}function xN({children:l}){const r=Wt(),i=r.pathname.startsWith("/management")||r.pathname.startsWith("/admin-panel"),c=r.pathname==="/";return i?e.jsx(e.Fragment,{children:l}):e.jsxs("div",{className:"bg-rose-50 min-h-screen flex flex-col",children:[c&&e.jsx(mN,{}),e.jsx(Rn,{}),c&&e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white py-2",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center text-xs sm:text-sm",children:[" ",e.jsx("strong",{children:"HYBRID MARKETPLACE:"}),e.jsx("span",{className:"hidden sm:inline",children:" Buy Instantly OR Bid to Save up to 70% |"}),e.jsx("span",{className:"sm:hidden",children:" Save up to 70% |"}),e.jsx("a",{href:"#browse",className:"underline font-bold ml-1",children:"EXPLORE NOW"})]})}),e.jsx("main",{className:"flex-1",children:l}),e.jsx("footer",{className:"bg-gray-900 text-white py-8 mt-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4 text-orange-500",children:"BidSoko"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Kenya's premier hybrid marketplace. Buy instantly or bid to save!"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"/",className:"hover:text-orange-500 transition",children:"Home"})}),e.jsx("li",{children:e.jsx("a",{href:"/browse",className:"hover:text-orange-500 transition",children:"Browse"})}),e.jsx("li",{children:e.jsx("a",{href:"/buy-now",className:"hover:text-orange-500 transition",children:"Buy Now"})}),e.jsx("li",{children:e.jsx("a",{href:"/cart",className:"hover:text-orange-500 transition",children:"Cart"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Customer Service"}),e.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[e.jsx("li",{children:" 0711 011 011"}),e.jsx("li",{children:" support@bidsoko.com"}),e.jsx("li",{children:" Mon-Fri: 8AM-6PM"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Follow Us"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("a",{href:"#",className:"text-gray-400 hover:text-orange-500 transition",children:"Facebook"}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-orange-500 transition",children:"Twitter"}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-orange-500 transition",children:"Instagram"})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400 text-sm",children:e.jsx("p",{children:" 2025 BidSoko. All rights reserved."})})]})})]})}let hN={data:""},fN=l=>{if(typeof window=="object"){let r=(l?l.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return r.nonce=window.__nonce__,r.parentNode||(l||document.head).appendChild(r),r.firstChild}return l||hN},pN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,gN=/\/\*[^]*?\*\/|  +/g,zf=/\n+/g,ca=(l,r)=>{let i="",c="",u="";for(let m in l){let x=l[m];m[0]=="@"?m[1]=="i"?i=m+" "+x+";":c+=m[1]=="f"?ca(x,m):m+"{"+ca(x,m[1]=="k"?"":r)+"}":typeof x=="object"?c+=ca(x,r?r.replace(/([^,])+/g,h=>m.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,b=>/&/.test(b)?b.replace(/&/g,h):h?h+" "+b:b)):m):x!=null&&(m=/^--/.test(m)?m:m.replace(/[A-Z]/g,"-$&").toLowerCase(),u+=ca.p?ca.p(m,x):m+":"+x+";")}return i+(r&&u?r+"{"+u+"}":u)+c},Ds={},L0=l=>{if(typeof l=="object"){let r="";for(let i in l)r+=i+L0(l[i]);return r}return l},bN=(l,r,i,c,u)=>{let m=L0(l),x=Ds[m]||(Ds[m]=(b=>{let f=0,g=11;for(;f<b.length;)g=101*g+b.charCodeAt(f++)>>>0;return"go"+g})(m));if(!Ds[x]){let b=m!==l?l:(f=>{let g,y,N=[{}];for(;g=pN.exec(f.replace(gN,""));)g[4]?N.shift():g[3]?(y=g[3].replace(zf," ").trim(),N.unshift(N[0][y]=N[0][y]||{})):N[0][g[1]]=g[2].replace(zf," ").trim();return N[0]})(l);Ds[x]=ca(u?{["@keyframes "+x]:b}:b,i?"":"."+x)}let h=i&&Ds.g?Ds.g:null;return i&&(Ds.g=Ds[x]),((b,f,g,y)=>{y?f.data=f.data.replace(y,b):f.data.indexOf(b)===-1&&(f.data=g?b+f.data:f.data+b)})(Ds[x],r,c,h),x},yN=(l,r,i)=>l.reduce((c,u,m)=>{let x=r[m];if(x&&x.call){let h=x(i),b=h&&h.props&&h.props.className||/^go/.test(h)&&h;x=b?"."+b:h&&typeof h=="object"?h.props?"":ca(h,""):h===!1?"":h}return c+u+(x??"")},"");function Ti(l){let r=this||{},i=l.call?l(r.p):l;return bN(i.unshift?i.raw?yN(i,[].slice.call(arguments,1),r.p):i.reduce((c,u)=>Object.assign(c,u&&u.call?u(r.p):u),{}):i,fN(r.target),r.g,r.o,r.k)}let q0,Cd,Ed;Ti.bind({g:1});let Bs=Ti.bind({k:1});function jN(l,r,i,c){ca.p=r,q0=l,Cd=i,Ed=c}function ua(l,r){let i=this||{};return function(){let c=arguments;function u(m,x){let h=Object.assign({},m),b=h.className||u.className;i.p=Object.assign({theme:Cd&&Cd()},h),i.o=/ *go\d+/.test(b),h.className=Ti.apply(i,c)+(b?" "+b:"");let f=l;return l[0]&&(f=h.as||l,delete h.as),Ed&&f[0]&&Ed(h),q0(f,h)}return u}}var vN=l=>typeof l=="function",yi=(l,r)=>vN(l)?l(r):l,NN=(()=>{let l=0;return()=>(++l).toString()})(),H0=(()=>{let l;return()=>{if(l===void 0&&typeof window<"u"){let r=matchMedia("(prefers-reduced-motion: reduce)");l=!r||r.matches}return l}})(),wN=20,Qd="default",P0=(l,r)=>{let{toastLimit:i}=l.settings;switch(r.type){case 0:return{...l,toasts:[r.toast,...l.toasts].slice(0,i)};case 1:return{...l,toasts:l.toasts.map(x=>x.id===r.toast.id?{...x,...r.toast}:x)};case 2:let{toast:c}=r;return P0(l,{type:l.toasts.find(x=>x.id===c.id)?1:0,toast:c});case 3:let{toastId:u}=r;return{...l,toasts:l.toasts.map(x=>x.id===u||u===void 0?{...x,dismissed:!0,visible:!1}:x)};case 4:return r.toastId===void 0?{...l,toasts:[]}:{...l,toasts:l.toasts.filter(x=>x.id!==r.toastId)};case 5:return{...l,pausedAt:r.time};case 6:let m=r.time-(l.pausedAt||0);return{...l,pausedAt:void 0,toasts:l.toasts.map(x=>({...x,pauseDuration:x.pauseDuration+m}))}}},xi=[],F0={toasts:[],pausedAt:void 0,settings:{toastLimit:wN}},hs={},$0=(l,r=Qd)=>{hs[r]=P0(hs[r]||F0,l),xi.forEach(([i,c])=>{i===r&&c(hs[r])})},Q0=l=>Object.keys(hs).forEach(r=>$0(l,r)),_N=l=>Object.keys(hs).find(r=>hs[r].toasts.some(i=>i.id===l)),Ri=(l=Qd)=>r=>{$0(r,l)},SN={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},CN=(l={},r=Qd)=>{let[i,c]=C.useState(hs[r]||F0),u=C.useRef(hs[r]);C.useEffect(()=>(u.current!==hs[r]&&c(hs[r]),xi.push([r,c]),()=>{let x=xi.findIndex(([h])=>h===r);x>-1&&xi.splice(x,1)}),[r]);let m=i.toasts.map(x=>{var h,b,f;return{...l,...l[x.type],...x,removeDelay:x.removeDelay||((h=l[x.type])==null?void 0:h.removeDelay)||l?.removeDelay,duration:x.duration||((b=l[x.type])==null?void 0:b.duration)||l?.duration||SN[x.type],style:{...l.style,...(f=l[x.type])==null?void 0:f.style,...x.style}}});return{...i,toasts:m}},EN=(l,r="blank",i)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:r,ariaProps:{role:"status","aria-live":"polite"},message:l,pauseDuration:0,...i,id:i?.id||NN()}),Un=l=>(r,i)=>{let c=EN(r,l,i);return Ri(c.toasterId||_N(c.id))({type:2,toast:c}),c.id},He=(l,r)=>Un("blank")(l,r);He.error=Un("error");He.success=Un("success");He.loading=Un("loading");He.custom=Un("custom");He.dismiss=(l,r)=>{let i={type:3,toastId:l};r?Ri(r)(i):Q0(i)};He.dismissAll=l=>He.dismiss(void 0,l);He.remove=(l,r)=>{let i={type:4,toastId:l};r?Ri(r)(i):Q0(i)};He.removeAll=l=>He.remove(void 0,l);He.promise=(l,r,i)=>{let c=He.loading(r.loading,{...i,...i?.loading});return typeof l=="function"&&(l=l()),l.then(u=>{let m=r.success?yi(r.success,u):void 0;return m?He.success(m,{id:c,...i,...i?.success}):He.dismiss(c),u}).catch(u=>{let m=r.error?yi(r.error,u):void 0;m?He.error(m,{id:c,...i,...i?.error}):He.dismiss(c)}),l};var AN=1e3,TN=(l,r="default")=>{let{toasts:i,pausedAt:c}=CN(l,r),u=C.useRef(new Map).current,m=C.useCallback((y,N=AN)=>{if(u.has(y))return;let O=setTimeout(()=>{u.delete(y),x({type:4,toastId:y})},N);u.set(y,O)},[]);C.useEffect(()=>{if(c)return;let y=Date.now(),N=i.map(O=>{if(O.duration===1/0)return;let w=(O.duration||0)+O.pauseDuration-(y-O.createdAt);if(w<0){O.visible&&He.dismiss(O.id);return}return setTimeout(()=>He.dismiss(O.id,r),w)});return()=>{N.forEach(O=>O&&clearTimeout(O))}},[i,c,r]);let x=C.useCallback(Ri(r),[r]),h=C.useCallback(()=>{x({type:5,time:Date.now()})},[x]),b=C.useCallback((y,N)=>{x({type:1,toast:{id:y,height:N}})},[x]),f=C.useCallback(()=>{c&&x({type:6,time:Date.now()})},[c,x]),g=C.useCallback((y,N)=>{let{reverseOrder:O=!1,gutter:w=8,defaultPosition:_}=N||{},v=i.filter(F=>(F.position||_)===(y.position||_)&&F.height),S=v.findIndex(F=>F.id===y.id),M=v.filter((F,z)=>z<S&&F.visible).length;return v.filter(F=>F.visible).slice(...O?[M+1]:[0,M]).reduce((F,z)=>F+(z.height||0)+w,0)},[i]);return C.useEffect(()=>{i.forEach(y=>{if(y.dismissed)m(y.id,y.removeDelay);else{let N=u.get(y.id);N&&(clearTimeout(N),u.delete(y.id))}})},[i,m]),{toasts:i,handlers:{updateHeight:b,startPause:h,endPause:f,calculateOffset:g}}},RN=Bs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ON=Bs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,MN=Bs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,DN=ua("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${l=>l.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${RN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ON} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${l=>l.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${MN} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,kN=Bs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,zN=ua("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${l=>l.secondary||"#e0e0e0"};
  border-right-color: ${l=>l.primary||"#616161"};
  animation: ${kN} 1s linear infinite;
`,BN=Bs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,UN=Bs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,LN=ua("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${l=>l.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${BN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${UN} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${l=>l.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,qN=ua("div")`
  position: absolute;
`,HN=ua("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,PN=Bs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,FN=ua("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${PN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$N=({toast:l})=>{let{icon:r,type:i,iconTheme:c}=l;return r!==void 0?typeof r=="string"?C.createElement(FN,null,r):r:i==="blank"?null:C.createElement(HN,null,C.createElement(zN,{...c}),i!=="loading"&&C.createElement(qN,null,i==="error"?C.createElement(DN,{...c}):C.createElement(LN,{...c})))},QN=l=>`
0% {transform: translate3d(0,${l*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,YN=l=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${l*-150}%,-1px) scale(.6); opacity:0;}
`,KN="0%{opacity:0;} 100%{opacity:1;}",GN="0%{opacity:1;} 100%{opacity:0;}",VN=ua("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,XN=ua("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ZN=(l,r)=>{let i=l.includes("top")?1:-1,[c,u]=H0()?[KN,GN]:[QN(i),YN(i)];return{animation:r?`${Bs(c)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Bs(u)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},JN=C.memo(({toast:l,position:r,style:i,children:c})=>{let u=l.height?ZN(l.position||r||"top-center",l.visible):{opacity:0},m=C.createElement($N,{toast:l}),x=C.createElement(XN,{...l.ariaProps},yi(l.message,l));return C.createElement(VN,{className:l.className,style:{...u,...i,...l.style}},typeof c=="function"?c({icon:m,message:x}):C.createElement(C.Fragment,null,m,x))});jN(C.createElement);var WN=({id:l,className:r,style:i,onHeightUpdate:c,children:u})=>{let m=C.useCallback(x=>{if(x){let h=()=>{let b=x.getBoundingClientRect().height;c(l,b)};h(),new MutationObserver(h).observe(x,{subtree:!0,childList:!0,characterData:!0})}},[l,c]);return C.createElement("div",{ref:m,className:r,style:i},u)},IN=(l,r)=>{let i=l.includes("top"),c=i?{top:0}:{bottom:0},u=l.includes("center")?{justifyContent:"center"}:l.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:H0()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${r*(i?1:-1)}px)`,...c,...u}},e1=Ti`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ii=16,Y0=({reverseOrder:l,position:r="top-center",toastOptions:i,gutter:c,children:u,toasterId:m,containerStyle:x,containerClassName:h})=>{let{toasts:b,handlers:f}=TN(i,m);return C.createElement("div",{"data-rht-toaster":m||"",style:{position:"fixed",zIndex:9999,top:ii,left:ii,right:ii,bottom:ii,pointerEvents:"none",...x},className:h,onMouseEnter:f.startPause,onMouseLeave:f.endPause},b.map(g=>{let y=g.position||r,N=f.calculateOffset(g,{reverseOrder:l,gutter:c,defaultPosition:r}),O=IN(y,N);return C.createElement(WN,{id:g.id,key:g.id,onHeightUpdate:f.updateHeight,className:g.visible?e1:"",style:O},g.type==="custom"?yi(g.message,g):u?u(g):C.createElement(JN,{toast:g,position:y}))}))},pe=He;function t1({categories:l=[]}){return e.jsx("aside",{className:"hidden lg:block w-64 flex-shrink-0",children:e.jsxs("div",{className:"sticky top-4",children:[e.jsxs("div",{className:"bg-white rounded shadow-sm p-4 mb-4",children:[e.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-900 uppercase tracking-wide",children:"Categories"}),e.jsxs("nav",{className:"space-y-1",children:[e.jsx(X,{to:"/browse",className:"block px-3 py-2 text-sm text-gray-700 hover:bg-orange-50 hover:text-orange-600 rounded transition",children:"All Products"}),l.length>0?l.map(r=>e.jsxs(X,{to:`/category/${r.slug||r.name.toLowerCase()}`,className:"block px-3 py-2 text-sm text-gray-700 hover:bg-orange-50 hover:text-orange-600 rounded transition",children:[r.name,r.auction_count>0&&e.jsxs("span",{className:"float-right text-xs text-gray-500",children:["(",r.auction_count,")"]})]},r.id)):e.jsx("div",{className:"text-sm text-gray-500 px-3 py-2",children:"No categories available"})]})]}),e.jsxs("div",{className:"bg-white rounded shadow-sm p-4 mb-4",children:[e.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-900 uppercase tracking-wide",children:"Quick Filters"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Free Shipping"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"On Sale"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Low Stock"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"New Arrivals"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-500 text-white rounded shadow-sm p-4",children:[e.jsx("h3",{className:"font-bold text-lg mb-3 uppercase tracking-wide",children:"How It Works"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-white text-orange-600 rounded-full flex items-center justify-center font-bold text-xs",children:"1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"Browse"}),e.jsx("div",{className:"text-xs opacity-90",children:"Find products you love"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-white text-orange-600 rounded-full flex items-center justify-center font-bold text-xs",children:"2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"Choose"}),e.jsx("div",{className:"text-xs opacity-90",children:"Buy now or bid to save"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-white text-orange-600 rounded-full flex items-center justify-center font-bold text-xs",children:"3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"Win!"}),e.jsx("div",{className:"text-xs opacity-90",children:"Get amazing deals"})]})]})]})]})]})})}/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a1=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,i,c)=>c?c.toUpperCase():i.toLowerCase()),Bf=l=>{const r=a1(l);return r.charAt(0).toUpperCase()+r.slice(1)},K0=(...l)=>l.filter((r,i,c)=>!!r&&r.trim()!==""&&c.indexOf(r)===i).join(" ").trim(),l1=l=>{for(const r in l)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=C.forwardRef(({color:l="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:u="",children:m,iconNode:x,...h},b)=>C.createElement("svg",{ref:b,...n1,width:r,height:r,stroke:l,strokeWidth:c?Number(i)*24/Number(r):i,className:K0("lucide",u),...!m&&!l1(h)&&{"aria-hidden":"true"},...h},[...x.map(([f,g])=>C.createElement(f,g)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=(l,r)=>{const i=C.forwardRef(({className:c,...u},m)=>C.createElement(r1,{ref:m,iconNode:r,className:K0(`lucide-${s1(Bf(l))}`,`lucide-${l}`,c),...u}));return i.displayName=Bf(l),i};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Uf=Ln("circle-alert",i1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],o1=Ln("circle-check",c1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Lf=Ln("loader-circle",d1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],m1=Ln("message-circle",u1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],md=Ln("smartphone",x1);function h1(){const l=[{id:1,emoji:"",text:"Join the bid TODAY and get CRAZY OFFERS!",bgColor:"bg-gradient-to-r from-purple-500 to-pink-500"},{id:2,emoji:"",text:"Bid now and SAVE UP TO 100%!",bgColor:"bg-gradient-to-r from-red-500 to-orange-500"},{id:3,emoji:"",text:"LIMITED TIME: Extra 10% off on bids!",bgColor:"bg-gradient-to-r from-yellow-400 to-orange-400"},{id:4,emoji:"",text:"First bid? Get KSH 500 OFF!",bgColor:"bg-gradient-to-r from-green-500 to-teal-500"},{id:5,emoji:"",text:"Daily deals - Bid and WIN BIG!",bgColor:"bg-gradient-to-r from-blue-500 to-indigo-500"},{id:6,emoji:"",text:"Beat the price - Bid smarter, save more!",bgColor:"bg-gradient-to-r from-pink-500 to-rose-500"}];return e.jsxs("aside",{className:"w-80 space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-orange-400 to-red-500 rounded-lg shadow-lg p-6 overflow-hidden relative",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4 text-center drop-shadow-md",children:" Special Offers"}),e.jsx("div",{className:"offers-flash-container h-32 relative rounded-lg overflow-hidden",children:l.map((r,i)=>e.jsx("div",{className:`offer-flash-slide ${r.bgColor}`,style:{animationDelay:`${i*2}s`},children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-4xl mb-2 block drop-shadow-lg",children:r.emoji}),e.jsx("p",{className:"text-sm font-bold text-white px-3 drop-shadow-md",children:r.text})]})},r.id))}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("button",{className:"bg-white text-orange-600 px-6 py-2 rounded-full font-semibold text-sm hover:bg-gray-100 transition shadow-lg",children:"Explore Offers "})})]}),e.jsxs("div",{className:"bg-green-500 text-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(m1,{className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"WhatsApp"}),e.jsx("p",{className:"text-sm text-green-100",children:"Quick support"})]})]}),e.jsx("button",{className:"w-full bg-white text-green-600 py-2 rounded font-semibold hover:bg-green-50 transition",children:"CHAT NOW"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"NEED HELP?"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#help",className:"text-blue-600 hover:underline",children:"Help Center"})}),e.jsx("li",{children:e.jsx("a",{href:"#buy",className:"text-blue-600 hover:underline",children:"How to Buy"})}),e.jsx("li",{children:e.jsx("a",{href:"#bid",className:"text-blue-600 hover:underline",children:"How to Bid"})}),e.jsx("li",{children:e.jsx("a",{href:"#payment",className:"text-blue-600 hover:underline",children:"Payment Options"})}),e.jsx("li",{children:e.jsx("a",{href:"#delivery",className:"text-blue-600 hover:underline",children:"Track Delivery"})}),e.jsx("li",{children:e.jsx("a",{href:"#returns",className:"text-blue-600 hover:underline",children:"Returns & Refunds"})})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Call us:"}),e.jsx("a",{href:"tel:0711011011",className:"text-orange-600 font-bold text-lg hover:text-orange-700",children:"0711 011 011"})]})]})]})}const L=l=>l?`KSh ${parseFloat(l).toLocaleString("en-KE",{minimumFractionDigits:0,maximumFractionDigits:2})}`:"KSh 0",G0=l=>{const r=Date.parse(l)-Date.now();if(r<=0)return{total:0,days:0,hours:0,minutes:0,seconds:0,expired:!0};const i=Math.floor(r/1e3%60),c=Math.floor(r/1e3/60%60),u=Math.floor(r/(1e3*60*60)%24),m=Math.floor(r/(1e3*60*60*24));return{total:r,days:m,hours:u,minutes:c,seconds:i,expired:!1}},Oi=(l,r,i,c)=>i==="active";function f1({auction:l}){const{data:r=[]}=ie({queryKey:["promo-banners"],queryFn:()=>ee.get("/promo-banners/").then(x=>x.data)});if(!l)return e.jsxs("div",{className:"hero-auction-empty bg-white rounded-lg p-4 sm:p-8 text-center mb-4 sm:mb-6 shadow-md",children:[e.jsx("div",{className:"text-3xl sm:text-4xl mb-2 sm:mb-3",children:""}),e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-1 sm:mb-2",children:"No Live Auctions"}),e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Check back soon for amazing bidding opportunities!"})]});const i=l.market_price||l.base_price*50,c=l.base_price,u=i-c,m=Math.round(u/i*100);return e.jsxs("div",{className:"hero-auction-section relative mb-4 sm:mb-6",children:[e.jsxs("div",{className:"fireworks-container",children:[e.jsx("div",{className:"firework"}),e.jsx("div",{className:"firework"}),e.jsx("div",{className:"firework"}),e.jsx("div",{className:"firework"}),e.jsx("div",{className:"firework"}),e.jsx("div",{className:"firework"}),e.jsx("div",{className:"firework"}),e.jsx("div",{className:"firework"}),e.jsx("div",{className:"firework"}),e.jsx("div",{className:"firework"}),e.jsx("div",{className:"firework"}),e.jsx("div",{className:"firework"})]}),e.jsxs("div",{className:"hero-auction-content bg-orange-200 rounded-lg sm:rounded-xl shadow-xl overflow-hidden border-2 border-red-400",children:[r.length>0&&e.jsx("div",{className:"promo-banners-wrapper",children:r.map(x=>e.jsx("div",{className:"promo-banner-item",style:{backgroundColor:x.background_color,color:x.text_color},children:e.jsxs("div",{className:"promo-text-animate",children:[e.jsx("span",{children:x.text}),e.jsx("span",{children:x.text}),e.jsx("span",{children:x.text}),e.jsx("span",{children:x.text})]})},x.id))}),e.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-5",children:[e.jsxs("div",{className:"lg:col-span-3 relative flex items-center justify-center overflow-hidden aspect-[16/9] lg:aspect-auto lg:min-h-[400px]",children:[l.main_image?e.jsx("img",{src:l.main_image.startsWith("http")?l.main_image:`${l.main_image}`,alt:l.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"text-6xl opacity-20",children:""}),e.jsx("div",{className:"absolute top-1 left-1 sm:top-2 sm:left-2",children:e.jsxs("span",{className:"live-badge bg-green-600 text-white px-2 py-1 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm font-bold shadow-lg flex items-center gap-1 sm:gap-2",children:[e.jsx("span",{className:"live-dot"})," LIVE"]})})]}),e.jsxs("div",{className:"lg:col-span-2 flex flex-col justify-center p-3 sm:p-6",children:[l.category_name&&e.jsx("span",{className:"inline-block bg-red-600 text-white px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs font-bold uppercase tracking-wide mb-1 sm:mb-3 w-fit",children:l.category_name}),e.jsx("h1",{className:"text-base sm:text-2xl lg:text-3xl font-black text-gray-900 mb-1 sm:mb-3 leading-tight",children:l.title}),l.description&&e.jsx("p",{className:"text-gray-700 text-xs sm:text-sm mb-2 sm:mb-4 line-clamp-1 sm:line-clamp-2 hidden sm:block",children:l.description}),e.jsxs("div",{className:"space-y-1 sm:space-y-3 mb-2 sm:mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1 sm:gap-3",children:[e.jsx("span",{className:"text-sm sm:text-2xl font-bold text-gray-500 line-through decoration-red-500 decoration-2",children:L(i)}),e.jsx("span",{className:"text-red-500 font-bold text-xs sm:text-base",children:""})]}),e.jsxs("div",{className:"bg-amber-100 border-2 border-amber-300 rounded-lg p-2 sm:p-4 overflow-hidden",children:[e.jsx("p",{className:"text-amber-900 text-xs font-bold uppercase tracking-wider mb-0.5 sm:mb-1",children:" Pledge Your Bid From"}),e.jsx("p",{className:"text-xl sm:text-3xl lg:text-4xl font-black text-amber-900 mb-0.5 sm:mb-1",children:L(c)}),e.jsx("div",{className:"savings-slider-container relative h-5 sm:h-8 overflow-hidden",children:e.jsxs("div",{className:"savings-slide-wrapper",children:[e.jsxs("p",{className:"savings-text text-sm sm:text-lg font-bold text-orange-700",children:[" SAVE ",L(u)," (",m,"% OFF!)"]}),e.jsxs("p",{className:"savings-text text-sm sm:text-lg font-bold text-orange-700",children:[" SAVE ",L(u)," (",m,"% OFF!)"]}),e.jsxs("p",{className:"savings-text text-sm sm:text-lg font-bold text-orange-700",children:[" SAVE ",L(u)," (",m,"% OFF!)"]})]})})]}),e.jsxs("div",{className:"flex items-center justify-center gap-1 sm:gap-2 bg-blue-50 border border-blue-400 rounded-lg px-2 sm:px-4 py-1.5 sm:py-3",children:[e.jsx("span",{className:"text-base sm:text-2xl",children:""}),e.jsx("p",{className:"text-blue-900 font-bold text-xs sm:text-base",children:"PAY ON DELIVERY"})]})]}),e.jsxs(X,{to:`/auction/${l.id}`,className:"cta-button relative bg-red-600 text-white px-3 sm:px-8 py-2.5 sm:py-4 rounded-lg sm:rounded-xl text-sm sm:text-lg font-black uppercase tracking-wide shadow-lg flex items-center justify-center gap-1 sm:gap-3 overflow-hidden",children:[e.jsx("span",{className:"cta-shimmer"}),e.jsx("span",{className:"relative z-10 text-center",children:"JOIN THE BID NOW!"})]}),e.jsx("div",{className:"urgency-slider-container relative h-4 sm:h-6 overflow-hidden mt-1 sm:mt-3",children:e.jsxs("div",{className:"urgency-slide-wrapper",children:[e.jsx("p",{className:"urgency-text text-center text-red-600 font-bold text-xs",children:" LIMITED TIME - BID NOW! "}),e.jsx("p",{className:"urgency-text text-center text-red-600 font-bold text-xs",children:" LIMITED TIME - BID NOW! "}),e.jsx("p",{className:"urgency-text text-center text-red-600 font-bold text-xs",children:" LIMITED TIME - BID NOW! "})]})})]})]})]})]})}function p1({categories:l}){if(!Array.isArray(l)||l.length===0)return e.jsx("div",{className:"flex justify-center items-center py-16",children:e.jsx("p",{className:"text-gray-400 text-lg animate-pulse",children:"Loading categories..."})});const r=l.filter(i=>i?.is_active);return r.length===0?null:e.jsxs("section",{className:"bg-white rounded-lg sm:rounded-2xl shadow-sm p-4 sm:p-6 md:p-8 mb-6 sm:mb-8 md:mb-10",children:[e.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-800 mb-4 sm:mb-6 md:mb-8 text-center uppercase tracking-wide",children:"Shop by Category"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4 md:gap-6",children:r.map(i=>e.jsxs(X,{to:`/category/${i?.slug||"#"}`,className:"group flex flex-col items-center text-center transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"relative w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 lg:w-32 lg:h-32 rounded-full overflow-hidden shadow-sm border border-gray-200 bg-gray-50 flex items-center justify-center",children:i?.image?e.jsx("img",{src:i.image,alt:i.name||"Category",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:e.jsx("span",{className:"text-gray-400 text-2xl sm:text-3xl md:text-4xl",children:""})})}),e.jsx("h3",{className:"mt-2 sm:mt-3 text-xs sm:text-sm text-gray-600 font-normal line-clamp-2 group-hover:text-orange-600 transition-colors duration-300",children:i?.name||""})]},i?.id))})]})}function Mi({product:l}){return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-all duration-300 flex flex-col",children:[e.jsxs(X,{to:`/product/${l.id}`,className:"block",children:[e.jsx("div",{className:"w-full aspect-[4/3] bg-gray-100 flex items-center justify-center overflow-hidden",children:l.main_image?e.jsx("img",{src:l.main_image,alt:l.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"text-gray-400 text-4xl",children:""})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 line-clamp-2 mb-2 min-h-[2.5rem]",children:l.title}),e.jsxs("div",{className:"text-orange-600 font-bold text-base mb-1",children:["KSh ",l.buy_now_price?.toLocaleString()]}),l.old_price&&e.jsxs("div",{className:"text-xs text-gray-400 line-through",children:["KSh ",l.old_price.toLocaleString()]})]})]}),e.jsx("div",{className:"px-3 pb-3 mt-auto",children:e.jsx(X,{to:`/product/${l.id}`,className:"block w-full bg-orange-600 text-white text-center py-2 rounded-md font-semibold text-sm hover:bg-orange-700 transition",children:"Buy Now"})})]})}function Yd({product:l}){const r=G0(l.end_time),i=Oi(l.start_time,l.end_time),c=l.stock_quantity>0&&l.stock_quantity<5;return e.jsxs("div",{className:"product-card bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200 hover:shadow-lg transition-all duration-300 flex flex-col h-full",children:[e.jsxs(X,{to:`/product/${l.id}`,className:"block relative overflow-hidden",children:[e.jsx("div",{className:"product-image aspect-[4/3] w-full",children:l.main_image?e.jsx("img",{src:l.main_image,alt:l.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:e.jsx("span",{className:"text-purple-300 text-4xl",children:""})})}),e.jsxs("div",{className:"absolute top-1 left-1 sm:top-2 sm:left-2 flex flex-col gap-1",children:[i&&e.jsxs("span",{className:"badge bg-red-600 text-white text-xs px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-full font-bold flex items-center gap-1",children:[e.jsx("span",{className:"pulse-dot"}),"LIVE"]}),c&&e.jsxs("span",{className:"badge bg-orange-500 text-white text-xs px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-full font-bold low-stock-pulse",children:[" ",l.stock_quantity]})]}),e.jsx("div",{className:"absolute top-1 right-1 sm:top-2 sm:right-2",children:e.jsx("span",{className:"badge bg-purple-600 text-white text-xs px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-full font-bold",children:"Both"})})]}),e.jsxs("div",{className:"p-2 sm:p-3 md:p-4 flex flex-col flex-grow",children:[e.jsx(X,{to:`/product/${l.id}`,children:e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1 sm:mb-2 line-clamp-2 hover:text-purple-600 transition",children:l.title})}),l.category_name&&e.jsx(X,{to:`/category/${l.category_name.toLowerCase()}`,className:"text-xs text-gray-500 hover:text-purple-600 mb-1 sm:mb-2",children:l.category_name}),e.jsxs("div",{className:"mb-2 sm:mb-3",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-1.5 sm:p-2 mb-1.5 sm:mb-2",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-0.5 sm:mb-1",children:"Buy Now"}),e.jsx("div",{className:"text-base sm:text-lg font-bold text-blue-600",children:L(l.buy_now_price)}),l.stock_quantity>0&&e.jsxs("div",{className:"text-xs text-green-600 mt-0.5 sm:mt-1",children:[" In Stock (",l.stock_quantity,")"]})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded p-1.5 sm:p-2",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-0.5 sm:mb-1",children:"Or Bid Starting At"}),e.jsx("div",{className:"text-base sm:text-lg font-bold text-red-600",children:L(l.base_price)}),l.highest_bid&&e.jsxs("div",{className:"text-xs text-gray-600 mt-0.5 sm:mt-1",children:["Current: ",L(l.highest_bid)]}),i&&r&&e.jsxs("div",{className:"text-xs font-semibold text-red-600 mt-0.5 sm:mt-1",children:[r," left"]})]})]}),e.jsx("div",{className:"flex-grow"}),e.jsxs("div",{className:"grid grid-cols-2 gap-1.5 sm:gap-2",children:[e.jsx(X,{to:`/product/${l.id}`,className:"quick-add-btn bg-blue-600 text-white py-1.5 sm:py-2 px-2 sm:px-3 rounded-lg text-xs sm:text-sm font-semibold hover:bg-blue-700 transition-all duration-300 text-center",children:" Buy"}),i?e.jsx(X,{to:`/product/${l.id}`,className:"quick-add-btn bg-red-600 text-white py-1.5 sm:py-2 px-2 sm:px-3 rounded-lg text-xs sm:text-sm font-semibold hover:bg-red-700 transition-all duration-300 text-center",children:" Bid"}):e.jsx("button",{disabled:!0,className:"bg-gray-300 text-gray-600 py-1.5 sm:py-2 px-2 sm:px-3 rounded-lg text-xs sm:text-sm font-semibold cursor-not-allowed",children:"Ended"})]})]})]})}function g1(){const[l,r]=C.useState(!0),i=Tt(),{data:c=[],isLoading:u}=ie({queryKey:["auctions"],queryFn:()=>ct.getAll().then(w=>w.data?.results||w.data||[]),refetchInterval:3e4}),{data:m=[],isLoading:x}=ie({queryKey:["categories"],queryFn:()=>xs.getAll().then(w=>w.data?.results||w.data||[])}),h=Ge({mutationFn:({product_id:w,quantity:_})=>oa.addToCart({product_id:w,quantity:_}),onSuccess:()=>{i.invalidateQueries(["cart"]),pe.success("Added to cart!",{duration:2e3,position:"top-center"})},onError:w=>{const _=w.response?.data?.error||w.response?.data?.message||"Failed to add to cart";pe.error(_,{duration:3e3,position:"top-center"})}}),b=c.filter(w=>(w.product_type==="auction"||w.product_type==="both")&&w.status==="active"),f=b[0]||null,g=c.filter(w=>(w.product_type==="buy_now"||w.product_type==="both")&&w.status==="active").slice(0,8),y=c.filter(w=>w.product_type==="both"&&w.status==="active").slice(0,8),N={auctions:b.length,buyNow:g.length,total:c.length};C.useEffect(()=>{const w=setTimeout(()=>r(!1),800);return()=>clearTimeout(w)},[]);const O=(w,_=1)=>{h.mutate({product_id:w,quantity:_})};return u||x?e.jsx("div",{className:"min-h-screen bg-rose-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"skeleton w-20 h-20 rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading BidSoko..."})]})}):e.jsxs("div",{className:"w-full overflow-x-hidden",children:[e.jsx("div",{className:"bg-rose-50 w-full",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 py-4 sm:py-6",children:e.jsx("form",{className:"relative max-w-3xl mx-auto",children:e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("div",{className:"absolute left-4 text-gray-400 pointer-events-none",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",placeholder:"Search for products, auctions, categories...",className:"flex-1 pl-12 pr-4 py-3 sm:py-4 text-sm sm:text-base bg-white rounded-full focus:outline-none focus:border-orange-500 focus:ring-4 focus:ring-orange-100 transition-all duration-300"}),e.jsxs("button",{type:"submit",className:"absolute right-2 bg-gradient-to-r from-orange-500 to-rose-500 text-white px-4 sm:px-8 py-2 sm:py-3 rounded-full font-semibold hover:from-orange-600 hover:to-rose-600 transition-all duration-300 text-sm sm:text-base transform hover:scale-105",children:[e.jsx("span",{className:"hidden sm:inline",children:"Search"}),e.jsx("span",{className:"sm:hidden",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})})})}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"max-w-[1600px] mx-auto",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-0 lg:gap-4",children:[e.jsx("aside",{className:"hidden lg:block lg:w-64 flex-shrink-0",children:e.jsx(t1,{categories:m})}),e.jsxs("main",{className:"flex-1 min-w-0 w-full px-3 sm:px-4 py-4",children:[e.jsx(f1,{auction:f}),e.jsx(p1,{categories:m}),g.length>0&&e.jsxs("section",{id:"buy-now",className:"my-6 sm:my-8 md:my-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6 pb-3 border-b-2 border-orange-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-rose-500 p-2 rounded-lg shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-extrabold bg-gradient-to-r from-orange-600 to-rose-600 bg-clip-text text-transparent",children:"Buy Now"})]}),e.jsxs(X,{to:"/buy-now",className:"group flex items-center gap-2 text-xs sm:text-sm text-orange-600 hover:text-rose-600 font-semibold transition-all duration-300",children:[e.jsx("span",{children:"View All"}),e.jsx("svg",{className:"w-4 h-4 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 sm:gap-3 md:gap-4",children:g.map(w=>e.jsx("div",{className:"w-full",children:e.jsx(Mi,{product:w,onAddToCart:O,isAddingToCart:h.isPending})},w.id))})]}),y.length>0&&e.jsxs("section",{className:"my-6 sm:my-8 md:my-10",children:[e.jsx("div",{className:"flex items-center justify-between mb-4 sm:mb-6 pb-3 border-b-2 border-rose-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-rose-500 to-orange-500 p-2 rounded-lg shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-extrabold bg-gradient-to-r from-rose-600 to-orange-600 bg-clip-text text-transparent",children:"Both Options - You Decide"})]})}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 sm:gap-3 md:gap-4",children:y.map(w=>e.jsx("div",{className:"w-full",children:e.jsx(Yd,{product:w,onAddToCart:O,isAddingToCart:h.isPending})},w.id))})]}),c.length===0&&e.jsxs("div",{className:"bg-white rounded shadow-sm p-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-20 w-20 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No Products Available"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Check back soon for exciting products!"})]})]}),e.jsx("aside",{className:"hidden lg:block lg:w-64 flex-shrink-0",children:e.jsx(h1,{stats:N})})]})})})]})}function b1(){const l=It(),r=Wt(),{login:i}=Ai(),[c,u]=C.useState({username:"",password:""}),[m,x]=C.useState(""),[h,b]=C.useState(!1),f=y=>{u({...c,[y.target.name]:y.target.value}),x("")},g=async y=>{y.preventDefault(),x(""),b(!0);const N=await i(c.username,c.password);if(N.success){const O=r.state?.from?.pathname||"/";l(O,{replace:!0})}else x(N.error),b(!1)};return e.jsx("div",{className:"flex items-center justify-center py-8 sm:py-12 px-4",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-orange-600 mb-2",children:"BidSoko"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Sign in to your account"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:[m&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded mb-4",children:m}),e.jsxs("form",{onSubmit:g,className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username"}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:c.username,onChange:f,className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your username"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:c.password,onChange:f,className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter your password"})]}),e.jsx("button",{type:"submit",disabled:h,className:"w-full bg-orange-600 text-white py-2.5 sm:py-3 rounded-lg text-sm sm:text-base font-semibold hover:bg-orange-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:h?"Signing in...":"Sign In"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600 text-sm",children:["Don't have an account?"," ",e.jsx(X,{to:"/signup",className:"text-orange-600 font-semibold hover:text-orange-700",children:"Sign up"})]})})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsx(X,{to:"/",className:"text-gray-600 hover:text-orange-600 text-sm",children:" Back to Home"})})]})})}function y1(){const l=It(),[r,i]=C.useState(1),[c,u]=C.useState({username:"",email:"",first_name:"",last_name:"",phone_number:"",gender:"",date_of_birth:"",password:"",password2:""}),m=Ge({mutationFn:y=>En.register(y),onSuccess:()=>{pe.success("Account created successfully! Please login."),setTimeout(()=>l("/login"),1500)},onError:y=>{const N=y.response?.data;N?Object.keys(N).forEach(O=>{(Array.isArray(N[O])?N[O]:[N[O]]).forEach(_=>pe.error(`${O}: ${_}`))}):pe.error("Registration failed. Please try again.")}}),x=y=>{u({...c,[y.target.name]:y.target.value})},h=()=>{if(r===1){if(!c.username||!c.email){pe.error("Please fill in all fields");return}}else if(r===2){if(!c.first_name||!c.last_name||!c.phone_number||!c.gender||!c.date_of_birth){pe.error("Please fill in all fields");return}if(!c.phone_number.startsWith("+")){pe.error("Phone number must start with country code (e.g., +254)");return}}i(r+1)},b=()=>{i(r-1)},f=y=>{if(y.preventDefault(),c.password!==c.password2){pe.error("Passwords do not match");return}if(c.password.length<8){pe.error("Password must be at least 8 characters");return}const N={...c,user_type:"buyer"};m.mutate(N)},g=[{number:1,title:"Account"},{number:2,title:"Personal"},{number:3,title:"Security"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-orange-100",children:[e.jsx(Rn,{}),e.jsx("div",{className:"flex items-center justify-center py-12 px-4",children:e.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl p-8 relative",children:[e.jsx(Y0,{position:"top-center",containerStyle:{top:20},toastOptions:{duration:3e3,style:{background:"#fff",color:"#363636",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",borderRadius:"0.5rem",padding:"16px",maxWidth:"500px"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Your Account"}),e.jsxs("p",{className:"text-gray-600",children:["Step ",r," of 3"]})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-between mb-2",children:g.map((y,N)=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold transition ${r>=y.number?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:r>y.number?"":y.number}),e.jsx("span",{className:`text-xs mt-2 font-medium ${r>=y.number?"text-orange-600":"text-gray-500"}`,children:y.title})]}),N<g.length-1&&e.jsx("div",{className:`flex-1 h-1 mx-2 rounded transition ${r>y.number?"bg-orange-600":"bg-gray-200"}`})]},y.number))})}),e.jsxs("form",{onSubmit:f,children:[r===1&&e.jsxs("div",{className:"space-y-4 animate-fadeIn",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username *"}),e.jsx("input",{type:"text",name:"username",required:!0,value:c.username,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Choose a unique username",autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",name:"email",required:!0,value:c.email,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"your@email.com"})]})]}),r===2&&e.jsxs("div",{className:"space-y-4 animate-fadeIn",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"First Name *"}),e.jsx("input",{type:"text",name:"first_name",required:!0,value:c.first_name,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"John",autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Last Name *"}),e.jsx("input",{type:"text",name:"last_name",required:!0,value:c.last_name,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Doe"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number *"}),e.jsx("input",{type:"tel",name:"phone_number",required:!0,value:c.phone_number,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"+254712345678"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Include country code (e.g., +254)"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Gender *"}),e.jsxs("select",{name:"gender",required:!0,value:c.gender,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date of Birth *"}),e.jsx("input",{type:"date",name:"date_of_birth",required:!0,value:c.date_of_birth,onChange:x,max:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]})]}),r===3&&e.jsxs("div",{className:"space-y-4 animate-fadeIn",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password *"}),e.jsx("input",{type:"password",name:"password",required:!0,value:c.password,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"",autoFocus:!0,minLength:8}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"At least 8 characters"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password *"}),e.jsx("input",{type:"password",name:"password2",required:!0,value:c.password2,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"",minLength:8})]}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mt-6",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:" Review Your Details"}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Username:"})," ",c.username]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",c.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",c.first_name," ",c.last_name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",c.phone_number]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Gender:"})," ",c.gender.charAt(0).toUpperCase()+c.gender.slice(1)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date of Birth:"})," ",c.date_of_birth]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-8",children:[r>1&&e.jsx("button",{type:"button",onClick:b,className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-200 transition",children:" Back"}),r<3?e.jsx("button",{type:"button",onClick:h,className:"flex-1 bg-gradient-to-r from-orange-600 to-orange-700 text-white py-3 rounded-lg font-semibold hover:from-orange-700 hover:to-orange-800 transition",children:"Next "}):e.jsx("button",{type:"submit",disabled:m.isPending,className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 text-white py-3 rounded-lg font-semibold hover:from-green-700 hover:to-green-800 transition disabled:opacity-50 disabled:cursor-not-allowed",children:m.isPending?"Creating Account...":" Create Account"})]})]}),e.jsxs("p",{className:"text-center text-gray-600 mt-6",children:["Already have an account?"," ",e.jsx(X,{to:"/login",className:"text-orange-600 font-semibold hover:underline",children:"Login here"})]})]})})]})}function j1(){const{id:l}=pt(),r=Tt(),[i,c]=C.useState(1),[u,m]=C.useState(0),{data:x,isLoading:h,error:b}=ie({queryKey:["product",l],queryFn:()=>ct.getById(l).then(N=>N.data)}),f=Ge({mutationFn:N=>oa.addToCart(N),onSuccess:()=>{r.invalidateQueries(["cart"]),He.success(" Added to cart successfully!"),c(1)},onError:N=>{He.error(N.response?.data?.error||"Failed to add to cart")}}),g=()=>{x&&f.mutate({product_id:x.id,quantity:i})};if(h)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin text-6xl mb-4",children:""}),e.jsx("p",{className:"text-gray-600",children:"Loading product..."})]})});if(b||!x)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Product Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"This product doesn't exist or has been removed."}),e.jsx(X,{to:"/",className:"text-orange-600 hover:underline",children:" Back to Home"})]})});if(x.product_type==="auction"||x.product_type==="both")return window.location.href=`/auction/${l}`,null;const y=x.main_image?[x.main_image]:[];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(X,{to:"/",className:"hover:text-orange-600",children:"Home"}),e.jsx("span",{children:""}),e.jsx(X,{to:"/browse",className:"hover:text-orange-600",children:"Browse"}),e.jsx("span",{children:""}),e.jsx("span",{className:"text-gray-900",children:x.title})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-4",children:y[u]?e.jsx("img",{src:y[u],alt:x.title,className:"w-full h-96 object-cover"}):e.jsx("div",{className:"w-full h-96 bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-500 text-6xl",children:""})})}),y.length>1&&e.jsx("div",{className:"grid grid-cols-4 gap-2",children:y.map((N,O)=>e.jsx("button",{onClick:()=>m(O),className:`border-2 rounded overflow-hidden ${u===O?"border-orange-500":"border-gray-200"}`,children:e.jsx("img",{src:N,alt:"",className:"w-full h-20 object-cover"})},O))})]}),e.jsx("div",{children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:x.title}),x.category_name&&e.jsx(X,{to:`/category/${x.category_name.toLowerCase()}`,className:"text-sm text-orange-600 hover:underline",children:x.category_name}),e.jsxs("div",{className:"mt-4",children:[e.jsx("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-medium",children:" Buy Now"}),x.stock_quantity<5&&x.stock_quantity>0&&e.jsxs("span",{className:"ml-2 bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-sm font-medium animate-pulse",children:[" Only ",x.stock_quantity," Left"]})]}),e.jsx("hr",{className:"my-6"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Price"}),e.jsx("div",{className:"text-4xl font-bold text-blue-600",children:L(x.buy_now_price)}),x.stock_quantity>0?e.jsxs("div",{className:"text-sm text-green-600 mt-2",children:[" In Stock (",x.stock_quantity," available)"]}):e.jsx("div",{className:"text-sm text-red-600 mt-2",children:" Out of Stock"})]}),x.stock_quantity>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Quantity"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>c(Math.max(1,i-1)),className:"px-4 py-2 border-2 border-gray-300 rounded-lg hover:bg-gray-50 font-bold",children:""}),e.jsx("input",{type:"number",min:"1",max:x.stock_quantity,value:i,onChange:N=>c(Math.max(1,Math.min(x.stock_quantity,parseInt(N.target.value)||1))),className:"w-20 text-center border-2 border-gray-300 rounded-lg font-semibold"}),e.jsx("button",{onClick:()=>c(Math.min(x.stock_quantity,i+1)),className:"px-4 py-2 border-2 border-gray-300 rounded-lg hover:bg-gray-50 font-bold",children:"+"})]})]}),x.stock_quantity>0?e.jsx("button",{onClick:g,className:"w-full bg-blue-600 text-white py-4 rounded-lg font-bold text-lg hover:bg-blue-700 transition-all shadow-lg",children:" Add to Cart"}):e.jsx("button",{disabled:!0,className:"w-full bg-gray-300 text-gray-600 py-4 rounded-lg font-bold text-lg cursor-not-allowed",children:"Out of Stock"}),e.jsx("hr",{className:"my-6"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-3",children:"Product Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx("span",{className:"font-medium capitalize",children:x.status})]}),x.units_sold>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Units Sold:"}),e.jsx("span",{className:"font-medium",children:x.units_sold})]})]})]})]})})]}),x.description&&e.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"font-bold text-xl mb-4",children:"Description"}),e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:x.description})]})]})]})}const v1=(l,r,i,c)=>{const[u,m]=C.useState(!1),x=C.useRef(null),h=C.useRef({onLeaderboardUpdate:r,onBidPlaced:i,onRoundUpdate:c});return C.useEffect(()=>{h.current={onLeaderboardUpdate:r,onBidPlaced:i,onRoundUpdate:c}},[r,i,c]),C.useEffect(()=>{if(!l)return;let b=!0;console.log(" Creating WebSocket connection for auction:",l);const f=window.location.protocol==="https:"?"wss:":"ws:",g=window.location.host,y=`${f}//${g}/ws/auction/${l}/`,N=new WebSocket(y);return N.onopen=()=>{if(!b){console.log("  Component unmounted, closing socket"),N.close();return}console.log(" WebSocket connected and stable"),x.current=N,m(!0)},N.onmessage=O=>{if(b)try{const w=JSON.parse(O.data);console.log(" WebSocket message type:",w.type),w.type==="leaderboard_update"?h.current.onLeaderboardUpdate?.(w.data):w.type==="bid_placed"?h.current.onBidPlaced?.(w.data):w.type==="round_update"?(console.log(" Round update received:",w.data),h.current.onRoundUpdate?.(w.data)):h.current.onLeaderboardUpdate?.(w)}catch(w){console.error("Parse error:",w)}},N.onerror=()=>{b&&(console.error(" WebSocket error"),m(!1))},N.onclose=O=>{b&&(console.log(" WebSocket closed, code:",O.code),m(!1))},x.current=N,()=>{console.log(" Cleanup: closing WebSocket"),b=!1,(N.readyState===WebSocket.OPEN||N.readyState===WebSocket.CONNECTING)&&N.close(1e3)}},[l]),{isConnected:u}},N1=async(l,r)=>{try{const i=localStorage.getItem("bidmarket_access_token");return(await ee.post("/bids/",{auction:l,pledge_amount:r},{headers:{Authorization:`Bearer ${i}`}})).data}catch(i){throw console.error("Error placing bid:",i),i}},w1=async()=>{try{const l=localStorage.getItem("bidmarket_access_token"),r=await ee.get("/bids/",{headers:{Authorization:`Bearer ${l}`}});return r.data?.results||r.data||[]}catch(l){throw console.error("Error fetching my bids:",l),l}},_1=async(l,r)=>{try{const i=localStorage.getItem("bidmarket_access_token"),c=await ee.get("/bids/",{headers:{Authorization:`Bearer ${i}`}}),m=(c.data?.results||c.data||[]).filter(x=>x.auction?.id===l&&x.round_info?.id===r&&x.is_valid);return m.length===0?null:(m.sort((x,h)=>new Date(h.submitted_at)-new Date(x.submitted_at)),m[0])}catch(i){return console.error("Error fetching latest bid for round:",i),null}},S1=async l=>{try{return(await ee.get(`/auctions/${l}/rounds/`)).data}catch(r){throw console.error("Error fetching rounds:",r),r}},C1=async(l,r)=>{try{const i=localStorage.getItem("bidmarket_access_token"),c=await ee.get("/participations/my_participations/",{headers:{Authorization:`Bearer ${i}`}});return!!(c.data?.results||c.data||[]).find(x=>x.auction===l&&x.round===r&&x.payment_status==="completed")}catch(i){return console.error("Error checking participation:",i),!1}};function E1({leaderboardData:l,currentUserId:r}){if(!l||!l.top_bids)return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:" Leaderboard"}),e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No bids yet. Be the first!"})]});const{top_bids:i,total_participants:c,user_position:u,user_bid:m,user_in_top_10:x,tied_at_top_count:h}=l;return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:" Top 10 Leaderboard"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[c," ",c===1?"participant":"participants"]})]}),h>10&&e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3 mb-4",children:e.jsxs("p",{className:"text-sm text-orange-800",children:[e.jsx("strong",{children:h})," users tied at highest amount. Names rotate randomly. Winner will be selected randomly at round close."]})}),m&&!x&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-semibold",children:"Your Position"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["#",u]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-blue-600",children:"Your Pledge"}),e.jsx("p",{className:"text-xl font-bold text-blue-900",children:L(m.pledge_amount)})]})]})}),e.jsx("div",{className:"space-y-2",children:i.map((b,f)=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg transition-all ${b.is_current_user?"bg-gradient-to-r from-orange-100 to-orange-50 border-2 border-orange-400":f===0?"bg-yellow-50 border border-yellow-300":"bg-gray-50 border border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full font-bold text-sm ${f===0?"bg-yellow-400 text-yellow-900":f===1?"bg-gray-300 text-gray-800":f===2?"bg-orange-300 text-orange-900":"bg-gray-200 text-gray-700"}`,children:b.position}),e.jsxs("div",{children:[e.jsxs("p",{className:`font-semibold ${b.is_current_user?"text-orange-900":"text-gray-900"}`,children:[b.is_current_user?"You":b.user.first_name,f===0&&" "]}),b.is_current_user&&e.jsx("p",{className:"text-xs text-orange-700",children:"Your bid"})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:`text-lg font-bold ${b.is_current_user?"text-orange-900":"text-gray-900"}`,children:L(b.pledge_amount)})})]},b.id))}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex items-center justify-center gap-2 text-sm text-gray-500",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Live updates"]})]})}function A1({auctionId:l,roundId:r,amount:i,onSuccess:c,onClose:u}){const[m,x]=C.useState(""),[h,b]=C.useState(!1),[f,g]=C.useState(null),[y,N]=C.useState(120),[O,w]=C.useState(!1),{data:_,refetch:v}=ie({queryKey:["payment-status",l],queryFn:()=>ms.get(`/api/payments/status/${l}/`).then(z=>z.data),enabled:!!f&&h,refetchInterval:h?8e3:!1}),S=Ge({mutationFn:()=>ms.post("/api/payments/initiate/",{auction_id:l,phone_number:m}),onSuccess:z=>{pe.success("STK Push sent! Check your phone."),g(z.data.checkout_request_id),b(!0)},onError:z=>{const R=z.response?.data?.error||"Failed to initiate payment";pe.error(R),b(!1)}});C.useEffect(()=>{if(!h)return;const z=setInterval(()=>{N(R=>R<=1?(b(!1),pe.error("Payment timeout. Please try again."),0):R-1)},1e3);return()=>clearInterval(z)},[h]),C.useEffect(()=>{_&&_.has_paid&&(b(!1),w(!0),pe.success("Payment successful!"),setTimeout(()=>{c()},1500))},[_,c]);const M=z=>{if(z.preventDefault(),!m||m.length<10){pe.error("Please enter a valid phone number");return}S.mutate()},F=z=>{const R=Math.floor(z/60),D=z%60;return`${R}:${D.toString().padStart(2,"0")}`};if(O)return e.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:[e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-8 text-center animate-scaleIn",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-green-500 rounded-full animate-ping opacity-75"}),e.jsx(o1,{className:"w-16 h-16 text-green-600 relative animate-bounce"})]})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful! "}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Your payment has been confirmed. Redirecting you..."}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"relative w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute top-0 left-0 h-full bg-green-600 animate-progressFill"})})}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Amount Paid"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:L(i)})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"You can now place your pledge in the auction"})]}),e.jsx("style",{jsx:!0,children:`
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          @keyframes scaleIn {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
          }
          @keyframes progressFill {
            from { width: 0%; }
            to { width: 100%; }
          }
          .animate-fadeIn {
            animation: fadeIn 0.3s ease-out;
          }
          .animate-scaleIn {
            animation: scaleIn 0.4s ease-out;
          }
          .animate-progressFill {
            animation: progressFill 1.5s linear forwards;
          }
        `})]});if(h){const z=(120-y)/120*100;return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg max-w-md w-full p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(Lf,{className:"w-16 h-16 text-green-600 animate-spin"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment in Progress"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Check your phone for the M-Pesa prompt and enter your PIN"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"relative w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-green-500 to-green-600 transition-all duration-1000 ease-linear",style:{width:`${z}%`},children:e.jsx("div",{className:"absolute inset-0 bg-white/30 animate-pulse"})})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Waiting for payment confirmation..."})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(md,{className:"w-5 h-5 text-green-600"}),e.jsxs("span",{className:"font-medium text-green-900",children:["Phone: ",m]})]}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:L(i)})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Time remaining"}),e.jsx("div",{className:"text-3xl font-mono font-bold text-orange-600",children:F(y)})]}),e.jsxs("div",{className:"flex items-start gap-2 text-left bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[e.jsx(Uf,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-900",children:[e.jsx("p",{className:"font-medium mb-1",children:"Having issues?"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-800",children:[e.jsx("li",{children:"Make sure your phone has M-Pesa registered"}),e.jsx("li",{children:"Check if you have sufficient balance"}),e.jsx("li",{children:"Ensure you have network connectivity"})]})]})]}),e.jsx("button",{onClick:()=>{b(!1),g(null),N(120)},className:"text-orange-600 hover:text-orange-700 font-medium",children:"Cancel Payment"})]})})})}return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Join Auction"}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-green-100 rounded-full p-4",children:e.jsx(md,{className:"w-12 h-12 text-green-600"})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Pay with M-Pesa"}),e.jsx("p",{className:"text-gray-600",children:"Enter your M-Pesa registered phone number"})]}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Entry Fee"}),e.jsx("div",{className:"text-3xl font-bold text-orange-600",children:L(i)})]}),e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"+254"}),e.jsx("input",{type:"tel",value:m,onChange:z=>x(z.target.value),placeholder:"712345678",className:"w-full pl-16 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",maxLength:"10",required:!0})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Format: 0712345678 or 712345678"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Uf,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-blue-900",children:[e.jsx("p",{className:"font-medium mb-1",children:"What happens next?"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-blue-800",children:[e.jsx("li",{children:"You'll receive an M-Pesa prompt on your phone"}),e.jsx("li",{children:"Enter your M-Pesa PIN to confirm"}),e.jsx("li",{children:"You'll receive a confirmation SMS"}),e.jsx("li",{children:"You can then place your pledge"})]})]})]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:u,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg font-semibold hover:bg-gray-50 transition",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:S.isPending||!m,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:S.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Lf,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(md,{className:"w-5 h-5"}),"Pay Now"]})})]})]})]})})}function T1({isOpen:l,onClose:r,roundData:i,onPledgeSuccess:c,maximumPledge:u}){const{id:m}=pt(),[x,h]=C.useState(""),[b,f]=C.useState(!1),[g,y]=C.useState(null),[N,O]=C.useState(null),[w,_]=C.useState(!1);if(C.useEffect(()=>{(async()=>{if(l&&i&&m){_(!0);const D=await _1(m,i.id);O(D),_(!1)}})()},[l,i,m]),!l||!i)return null;const v=parseFloat(i.min_pledge||i.base_price),S=u?parseFloat(u):null,M=x?parseFloat(x):0,F=N?parseFloat(N.pledge_amount):null,z=async R=>{if(R.preventDefault(),y(null),!x||M<v){y(`Pledge must be at least ${L(v)}`);return}if(S&&M>S){y(`Pledge cannot exceed ${L(S)}`);return}if(F&&M<F){y(`You cannot lower your pledge! Your current pledge is ${L(F)}. You can only increase it.`);return}f(!0);try{await c(M),r(),h(""),O(null)}catch(D){y(D.message||"Failed to place pledge. Please try again.")}finally{f(!1)}};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 p-6 text-white rounded-t-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:" Place Your Pledge"}),e.jsx("button",{onClick:r,disabled:b,className:"text-white hover:text-gray-200 text-2xl font-bold disabled:opacity-50",children:""})]})}),e.jsxs("form",{onSubmit:z,className:"p-6",children:[e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["Round ",i.round_number]}),e.jsx("span",{className:"text-xs bg-green-500 text-white px-2 py-1 rounded-full",children:" Paid"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 mb-3",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-2 text-center",children:"PLEDGE RANGE"}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Minimum"}),e.jsx("p",{className:"font-bold text-green-600",children:L(v)})]}),e.jsx("div",{className:"text-xl text-gray-400",children:""}),e.jsxs("div",{className:"flex-1 text-right",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Maximum"}),e.jsx("p",{className:"font-bold text-red-600",children:S?L(S):"No limit"})]})]})]}),w?e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2 text-center",children:e.jsx("p",{className:"text-xs text-blue-600",children:"Loading your previous pledge..."})}):N?e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-blue-600 font-semibold",children:"Your Current Pledge:"}),e.jsx("span",{className:"font-bold text-blue-800 text-lg",children:L(F)})]}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:" You can only increase your pledge, not lower it"})]}):null]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:N?"Update Your Pledge Amount":"Your Pledge Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 font-semibold",children:"Ksh"}),e.jsx("input",{type:"number",value:x,onChange:R=>h(R.target.value),min:F||v,max:S||void 0,step:"1",placeholder:F?`Min: ${F}`:`Min: ${v}`,className:"w-full pl-14 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:border-orange-500 focus:outline-none text-lg font-semibold",disabled:b||w})]}),M>0&&M>=v&&(!S||M<=S)&&e.jsx("p",{className:"text-sm text-green-600 mt-2",children:" Valid pledge amount"})]}),g&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-sm text-red-800",children:g})}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border-2 border-green-200 rounded-lg p-4 mb-6",children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-800 mb-2",children:[" ",e.jsx("strong",{children:"How to Win:"})]}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1 ml-1",children:[e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Pledge the MAXIMUM amount"})," to maximize your chances of winning!"]}),e.jsxs("li",{children:[" The ",e.jsx("strong",{children:"highest pledge wins"})," this round"]}),e.jsxs("li",{children:[" You can ",e.jsx("strong",{children:"update your pledge"})," anytime during the round"]}),e.jsxs("li",{children:[" You can only ",e.jsx("strong",{children:"increase"})," your pledge, not lower it"]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:r,disabled:b,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:b||w||!x||M<v||S&&M>S,className:"flex-1 px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg font-semibold hover:from-orange-600 hover:to-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:b?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"animate-spin",children:""}),"Submitting..."]}):N?e.jsx(e.Fragment,{children:" Update Pledge"}):e.jsx(e.Fragment,{children:" Lock In Pledge"})})]})]})]})})}function R1(){const{id:l}=pt(),{user:r,isAuthenticated:i}=C.useContext(Ei),c=Tt(),[u,m]=C.useState(null),[x,h]=C.useState(!1),[b,f]=C.useState(null),[g,y]=C.useState(!1),[N,O]=C.useState(!1),[w,_]=C.useState(""),{data:v,isLoading:S,error:M}=ie({queryKey:["product",l],queryFn:()=>ct.getById(l).then(ae=>ae.data)});if(v&&v.product_type==="buy_now")return e.jsx(Zf,{to:`/product/${l}`,replace:!0});const{data:F,refetch:z}=ie({queryKey:["rounds",l],queryFn:()=>S1(l),enabled:!!v,refetchInterval:1e4});C.useEffect(()=>{if(F&&F.length>0){const ae=F.find(ce=>ce.is_active);if(ae)m(ae);else{const ce=F.reduce((Ke,Pe)=>Pe.round_number>Ke.round_number?Pe:Ke,F[0]);m(ce)}}},[F]),C.useEffect(()=>{(async()=>{if(i&&u){const ce=await C1(l,u.id);h(ce)}})()},[i,u,l]);const{isConnected:R}=v1(l,ae=>{f(ae)},ae=>{console.log("New bid placed:",ae),c.invalidateQueries(["product",l])},async ae=>{console.log(" New round started!",ae),h(!1),f(null);try{const ce=await z();if(ce.data&&ce.data.length>0){const Pe=ce.data.find(P=>P.is_active)||ce.data[ce.data.length-1];m(Pe);const Ae=Pe.round_number;_(` NEW ROUND ${Ae} HAS STARTED! Join now to participate in this round.`),setTimeout(()=>_(""),8e3),console.log(" Updated to new round:",Ae)}}catch(ce){console.error("Error refetching rounds:",ce)}}),D=async()=>{try{if(!u)return;h(!0),_(" Payment successful! You can now place your pledge."),setTimeout(()=>{y(!1),O(!0),_("")},1500)}catch(ae){throw console.error("Payment error:",ae),ae}},Y=async ae=>{try{await N1(l,ae),_(`Pledge of ${L(ae)} submitted successfully!`),setTimeout(()=>{_("")},3e3)}catch(ce){throw console.error("Pledge error:",ce),ce}},J=()=>{if(!i){alert("Please login to join this auction");return}y(!0)},ne=()=>{if(!i){alert("Please login to place a pledge");return}O(!0)};if(S)return e.jsx("div",{className:"min-h-screen bg-rose-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin text-6xl mb-4",children:""}),e.jsx("p",{className:"text-gray-600",children:"Loading auction details..."})]})});if(M||!v)return e.jsx("div",{className:"min-h-screen bg-rose-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl mb-4",children:""}),e.jsx("p",{className:"text-gray-600",children:"Auction not found"}),e.jsx(X,{to:"/",className:"text-orange-600 hover:underline mt-4 inline-block",children:"Return to Home"})]})});const ge=Oi(v.start_time,v.end_time,v.status,v.product_type);return e.jsxs("div",{className:"min-h-screen bg-orange-50",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[w&&e.jsx("div",{className:"mb-6 bg-green-50 border-2 border-green-500 rounded-lg p-4 animate-pulse",children:e.jsxs("p",{className:"text-green-800 font-semibold text-center",children:[" ",w]})}),e.jsx("div",{className:"mb-4 flex items-center justify-end gap-2 text-sm",children:R?e.jsxs("span",{className:"flex items-center gap-2 text-green-600",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Live updates active"]}):e.jsxs("span",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-gray-400 rounded-full"}),"Connecting..."]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsx("div",{className:"aspect-video bg-gradient-to-br from-red-100 to-red-200",children:v.main_image?e.jsx("img",{src:v.main_image,alt:v.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-8xl",children:""})})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:v.title}),v.category_name&&e.jsx(X,{to:`/category/${v.category_name.toLowerCase()}`,className:"text-sm text-orange-600 hover:underline",children:v.category_name})]}),e.jsx("div",{children:ge?e.jsxs("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm font-bold flex items-center gap-1",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-white rounded-full animate-pulse"}),"LIVE"]}):e.jsx("span",{className:"bg-gray-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:"ENDED"})})]}),e.jsx("div",{className:"prose max-w-none mb-6",children:e.jsx("p",{className:"text-gray-700",children:v.description})})]})]})}),e.jsxs("div",{className:"space-y-6",children:[u&&e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:[" Round ",u.round_number]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2 text-center",children:"PLEDGE RANGE"}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Minimum"}),e.jsx("p",{className:"font-bold text-green-600 text-lg",children:L(u.min_pledge||u.base_price)})]}),e.jsx("div",{className:"text-2xl text-gray-400",children:""}),e.jsxs("div",{className:"flex-1 text-right",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Maximum"}),e.jsx("p",{className:"font-bold text-red-600 text-lg",children:u.max_pledge?L(u.max_pledge):"No limit"})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:e.jsxs("p",{className:"text-xs text-center text-gray-700",children:[" ",e.jsx("strong",{children:"Tip:"})," Pledge the MAXIMUM to maximize your chances of winning!"]})})]}),e.jsxs("div",{className:"flex justify-between items-center pb-3 border-b",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Entry Fee:"}),e.jsx("span",{className:"font-bold text-orange-600",children:L(u.participation_fee)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Current Highest:"}),e.jsx("span",{className:"font-bold text-red-600 text-lg",children:v.highest_bid?.amount?L(parseFloat(v.highest_bid.amount)):"No bids yet"})]})]}),i?x?e.jsx("button",{onClick:ne,disabled:!ge,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-4 rounded-lg font-bold text-lg hover:from-orange-600 hover:to-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg",children:ge?" Update Your Pledge":"Auction Ended"}):e.jsx("button",{onClick:J,disabled:!ge,className:"w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-4 rounded-lg font-bold text-lg hover:from-green-600 hover:to-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg",children:ge?" Join This Auction":"Auction Ended"}):e.jsx(X,{to:"/login",className:"block w-full bg-gradient-to-r from-orange-500 to-red-500 text-white py-4 rounded-lg font-bold text-lg text-center hover:from-orange-600 hover:to-red-600 transition-all shadow-lg",children:" Login to Join Auction"}),x&&e.jsx("div",{className:"mt-4 bg-green-50 border-2 border-green-300 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-green-800 text-center font-semibold",children:" You're in! Update your pledge anytime."})})]}),e.jsx(E1,{leaderboardData:b,currentUserId:r?.id})]})]})]}),g&&u&&e.jsx(A1,{auctionId:l,roundId:u.id,amount:u.participation_fee,onSuccess:D,onClose:()=>y(!1)}),e.jsx(T1,{maximumPledge:u?.max_pledge,isOpen:N,onClose:()=>O(!1),roundData:u,onPledgeSuccess:Y})]})}function V0({product:l}){const r=Oi(l.start_time,l.end_time,l.status,l.product_type);return e.jsxs("div",{className:"product-card bg-white rounded-xl shadow-md overflow-hidden border border-gray-100 hover:shadow-2xl hover:border-orange-200 transition-all duration-500 flex flex-col h-full group",children:[e.jsxs(X,{to:`/auction/${l.id}`,className:"block relative overflow-hidden",children:[e.jsxs("div",{className:"product-image aspect-[4/3] w-full relative",children:[l.main_image?e.jsx("img",{src:l.main_image.startsWith("http")?l.main_image:`${l.main_image}`,alt:l.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-rose-100 via-orange-100 to-red-200 flex items-center justify-center",children:e.jsx("span",{className:"text-rose-300 text-5xl",children:""})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[r&&e.jsxs("span",{className:"badge bg-gradient-to-r from-red-600 to-rose-600 text-white text-xs px-3 py-1.5 rounded-full font-bold flex items-center gap-1.5 shadow-lg backdrop-blur-sm",children:[e.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"LIVE"]}),!r&&l.status==="closed"&&e.jsx("span",{className:"badge bg-gray-600 text-white text-xs px-3 py-1.5 rounded-full font-bold shadow-lg backdrop-blur-sm",children:"Ended"}),!r&&l.status==="draft"&&e.jsx("span",{className:"badge bg-amber-500 text-white text-xs px-3 py-1.5 rounded-full font-bold shadow-lg backdrop-blur-sm",children:"Draft"})]}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("span",{className:"badge bg-gradient-to-r from-red-600 to-rose-600 text-white text-xs px-3 py-1.5 rounded-full font-bold shadow-lg backdrop-blur-sm",children:" Auction"})})]}),e.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[e.jsx(X,{to:`/auction/${l.id}`,children:e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2 line-clamp-2 hover:text-red-600 transition",children:l.title})}),l.category_name&&e.jsx(X,{to:`/category/${l.category_name.toLowerCase()}`,className:"text-xs text-gray-500 hover:text-red-600 mb-2",children:l.category_name}),e.jsxs("div",{className:"mb-3 space-y-3",children:[e.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-orange-50 rounded-lg p-3 border border-rose-100",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1 font-medium",children:"Bidding Starts At"}),e.jsx("div",{className:"text-2xl font-extrabold bg-gradient-to-r from-red-600 to-rose-600 bg-clip-text text-transparent",children:L(l.base_price)})]}),l.highest_bid&&e.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 border-2 border-emerald-300 rounded-lg p-3 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("svg",{className:"w-4 h-4 text-emerald-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("div",{className:"text-xs text-emerald-700 font-bold",children:"Current Highest Bid"})]}),e.jsx("div",{className:"text-xl font-extrabold text-emerald-700",children:L(l.highest_bid)})]})]}),r&&e.jsx("div",{className:"bg-gradient-to-r from-orange-100 to-rose-100 border-2 border-orange-300 rounded-xl p-3 mb-3 shadow-sm",children:e.jsxs("p",{className:"text-xs text-orange-800 font-bold text-center flex items-center justify-center gap-2",children:[e.jsx("span",{className:"text-base",children:""}),e.jsx("span",{children:"Compete to win at amazing prices!"})]})}),e.jsx("div",{className:"flex-grow"}),r?e.jsxs(X,{to:`/auction/${l.id}`,className:"quick-add-btn w-full bg-gradient-to-r from-red-600 to-rose-600 text-white py-3 px-4 rounded-xl font-bold hover:from-red-700 hover:to-rose-700 transition-all duration-300 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1h4v1a2 2 0 11-4 0zM12 14c.015-.34.208-.646.477-.859a4 4 0 10-4.954 0c.27.213.462.519.476.859h4.002z"})}),e.jsx("span",{children:"Join Auction"})]}):l.status==="draft"?e.jsx("button",{disabled:!0,className:"w-full bg-gray-200 text-gray-500 py-3 px-4 rounded-xl font-semibold cursor-not-allowed opacity-60",children:"Draft"}):e.jsx("button",{disabled:!0,className:"w-full bg-gray-200 text-gray-500 py-3 px-4 rounded-xl font-semibold cursor-not-allowed opacity-60",children:"Auction Ended"})]})]})}function O1(){const[l,r]=C.useState("all"),[i,c]=C.useState("all"),[u,m]=C.useState("newest"),{data:x=[],isLoading:h}=ie({queryKey:["auctions"],queryFn:()=>ct.getAll().then(N=>N.data?.results||N.data||[])}),{data:b=[]}=ie({queryKey:["categories"],queryFn:()=>xs.getAll().then(N=>N.data?.results||N.data||[])});let f=x.filter(N=>N.status==="active");l!=="all"&&(l==="buy_now"?f=f.filter(N=>N.product_type==="buy_now"||N.product_type==="both"):l==="auction"?f=f.filter(N=>N.product_type==="auction"||N.product_type==="both"):f=f.filter(N=>N.product_type===l)),i!=="all"&&(f=f.filter(N=>N.category_name===i)),u==="price_low"?f.sort((N,O)=>{const w=N.buy_now_price||N.base_price||0,_=O.buy_now_price||O.base_price||0;return w-_}):u==="price_high"&&f.sort((N,O)=>{const w=N.buy_now_price||N.base_price||0;return(O.buy_now_price||O.base_price||0)-w});const g=(N,O)=>{alert(` ${O} added to cart!`)},y=N=>N.product_type==="buy_now"?e.jsx(Mi,{product:N,onAddToCart:g},N.id):N.product_type==="auction"?e.jsx(V0,{product:N},N.id):e.jsx(Yd,{product:N},N.id);return e.jsxs("div",{className:"min-h-screen",children:[e.jsx("div",{className:"bg-white border-b shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3 sm:py-4",children:e.jsxs("form",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Search products...",className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border border-gray-300 rounded focus:outline-none focus:border-orange-500"}),e.jsxs("button",{type:"submit",className:"bg-orange-500 text-white px-4 sm:px-8 py-2 sm:py-3 rounded font-semibold hover:bg-orange-600 transition text-sm sm:text-base uppercase",children:[e.jsx("span",{className:"hidden sm:inline",children:"Search"}),e.jsx("span",{className:"sm:hidden",children:""})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:py-6 md:py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-6",children:[e.jsx("aside",{className:"hidden lg:block w-64 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-24",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-3",children:"Product Type"}),e.jsx("div",{className:"space-y-2",children:[{value:"all",label:"All Products"},{value:"buy_now",label:"Buy Now"},{value:"auction",label:"Auctions"},{value:"both",label:"Both Options"}].map(N=>e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"filter",value:N.value,checked:l===N.value,onChange:O=>r(O.target.value),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:N.label})]},N.value))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-3",children:"Category"}),e.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"category",value:"all",checked:i==="all",onChange:N=>c(N.target.value),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"All Categories"})]}),b.map(N=>e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"category",value:N.name,checked:i===N.name,onChange:O=>c(O.target.value),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:N.name})]},N.id))]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-3",children:"Sort By"}),e.jsxs("select",{value:u,onChange:N=>m(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:border-orange-500",children:[e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"price_low",children:"Price: Low to High"}),e.jsx("option",{value:"price_high",children:"Price: High to Low"})]})]})]})}),e.jsxs("main",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 gap-2",children:[e.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["Browse Products",e.jsxs("span",{className:"text-sm sm:text-lg font-normal text-gray-600 ml-2",children:["(",f.length," ",f.length===1?"item":"items",")"]})]}),e.jsx("button",{className:"lg:hidden bg-orange-500 text-white px-4 py-2 rounded font-semibold text-sm",children:" Filters"})]}),h&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"skeleton w-20 h-20 rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading products..."})]}),!h&&f.length>0&&e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-2 sm:gap-3 md:gap-4",children:f.map(N=>y(N))}),!h&&f.length===0&&e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("svg",{className:"mx-auto h-20 w-20 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No Products Found"}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Try adjusting your filters"}),e.jsx("button",{onClick:()=>{r("all"),c("all")},className:"text-orange-600 hover:underline",children:"Clear all filters"})]})]})]})})]})}function M1(){const{categorySlug:l}=pt(),{data:r=[],isLoading:i}=ie({queryKey:["auctions"],queryFn:()=>ct.getAll().then(h=>h.data?.results||h.data||[])}),c=r.filter(h=>h.status==="active"&&h.category_name?.toLowerCase()===l.toLowerCase()),u=c[0]?.category_name||l,m=(h,b)=>{alert(` ${b} added to cart!`)},x=h=>h.product_type==="buy_now"?e.jsx(Mi,{product:h,onAddToCart:m},h.id):h.product_type==="auction"?e.jsx(V0,{product:h},h.id):e.jsx(Yd,{product:h},h.id);return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 capitalize",children:u}),e.jsxs("p",{className:"text-gray-600",children:[c.length," ",c.length===1?"product":"products"," available"]})]}),i&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"skeleton w-20 h-20 rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading products..."})]}),!i&&c.length>0&&e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:c.map(h=>x(h))}),!i&&c.length===0&&e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("svg",{className:"mx-auto h-20 w-20 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No Products in This Category"}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Check back soon or browse other categories"}),e.jsx(X,{to:"/browse",className:"text-orange-600 hover:underline",children:" Browse All Products"})]})]})})}function D1(){const l=It(),r=Tt(),{data:i,isLoading:c,error:u}=ie({queryKey:["cart"],queryFn:oa.getCart}),m=Ge({mutationFn:({product_id:v,quantity:S})=>oa.updateQuantity({product_id:v,quantity:S}),onSuccess:()=>{r.invalidateQueries(["cart"]),pe.success("Quantity updated")},onError:v=>{pe.error(v.response?.data?.error||"Failed to update quantity")}}),x=Ge({mutationFn:v=>oa.removeItem(v),onSuccess:()=>{r.invalidateQueries(["cart"]),pe.success("Item removed from cart")},onError:v=>{pe.error(v.response?.data?.error||"Failed to remove item")}}),h=Ge({mutationFn:oa.clearCart,onSuccess:()=>{r.invalidateQueries(["cart"]),pe.success("Cart cleared")},onError:v=>{pe.error(v.response?.data?.error||"Failed to clear cart")}}),b=(v,S)=>{S<1||m.mutate({product_id:v,quantity:S})},f=v=>{confirm("Remove this item from cart?")&&x.mutate(v)},g=()=>{confirm("Clear all items from cart?")&&h.mutate()},y=i?.data?.items||[],N=i?.data?.subtotal||0,O=i?.data?.total_items||0,w=y.length>0?500:0,_=N+w;return c?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading cart..."})]})}):u?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load cart"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-orange-500 text-white px-6 py-2 rounded-lg hover:bg-orange-600",children:"Retry"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Shopping Cart"}),y.length>0&&e.jsx("button",{onClick:g,disabled:h.isPending,className:"text-red-600 hover:text-red-700 text-sm font-medium disabled:opacity-50",children:h.isPending?"Clearing...":"Clear Cart"})]}),y.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-24 w-24 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Start shopping to add items to your cart!"}),e.jsx(X,{to:"/browse",className:"inline-block bg-orange-500 text-white px-8 py-3 rounded-lg font-semibold hover:bg-orange-600 transition",children:"Browse Products"})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm",children:y.map((v,S)=>e.jsxs("div",{className:`p-6 flex gap-4 ${S!==y.length-1?"border-b":""}`,children:[e.jsx("div",{className:"w-24 h-24 flex-shrink-0",children:v.product.main_image?e.jsx("img",{src:v.product.main_image,alt:v.product.title,className:"w-full h-full object-cover rounded"}):e.jsx("div",{className:"w-full h-full bg-gray-200 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400 text-xs",children:"No Image"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(X,{to:`/product/${v.product.id}`,className:"text-lg font-semibold text-gray-900 hover:text-orange-600",children:v.product.title}),e.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[L(v.price)," each"]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["In stock: ",v.product.stock_quantity]}),e.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[e.jsx("button",{onClick:()=>b(v.product.id,v.quantity-1),disabled:v.quantity<=1||m.isPending,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:""}),e.jsx("span",{className:"text-gray-900 font-medium w-12 text-center",children:v.quantity}),e.jsx("button",{onClick:()=>b(v.product.id,v.quantity+1),disabled:v.quantity>=v.product.stock_quantity||m.isPending,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"+"}),e.jsx("button",{onClick:()=>f(v.id),disabled:x.isPending,className:"ml-auto text-red-600 hover:text-red-700 text-sm font-medium disabled:opacity-50",children:x.isPending?"Removing...":"Remove"})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-xl font-bold text-gray-900",children:L(v.total_price)})})]},v.id))})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-24",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsxs("span",{children:["Subtotal (",O," ",O===1?"item":"items",")"]}),e.jsx("span",{className:"font-medium",children:L(N)})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Shipping"}),e.jsx("span",{className:"font-medium",children:L(w)})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{children:L(_)})]})]}),e.jsx("button",{className:"w-full bg-orange-500 text-white py-4 rounded-lg font-bold hover:bg-orange-600 transition mb-3",onClick:()=>l("/checkout"),children:"Proceed to Checkout"}),e.jsx(X,{to:"/browse",className:"block text-center text-orange-600 hover:underline text-sm",children:"Continue Shopping"}),e.jsx("div",{className:"mt-6 pt-6 border-t",children:e.jsxs("div",{className:"text-xs text-gray-600 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"Secure Checkout"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"Free Returns"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"24/7 Support"})]})]})})]})})]})]})})}function k1(){const l=It(),[r,i]=C.useState(1),[c,u]=C.useState(""),[m,x]=C.useState({shipping_name:"",shipping_address:"",shipping_city:"",shipping_phone:"",customer_notes:""}),{data:h,isLoading:b}=ie({queryKey:["cart"],queryFn:oa.getCart}),f=h?.data?.items||[],g=h?.data?.subtotal||0,y=f.length>0?500:0,N=g+y,O=Ge({mutationFn:S=>bi.create(S),onSuccess:S=>{const M=S.data.id;pe.success("Order created successfully!"),i(2),window.sessionStorage.setItem("pending_order_id",M)},onError:S=>{pe.error(S.response?.data?.error||"Failed to create order")}}),w=Ge({mutationFn:({orderId:S,phone:M})=>U0.initiateOrderPayment(S,M),onSuccess:()=>{const S=window.sessionStorage.getItem("pending_order_id");pe.success("Payment request sent! Check your phone for M-Pesa prompt"),l(`/payment-status?order_id=${S}`)},onError:S=>{pe.error(S.response?.data?.error||"Payment failed")}}),_=S=>{if(S.preventDefault(),!m.shipping_name||!m.shipping_address||!m.shipping_city||!m.shipping_phone){pe.error("Please fill in all delivery details");return}O.mutate(m)},v=S=>{S.preventDefault();const M=window.sessionStorage.getItem("pending_order_id");if(!M){pe.error("No order found. Please try again."),i(1);return}const F=c.replace(/\s/g,"");if(!/^(254|07|7)\d{8,9}$/.test(F)){pe.error("Please enter a valid Kenyan phone number (e.g., 0712345678 or 254712345678)");return}let z=F;z.startsWith("0")?z="254"+z.substring(1):z.startsWith("7")&&(z="254"+z),w.mutate({orderId:M,phone:z})};return b?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):f.length===0?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Add items to your cart before checking out."}),e.jsx(X,{to:"/browse",className:"text-orange-600 hover:underline",children:" Continue Shopping"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Checkout"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:`flex items-center gap-2 ${r>=1?"text-orange-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${r>=1?"bg-orange-600 text-white":"bg-gray-200"}`,children:"1"}),e.jsx("span",{className:"font-medium",children:"Delivery Details"})]}),e.jsx("div",{className:"flex-1 h-0.5 bg-gray-300"}),e.jsxs("div",{className:`flex items-center gap-2 ${r>=2?"text-orange-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${r>=2?"bg-orange-600 text-white":"bg-gray-200"}`,children:"2"}),e.jsx("span",{className:"font-medium",children:"Payment"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:r===1?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Delivery Information"}),e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",required:!0,value:m.shipping_name,onChange:S=>x({...m,shipping_name:S.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Delivery Address *"}),e.jsx("input",{type:"text",required:!0,value:m.shipping_address,onChange:S=>x({...m,shipping_address:S.target.value}),placeholder:"Enter your delivery address",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"City *"}),e.jsx("input",{type:"text",required:!0,value:m.shipping_city,onChange:S=>x({...m,shipping_city:S.target.value}),placeholder:"Enter your city",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number *"}),e.jsx("input",{type:"tel",required:!0,value:m.shipping_phone,onChange:S=>x({...m,shipping_phone:S.target.value}),placeholder:"0712345678",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Delivery Notes (Optional)"}),e.jsx("textarea",{value:m.customer_notes,onChange:S=>x({...m,customer_notes:S.target.value}),placeholder:"Any special instructions for delivery",rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),e.jsx("button",{type:"submit",disabled:O.isPending,className:"w-full bg-orange-500 text-white py-3 rounded-lg font-bold hover:bg-orange-600 transition disabled:opacity-50",children:O.isPending?"Processing...":"Continue to Payment"})]})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Payment via M-Pesa"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Enter your M-Pesa phone number to complete the payment. You will receive a prompt on your phone."}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"M-Pesa Phone Number *"}),e.jsx("input",{type:"tel",required:!0,value:c,onChange:S=>u(S.target.value),placeholder:"0712345678 or 254712345678",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: 0712345678 or 254712345678"})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsxs("div",{className:"text-sm text-green-800",children:[e.jsx("p",{className:"font-semibold mb-1",children:"How M-Pesa Payment Works:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"Enter your M-Pesa phone number"}),e.jsx("li",{children:'Click "Pay Now"'}),e.jsx("li",{children:"Check your phone for the M-Pesa prompt"}),e.jsx("li",{children:"Enter your M-Pesa PIN to complete payment"})]})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>i(1),className:"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-bold hover:bg-gray-300 transition",children:" Back"}),e.jsx("button",{type:"submit",disabled:w.isPending,className:"flex-1 bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 transition disabled:opacity-50",children:w.isPending?"Processing...":" Pay Now"})]})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Summary"}),e.jsx("div",{className:"space-y-3 mb-4 max-h-64 overflow-y-auto",children:f.map(S=>e.jsxs("div",{className:"flex gap-3 pb-3 border-b border-gray-200",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded overflow-hidden flex-shrink-0",children:S.product_image?e.jsx("img",{src:S.product_image,alt:S.product_name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:""})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-sm text-gray-900 truncate",children:S.product_name}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Qty: ",S.quantity]}),e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:L(S.subtotal)})]})]},S.id))}),e.jsxs("div",{className:"space-y-2 border-t border-gray-200 pt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsx("span",{className:"font-medium",children:L(g)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Shipping"}),e.jsx("span",{className:"font-medium",children:L(y)})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gray-200 pt-2 mt-2",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{className:"text-orange-600",children:L(N)})]})]})]})})]})]})})}function z1(){const{user:l}=Ai(),[r,i]=C.useState("overview"),{data:c,isLoading:u}=ie({queryKey:["user","me"],queryFn:En.getMe}),{data:m=[],isLoading:x}=ie({queryKey:["orders"],queryFn:()=>bi.getAll().then(g=>g.data?.results||g.data||[]),enabled:r==="orders"}),{data:h=[],isLoading:b}=ie({queryKey:["bids"],queryFn:()=>uN.getMyBids().then(g=>g.data?.results||g.data||[]),enabled:r==="bids"}),f=c?.data;return u?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Rn,{}),e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Rn,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white text-3xl font-bold",children:f?.first_name?.[0]||f?.username?.[0]||"U"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:f?.first_name&&f?.last_name?`${f.first_name} ${f.last_name}`:f?.username}),e.jsxs("p",{className:"text-gray-600",children:["@",f?.username]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${f?.user_type==="admin"?"bg-purple-100 text-purple-700":f?.user_type==="seller"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:f?.user_type?.toUpperCase()}),f?.is_verified&&e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-700",children:" Verified"})]})]})]}),e.jsx(X,{to:"/profile/edit",className:"px-6 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition",children:"Edit Profile"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Auctions Won"}),e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:f?.auctions_won||0})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Participated"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:f?.auctions_participated||0})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Spent"}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:L(f?.total_spent||0)})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"border-b",children:e.jsxs("div",{className:"flex",children:[e.jsx("button",{onClick:()=>i("overview"),className:`px-6 py-4 font-semibold border-b-2 transition ${r==="overview"?"border-orange-600 text-orange-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Overview"}),e.jsx("button",{onClick:()=>i("orders"),className:`px-6 py-4 font-semibold border-b-2 transition ${r==="orders"?"border-orange-600 text-orange-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Purchase History"}),e.jsx("button",{onClick:()=>i("bids"),className:`px-6 py-4 font-semibold border-b-2 transition ${r==="bids"?"border-orange-600 text-orange-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Bidding History"})]})}),e.jsxs("div",{className:"p-6",children:[r==="overview"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Username"}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:f?.username})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Email"}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:f?.email})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"First Name"}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:f?.first_name||"Not provided"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Last Name"}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:f?.last_name||"Not provided"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Phone Number"}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:f?.phone_number||"Not provided"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Gender"}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:f?.gender?f.gender.charAt(0).toUpperCase()+f.gender.slice(1):"Not provided"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Age"}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:f?.date_of_birth?(()=>{const g=new Date,y=new Date(f.date_of_birth);let N=g.getFullYear()-y.getFullYear();const O=g.getMonth()-y.getMonth();return(O<0||O===0&&g.getDate()<y.getDate())&&N--,`${N} years`})():"Not provided"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Member Since"}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:f?.date_joined?new Date(f.date_joined).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown"})]})]})]}),r==="orders"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Purchase History"}),x?e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-orange-600 mx-auto"})}):m.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No Orders Yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You haven't made any purchases yet."}),e.jsx(X,{to:"/browse",className:"inline-block bg-orange-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-orange-700",children:"Start Shopping"})]}):e.jsx("div",{className:"space-y-4",children:m.filter(g=>g.payment_status!=="pending").map(g=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold text-gray-900",children:["Order #",g.order_number]}),e.jsx("div",{className:"text-sm text-gray-600",children:new Date(g.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:L(g.total_amount)}),e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${g.status==="delivered"?"bg-green-100 text-green-700":g.status==="shipped"?"bg-blue-100 text-blue-700":g.status==="processing"?"bg-yellow-100 text-yellow-700":g.status==="paid"?"bg-purple-100 text-purple-700":g.status==="cancelled"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:g.status.toUpperCase()})]})]}),g.items&&e.jsx("div",{className:"space-y-2 pt-3 border-t",children:g.items.map(y=>e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded flex-shrink-0",children:y.product?.main_image&&e.jsx("img",{src:y.product.main_image,alt:"",className:"w-full h-full object-cover rounded"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:y.product?.title||"Product"}),e.jsxs("div",{className:"text-gray-600",children:["Qty: ",y.quantity,"  ",L(y.product_price)]})]})]},y.id))})]},g.id))})]}),r==="bids"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Bidding History"}),b?e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-orange-600 mx-auto"})}):h.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No Bids Yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You haven't participated in any auctions yet."}),e.jsx(X,{to:"/browse",className:"inline-block bg-orange-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-orange-700",children:"Browse Auctions"})]}):e.jsx("div",{className:"space-y-4",children:h.map(g=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(X,{to:`/auction/${g.auction?.id}`,className:"font-bold text-gray-900 hover:text-orange-600",children:g.auction?.title||"Auction"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Bid placed: ",new Date(g.submitted_at).toLocaleString()]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Round ",g.round?.round_number||1]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:L(g.pledge_amount)}),g.is_winner&&e.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-700 mt-2",children:" WINNER"}),g.is_valid?e.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-700 mt-2",children:" Valid"}):e.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-700 mt-2",children:" Invalid"})]})]})},g.id))})]})]})]})]})]})}function B1(){return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-9xl font-bold text-orange-500",children:"404"}),e.jsx("div",{className:"mt-4",children:e.jsx("svg",{className:"mx-auto h-32 w-32 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Oops! Page Not Found"}),e.jsx("p",{className:"text-gray-600 text-lg mb-8 max-w-md mx-auto",children:"The page you're looking for doesn't exist or has been moved. Let's get you back on track!"}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(X,{to:"/",className:"inline-block bg-orange-500 text-white px-8 py-3 rounded-lg font-semibold hover:bg-orange-600 transition",children:" Back to Home"}),e.jsx(X,{to:"/browse",className:"inline-block bg-white text-orange-600 border-2 border-orange-500 px-8 py-3 rounded-lg font-semibold hover:bg-orange-50 transition",children:"Browse Products"})]}),e.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200 max-w-md mx-auto",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Quick Links:"}),e.jsxs("div",{className:"flex flex-wrap gap-4 justify-center text-sm",children:[e.jsx(X,{to:"/",className:"text-orange-600 hover:underline",children:"Home"}),e.jsx(X,{to:"/browse",className:"text-orange-600 hover:underline",children:"Browse"}),e.jsx(X,{to:"/cart",className:"text-orange-600 hover:underline",children:"Cart"})]})]})]})})}function me({children:l}){const r=Wt(),i=c=>r.pathname===c||r.pathname.startsWith(c+"/");return e.jsxs("div",{className:"min-h-screen bg-rose-100",children:[e.jsx(Rn,{}),e.jsx("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 text-white py-3",children:e.jsxs("div",{className:"w-full px-6 text-center",children:[e.jsx("span",{className:"text-lg font-semibold",children:" Management Portal"}),e.jsx("span",{className:"text-gray-400 ml-4",children:"Admin Dashboard"})]})}),e.jsx("div",{className:"w-full px-6 py-6",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx("aside",{className:"w-64 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sticky top-6",children:[e.jsxs("nav",{className:"space-y-2",children:[e.jsx(X,{to:"/management",className:`block px-4 py-3 rounded-lg transition ${r.pathname==="/management"?"bg-red-600 text-white font-semibold":"text-gray-700 hover:bg-gray-100"}`,children:" Dashboard"}),e.jsx(X,{to:"/management/products/new",className:`block px-4 py-3 rounded-lg transition ${r.pathname==="/management/products/new"?"bg-red-600 text-white font-semibold":"text-gray-700 hover:bg-gray-100"}`,children:" Create Product"}),e.jsx(X,{to:"/management/products",className:`block px-4 py-3 rounded-lg transition ${i("/management/products")&&r.pathname!=="/management/products/new"?"bg-red-600 text-white font-semibold":"text-gray-700 hover:bg-gray-100"}`,children:" All Products"}),e.jsx(X,{to:"/management/categories",className:`block px-4 py-3 rounded-lg transition ${i("/management/categories")?"bg-red-600 text-white font-semibold":"text-gray-700 hover:bg-gray-100"}`,children:" Categories"}),e.jsx(X,{to:"/management/orders",className:`block px-4 py-3 rounded-lg transition ${i("/management/orders")?"bg-red-600 text-white font-semibold":"text-gray-700 hover:bg-gray-100"}`,children:" Order Management"}),e.jsx(X,{to:"/management/users",className:`block px-4 py-3 rounded-lg transition ${i("/management/users")?"bg-red-600 text-white font-semibold":"text-gray-700 hover:bg-gray-100"}`,children:" Users"}),e.jsx(X,{to:"/management/promobar",className:`block px-4 py-3 rounded-lg transition ${i("/management/promobar")?"bg-red-600 text-white font-semibold":"text-gray-700 hover:bg-gray-100"}`,children:" Promo Bar"}),e.jsx(X,{to:"/management/analytics/financial",className:`block px-4 py-3 rounded-lg transition ${i("/management/analytics/financial")?"bg-red-600 text-white font-semibold":"text-gray-700 hover:bg-gray-100"}`,children:" Financial Analytics"})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsx(X,{to:"/",className:"block px-4 py-2 text-sm text-gray-600 hover:text-red-600 transition",children:" Back to Site"})})]})}),e.jsx("main",{className:"flex-1 min-w-0",children:l})]})})]})}function U1(){const{data:l=[],isLoading:r}=ie({queryKey:["admin-products"],queryFn:()=>ct.getAll().then(m=>m.data?.results||m.data||[])}),{data:i=[]}=ie({queryKey:["categories"],queryFn:()=>xs.getAll().then(m=>m.data?.results||m.data||[])}),c={total:l.length,active:l.filter(m=>m.status==="active").length,draft:l.filter(m=>m.status==="draft").length,closed:l.filter(m=>m.status==="closed").length,buyNow:l.filter(m=>m.product_type==="buy_now").length,auction:l.filter(m=>m.product_type==="auction").length,both:l.filter(m=>m.product_type==="both").length,categories:i.length},u=l.slice(0,5);return r?e.jsx(me,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):e.jsx(me,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Management Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening with your platform."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-blue-600",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Total Products"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:c.total})]}),e.jsx("div",{className:"text-4xl",children:""})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-green-600",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Active"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:c.active})]}),e.jsx("div",{className:"text-4xl",children:""})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-yellow-600",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Draft"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-600 mt-2",children:c.draft})]}),e.jsx("div",{className:"text-4xl",children:""})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-purple-600",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Categories"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:c.categories})]}),e.jsx("div",{className:"text-4xl",children:""})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Buy Now"}),e.jsx("span",{className:"text-2xl",children:""})]}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:c.buyNow}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Fixed price products"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Auction Only"}),e.jsx("span",{className:"text-2xl",children:""})]}),e.jsx("p",{className:"text-3xl font-bold text-red-600",children:c.auction}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Bidding products"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Both Options"}),e.jsx("span",{className:"text-2xl",children:""})]}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:c.both}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Hybrid products"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(X,{to:"/management/products/new",className:"flex items-center gap-3 p-4 bg-red-50 hover:bg-red-100 rounded-lg transition border border-red-200",children:[e.jsx("span",{className:"text-3xl",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Create Product"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Add new auction or buy now item"})]})]}),e.jsxs(X,{to:"/management/products",className:"flex items-center gap-3 p-4 bg-blue-50 hover:bg-blue-100 rounded-lg transition border border-blue-200",children:[e.jsx("span",{className:"text-3xl",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Manage Products"}),e.jsx("p",{className:"text-sm text-gray-600",children:"View and edit all products"})]})]}),e.jsxs(X,{to:"/management/categories",className:"flex items-center gap-3 p-4 bg-purple-50 hover:bg-purple-100 rounded-lg transition border border-purple-200",children:[e.jsx("span",{className:"text-3xl",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Manage Categories"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Organize product categories"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Products"}),e.jsx(X,{to:"/management/products",className:"text-red-600 hover:text-red-700 font-semibold text-sm",children:"View All "})]}),u.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"No products yet"}),e.jsx(X,{to:"/management/products/new",className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 inline-block",children:"Create First Product"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Product"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Type"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Price"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:u.map(m=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded overflow-hidden flex-shrink-0",children:m.main_image&&e.jsx("img",{src:m.main_image,alt:m.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:m.title}),e.jsx("p",{className:"text-sm text-gray-500",children:m.category_name})]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${m.product_type==="auction"?"bg-red-100 text-red-700":m.product_type==="buy_now"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:m.product_type==="buy_now"?"Buy Now":m.product_type==="auction"?"Auction":"Both"})}),e.jsx("td",{className:"py-3 px-4 font-semibold text-gray-900",children:L(m.base_price)}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${m.status==="active"?"bg-green-100 text-green-700":m.status==="draft"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:m.status})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(X,{to:`/management/products/${m.id}/edit`,className:"text-blue-600 hover:text-blue-700 font-medium text-sm",children:"Edit"})})]},m.id))})]})})]})]})})}function L1(){const l=It(),r=Tt(),{data:i=[]}=ie({queryKey:["categories"],queryFn:()=>xs.getAll().then(w=>w.data?.results||w.data||[])}),[c,u]=C.useState({title:"",description:"",category:"",product_type:"buy_now",base_price:"",buy_now_price:"",market_price:"",participation_fee:"",stock_quantity:"",main_image:null,is_featured:!1,is_flash_sale:!1,discount_percentage:"",flash_sale_ends_at:"",display_order:0}),[m,x]=C.useState(null),[h,b]=C.useState({}),f=Ge({mutationFn:w=>ct.create(w),onSuccess:()=>{r.invalidateQueries(["admin-products"]),alert(" Product created successfully!"),l("/management/products")},onError:w=>{console.log("=== FULL ERROR ==="),console.log("Error object:",w),console.log("Response:",w.response),console.log("Response data:",w.response?.data),console.log("Response status:",w.response?.status),console.log("===================");const _=w.response?.data||{};b(_);const v=Object.entries(_).map(([S,M])=>`${S}: ${Array.isArray(M)?M.join(", "):M}`).join(`
`);alert(` Error creating product:

`+(v||"Unknown error"))}}),g=w=>{const{name:_,value:v,type:S,checked:M}=w.target;u(F=>({...F,[_]:S==="checkbox"?M:v})),h[_]&&b(F=>({...F,[_]:null}))},y=w=>{const _=w.target.files[0];if(_){if(!_.type.startsWith("image/")){alert("Please select an image file");return}if(_.size>5*1024*1024){alert("Image must be less than 5MB");return}u(S=>({...S,main_image:_}));const v=new FileReader;v.onloadend=()=>{x(v.result)},v.readAsDataURL(_)}},N=w=>{w.preventDefault();const _={title:c.title,description:c.description,category:c.category,product_type:c.product_type,stock_quantity:parseInt(c.stock_quantity)||0,main_image:c.main_image,is_featured:c.is_featured,is_flash_sale:c.is_flash_sale,display_order:parseInt(c.display_order)||0};c.market_price&&(_.market_price=parseFloat(c.market_price)),c.product_type==="buy_now"&&(_.buy_now_price=parseFloat(c.buy_now_price)||0,_.base_price=parseFloat(c.buy_now_price)||0),c.product_type==="auction"&&(_.base_price=parseFloat(c.base_price)||0,_.participation_fee=parseFloat(c.participation_fee)||0),c.product_type==="both"&&(_.base_price=parseFloat(c.base_price)||0,_.buy_now_price=parseFloat(c.buy_now_price)||0,_.participation_fee=parseFloat(c.participation_fee)||0),c.is_flash_sale&&(_.discount_percentage=parseFloat(c.discount_percentage)||0,_.flash_sale_ends_at=c.flash_sale_ends_at),f.mutate(_)},O=c.product_type==="auction"||c.product_type==="both";return c.product_type==="buy_now"||c.product_type,e.jsx(me,{children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create New Product"}),e.jsx("p",{className:"text-gray-600",children:"Add a new product or auction to your marketplace"}),O&&e.jsx("div",{className:"mt-3 bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[" ",e.jsx("strong",{children:"Auction Control:"})," You'll manually activate and close this auction. No timing needed!"]})})]}),e.jsxs("form",{onSubmit:N,className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Product Type *"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("label",{className:`relative flex flex-col items-center justify-center p-4 border-2 rounded-lg cursor-pointer transition ${c.product_type==="buy_now"?"border-blue-600 bg-blue-50":"border-gray-300 hover:border-blue-400"}`,children:[e.jsx("input",{type:"radio",name:"product_type",value:"buy_now",checked:c.product_type==="buy_now",onChange:g,className:"sr-only"}),e.jsx("span",{className:"text-3xl mb-2",children:""}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Buy Now"}),e.jsx("span",{className:"text-xs text-gray-600 mt-1",children:"Fixed price purchase"})]}),e.jsxs("label",{className:`relative flex flex-col items-center justify-center p-4 border-2 rounded-lg cursor-pointer transition ${c.product_type==="auction"?"border-red-600 bg-red-50":"border-gray-300 hover:border-red-400"}`,children:[e.jsx("input",{type:"radio",name:"product_type",value:"auction",checked:c.product_type==="auction",onChange:g,className:"sr-only"}),e.jsx("span",{className:"text-3xl mb-2",children:""}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Auction"}),e.jsx("span",{className:"text-xs text-gray-600 mt-1",children:"Manual control"})]}),e.jsxs("label",{className:`relative flex flex-col items-center justify-center p-4 border-2 rounded-lg cursor-pointer transition ${c.product_type==="both"?"border-purple-600 bg-purple-50":"border-gray-300 hover:border-purple-400"}`,children:[e.jsx("input",{type:"radio",name:"product_type",value:"both",checked:c.product_type==="both",onChange:g,className:"sr-only"}),e.jsx("span",{className:"text-3xl mb-2",children:""}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Both"}),e.jsx("span",{className:"text-xs text-gray-600 mt-1",children:"Buy or bid"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Product Title *"}),e.jsx("input",{type:"text",name:"title",value:c.title,onChange:g,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.title?"border-red-500":"border-gray-300"}`,placeholder:"e.g., iPhone 15 Pro Max 256GB",required:!0}),h.title&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:h.title[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{name:"description",value:c.description,onChange:g,rows:"4",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.description?"border-red-500":"border-gray-300"}`,placeholder:"Describe your product...",required:!0}),h.description&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:h.description[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category *"}),e.jsxs("select",{name:"category",value:c.category,onChange:g,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.category?"border-red-500":"border-gray-300"}`,required:!0,children:[e.jsx("option",{value:"",children:"Select a category"}),i.map(w=>e.jsx("option",{value:w.id,children:w.name},w.id))]}),h.category&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:h.category[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Product Image"}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:m?e.jsxs("div",{className:"relative w-32 h-32 border-2 border-gray-300 rounded-lg overflow-hidden",children:[e.jsx("img",{src:m,alt:"Preview",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>{u(w=>({...w,main_image:null})),x(null)},className:"absolute top-1 right-1 bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-700",children:""})]}):e.jsx("div",{className:"w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50",children:e.jsx("span",{className:"text-gray-400 text-4xl",children:""})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Upload JPG, PNG, or GIF (Max 5MB)"})]})]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b",children:"Pricing"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2 bg-yellow-50 border-2 border-yellow-400 rounded-lg p-4",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:[" Market/Retail Price (KES) - ",e.jsx("span",{className:"text-yellow-700",children:"Shown Crossed Out Like Jumia"})]}),e.jsx("input",{type:"number",name:"market_price",value:c.market_price,onChange:g,className:`w-full px-4 py-2 border-2 border-yellow-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 ${h.market_price?"border-red-500":""}`,placeholder:"e.g., 100000 (will show as KSh 100,000 )",min:"0",step:"0.01"}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:" Optional: Original retail price shown with strikethrough. Leave empty if not needed."}),h.market_price&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:h.market_price[0]})]}),c.product_type==="buy_now"&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Product Price (KES) *"}),e.jsx("input",{type:"number",name:"buy_now_price",value:c.buy_now_price,onChange:g,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${h.buy_now_price?"border-red-500":"border-gray-300"}`,placeholder:"75000",min:"0",step:"0.01",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The selling price for this product"}),h.buy_now_price&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:h.buy_now_price[0]})]}),c.product_type==="auction"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Starting Bid (KES) *"}),e.jsx("input",{type:"number",name:"base_price",value:c.base_price,onChange:g,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.base_price?"border-red-500":"border-gray-300"}`,placeholder:"50000",min:"0",step:"0.01",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum starting bid amount"}),h.base_price&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:h.base_price[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Participation Fee (KES) *"}),e.jsx("input",{type:"number",name:"participation_fee",value:c.participation_fee,onChange:g,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.participation_fee?"border-red-500":"border-gray-300"}`,placeholder:"500",min:"0",step:"0.01",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Fee to join the auction"}),h.participation_fee&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:h.participation_fee[0]})]})]}),c.product_type==="both"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Starting Bid (KES) *"}),e.jsx("input",{type:"number",name:"base_price",value:c.base_price,onChange:g,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ${h.base_price?"border-red-500":"border-gray-300"}`,placeholder:"50000",min:"0",step:"0.01",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For auction bidding"}),h.base_price&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:h.base_price[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Buy Now Price (KES) *"}),e.jsx("input",{type:"number",name:"buy_now_price",value:c.buy_now_price,onChange:g,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ${h.buy_now_price?"border-red-500":"border-gray-300"}`,placeholder:"75000",min:"0",step:"0.01",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For instant purchase"}),h.buy_now_price&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:h.buy_now_price[0]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Participation Fee (KES) *"}),e.jsx("input",{type:"number",name:"participation_fee",value:c.participation_fee,onChange:g,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ${h.participation_fee?"border-red-500":"border-gray-300"}`,placeholder:"500",min:"0",step:"0.01",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Fee to join the auction (not required for buy now)"}),h.participation_fee&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:h.participation_fee[0]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Stock Quantity *"}),e.jsx("input",{type:"number",name:"stock_quantity",value:c.stock_quantity,onChange:g,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${h.stock_quantity?"border-red-500":"border-gray-300"}`,placeholder:"10",min:"0",required:!0}),h.stock_quantity&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:h.stock_quantity[0]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b",children:"Special Features"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",name:"is_featured",checked:c.is_featured,onChange:g,className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"Featured Product"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Display in hero carousel on homepage"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",name:"is_flash_sale",checked:c.is_flash_sale,onChange:g,className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"Flash Sale"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Add discount badge and urgency"})]})]}),c.is_flash_sale&&e.jsxs("div",{className:"ml-8 grid grid-cols-2 gap-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Discount Percentage"}),e.jsx("input",{type:"number",name:"discount_percentage",value:c.discount_percentage,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"20",min:"0",max:"100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Flash Sale Ends At"}),e.jsx("input",{type:"datetime-local",name:"flash_sale_ends_at",value:c.flash_sale_ends_at,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Display Order"}),e.jsx("input",{type:"number",name:"display_order",value:c.display_order,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"0",min:"0"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first (0 = default)"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-6 border-t",children:[e.jsx("button",{type:"submit",disabled:f.isPending,className:"bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 transition disabled:bg-gray-400 disabled:cursor-not-allowed",children:f.isPending?"Creating...":" Create Product"}),e.jsx("button",{type:"button",onClick:()=>l("/management"),className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition",children:"Cancel"})]})]})]})})}const qf={deleteProduct:l=>ee.delete(`/auctions/${l}/delete/`),bulkDelete:l=>ee.post("/auctions/bulk-delete/",{product_ids:l})};function q1(){const l=Tt(),[r,i]=C.useState([]),[c,u]=C.useState(!1),[m,x]=C.useState(null),{data:h=[],isLoading:b}=ie({queryKey:["admin-products"],queryFn:()=>ct.getAll().then(D=>D.data?.results||D.data||[])}),f=Ge({mutationFn:D=>ee.post(`/auctions/${D}/activate/`),onSuccess:()=>{l.invalidateQueries(["admin-products"]),pe.success(" Product activated successfully!")},onError:D=>{const Y=D.response?.data?.error||"Failed to activate product";pe.error(` ${Y}`)}}),g=Ge({mutationFn:D=>qf.deleteProduct(D),onSuccess:D=>{l.invalidateQueries(["admin-products"]),pe.success(D.data.message),D.data.warnings?.length>0&&pe.error(" "+D.data.warnings.join(", "),{duration:5e3}),u(!1),x(null)},onError:D=>{const Y=D.response?.data?.error||"Failed to delete product";pe.error(Y)}}),y=Ge({mutationFn:D=>qf.bulkDelete(D),onSuccess:D=>{l.invalidateQueries(["admin-products"]),pe.success(D.data.message),D.data.warnings?.length>0&&pe.error(" "+D.data.warnings.join(", "),{duration:5e3}),i([]),u(!1),x(null)},onError:D=>{const Y=D.response?.data?.error||"Failed to delete products";pe.error(Y)}}),N=(D,Y)=>{D.preventDefault(),D.stopPropagation(),confirm("Are you sure you want to activate this product?")&&f.mutate(Y)},O=D=>{i(Y=>Y.includes(D)?Y.filter(J=>J!==D):[...Y,D])},w=()=>{r.length===h.length?i([]):i(h.map(D=>D.id))},_=(D,Y)=>{x({type:D,data:Y}),u(!0)},v=()=>{m&&(m.type==="single"?g.mutate(m.data):m.type==="bulk"&&y.mutate(m.data))},M=(()=>{if(!m)return null;if(m.type==="single"){const D=h.find(Y=>Y.id===m.data);return{count:1,products:D?[D]:[]}}else{const D=h.filter(Y=>m.data.includes(Y.id));return{count:D.length,products:D}}})(),F=h.filter(D=>D.status==="active"),z=h.filter(D=>D.status==="draft"),R=h.filter(D=>D.status==="closed");return b?e.jsx(me,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading products..."})]})}):e.jsx(me,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"All Products"}),e.jsx("p",{className:"text-gray-600",children:"Manage your products and auctions"})]}),e.jsxs("div",{className:"flex gap-3",children:[r.length>0&&e.jsxs("button",{onClick:()=>_("bulk",r),className:"bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 transition flex items-center gap-2",children:[" Delete Selected (",r.length,")"]}),e.jsx(X,{to:"/management/products/new",className:"bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-orange-700 transition",children:" Create Product"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-blue-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:h.length})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-green-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:F.length})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-yellow-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Draft"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:z.length})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-gray-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Closed"}),e.jsx("p",{className:"text-2xl font-bold text-gray-600 mt-1",children:R.length})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:h.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Products Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first product to get started"}),e.jsx(X,{to:"/management/products/new",className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 inline-block font-semibold",children:" Create First Product"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4",children:e.jsx("input",{type:"checkbox",checked:r.length===h.length&&h.length>0,onChange:w,className:"w-4 h-4 text-red-600 rounded focus:ring-red-500"})}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Product"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Type"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Price"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Stock"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Created"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:h.map(D=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsx("input",{type:"checkbox",checked:r.includes(D.id),onChange:()=>O(D.id),className:"w-4 h-4 text-red-600 rounded focus:ring-red-500",onClick:Y=>Y.stopPropagation()})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs(X,{to:`/management/products/${D.id}`,className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded overflow-hidden flex-shrink-0",children:D.main_image?e.jsx("img",{src:D.main_image.startsWith("http")?D.main_image:`${D.main_image}`,alt:D.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:""})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 hover:text-red-600",children:D.title}),e.jsx("p",{className:"text-sm text-gray-500",children:D.category_name})]})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${D.product_type==="auction"?"bg-red-100 text-red-700":D.product_type==="buy_now"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:D.product_type==="buy_now"?"Buy Now":D.product_type==="auction"?"Auction":"Both"})}),e.jsxs("td",{className:"py-4 px-4",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:L(D.base_price)}),D.buy_now_price&&D.product_type!=="auction"&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Buy: ",L(D.buy_now_price)]})]}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("p",{className:"text-gray-900",children:D.stock_quantity})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${D.status==="active"?"bg-green-100 text-green-700":D.status==="draft"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:D.status})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("p",{className:"text-sm text-gray-600",children:new Date(D.created_at).toLocaleDateString()})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(X,{to:`/management/products/${D.id}`,className:"text-blue-600 hover:text-blue-700 font-medium text-sm",children:"View"}),D.status==="draft"&&e.jsx("button",{onClick:Y=>N(Y,D.id),disabled:f.isPending,className:"text-green-600 hover:text-green-700 font-medium text-sm disabled:text-gray-400",children:"Activate"}),e.jsx("button",{onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),_("single",D.id)},className:"text-red-600 hover:text-red-700 font-medium text-sm",children:" Delete"})]})})]},D.id))})]})})}),c&&M&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-2xl font-bold text-red-600 flex items-center gap-2",children:" Confirm Deletion"})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("p",{className:"text-gray-900 mb-4",children:["You are about to ",e.jsxs("strong",{className:"text-red-600",children:["permanently delete ",M.count," product",M.count>1?"s":""]}),". This action cannot be undone."]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Products to be deleted:"}),e.jsx("ul",{className:"space-y-2",children:M.products.map(D=>e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded overflow-hidden flex-shrink-0",children:D.main_image&&e.jsx("img",{src:D.main_image.startsWith("http")?D.main_image:`${D.main_image}`,alt:D.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:D.title}),e.jsxs("p",{className:"text-xs text-gray-600",children:[D.product_type==="buy_now"?" Buy Now":D.product_type==="auction"?" Auction":" Both","  ",e.jsx("span",{className:"capitalize",children:D.status})]})]})]},D.id))})]}),M.products.some(D=>D.product_type==="auction"||D.product_type==="both")&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-yellow-800 font-semibold mb-1",children:" Warning:"}),e.jsxs("ul",{className:"text-sm text-yellow-700 list-disc list-inside space-y-1",children:[e.jsx("li",{children:"All bids associated with auction products will be deleted"}),e.jsx("li",{children:"Participants will lose access to these auctions"}),e.jsx("li",{children:"This action is permanent and cannot be undone"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-blue-800 font-semibold mb-1",children:" Note:"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Existing order records will be preserved for bookkeeping, but will no longer reference this product."})]}),e.jsx("p",{className:"text-gray-900 font-semibold mb-2",children:"Are you absolutely sure you want to continue?"})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3 justify-end",children:[e.jsx("button",{onClick:()=>{u(!1),x(null)},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",disabled:g.isPending||y.isPending,children:"Cancel"}),e.jsx("button",{onClick:v,disabled:g.isPending||y.isPending,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-semibold disabled:bg-gray-400 flex items-center gap-2",children:g.isPending||y.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Deleting..."]}):e.jsx(e.Fragment,{children:" Yes, Delete Permanently"})})]})]})})]})})}function H1({isOpen:l,onClose:r,auction:i,onActivate:c}){const[u,m]=C.useState(i?.base_price||""),[x,h]=C.useState(i?.base_price*10||""),[b,f]=C.useState(!1);if(!l||!i)return null;const g=async y=>{y.preventDefault();const N=parseFloat(u),O=parseFloat(x);if(isNaN(N)||isNaN(O)){alert("Please enter valid numbers");return}if(N<=0||O<=0){alert("Amounts must be greater than 0");return}if(N>=O){alert("Maximum must be greater than minimum");return}if(N<i.base_price){alert(`Minimum pledge cannot be less than base price (${L(i.base_price)})`);return}f(!0);try{await c({min_pledge:N,max_pledge:O})}catch(w){console.error("Activation error:",w),alert("Failed to activate auction")}finally{f(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:" Set Pledge Range for Round 1"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Set the minimum and maximum pledge amounts that buyers can bid within."}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-sm text-blue-600 mb-1",children:"Base Price (Starting Bid)"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:L(i.base_price)})]}),e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Minimum Pledge (KES)"}),e.jsx("input",{type:"number",value:u,onChange:y=>m(y.target.value),placeholder:`At least ${i.base_price}`,min:i.base_price,step:"100",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-xl font-bold",required:!0,disabled:b}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Must be at least ",L(i.base_price)]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Maximum Pledge (KES)"}),e.jsx("input",{type:"number",value:x,onChange:y=>h(y.target.value),placeholder:"Maximum amount",min:u||i.base_price,step:"100",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-xl font-bold",required:!0,disabled:b}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be greater than minimum"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-sm font-semibold text-green-900 mb-2 text-center",children:" Buyers Can Bid Between"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("p",{className:"text-xs text-green-700",children:"Min"}),e.jsx("p",{className:"text-xl font-bold text-green-900",children:u?L(u):"---"})]}),e.jsx("div",{className:"text-2xl text-green-600 font-bold px-2",children:""}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("p",{className:"text-xs text-green-700",children:"Max"}),e.jsx("p",{className:"text-xl font-bold text-green-900",children:x?L(x):"---"})]})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-xs text-yellow-800",children:" Once activated, buyers will only be able to place bids within this range. You can create Round 2 later with a different range."})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",disabled:b,className:"flex-1 bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 transition disabled:bg-gray-400 disabled:cursor-not-allowed",children:b?" Activating...":" Activate Auction"}),e.jsx("button",{type:"button",onClick:r,disabled:b,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition disabled:opacity-50",children:"Cancel"})]})]})]})]})})}function P1(){const{roundId:l}=pt(),{data:r,isLoading:i,error:c}=ie({queryKey:["round-detail",l],queryFn:async()=>(await ee.get(`/rounds/${l}/`)).data});if(i)return e.jsx(me,{children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin text-4xl mb-4",children:""}),e.jsx("p",{children:"Loading round details..."})]})})});if(c)return e.jsx(me,{children:e.jsxs("div",{className:"text-center py-12 text-red-600",children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Error loading round"}),e.jsx("p",{children:c.message})]})});const u=r?.participants||[],m=u.reduce((f,g)=>f+(g.pledge_amount||0),0),x=u.length?Math.max(...u.map(f=>f.pledge_amount||0)):0,h=u.length?m/u.length:0,b=[...u].sort((f,g)=>(g.pledge_amount||0)-(f.pledge_amount||0));return e.jsx(me,{children:e.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[e.jsxs("h1",{className:"text-2xl font-bold mb-6",children:["Round Details - Round ",r?.round_number??l]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Round ID:"})," ",r?.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Registration Fee:"})," ",L(r?.registration_fee??0)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Start Time:"})," ",r?.start_time?new Date(r.start_time).toLocaleString():"-"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"End Time:"})," ",r?.end_time?new Date(r.end_time).toLocaleString():"-"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total Participants:"})," ",u.length]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Total Pledge:"})," ",L(m)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Highest Pledge:"})," ",L(x)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Average Pledge:"})," ",L(h)]})]}),e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Participants"}),u.length>0?e.jsxs("table",{className:"w-full text-left border border-gray-200 rounded",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"px-4 py-2 border",children:"#"}),e.jsx("th",{className:"px-4 py-2 border",children:"Username"}),e.jsx("th",{className:"px-4 py-2 border",children:"Full Name"}),e.jsx("th",{className:"px-4 py-2 border",children:"Phone"}),e.jsx("th",{className:"px-4 py-2 border",children:"Age"}),e.jsx("th",{className:"px-4 py-2 border",children:"Pledge Amount"}),e.jsx("th",{className:"px-4 py-2 border",children:"Rank"})]})}),e.jsx("tbody",{children:b.map((f,g)=>{const y=f.user||{};return e.jsxs("tr",{className:g%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 border text-center",children:g+1}),e.jsx("td",{className:"px-4 py-2 border",children:y.username||f.username||"Unknown"}),e.jsx("td",{className:"px-4 py-2 border",children:y.full_name||f.full_name||"Unknown"}),e.jsx("td",{className:"px-4 py-2 border",children:y.phone||y.phone_number||f.phone_number||"-"}),e.jsx("td",{className:"px-4 py-2 border",children:y.age??f.age??"-"}),e.jsx("td",{className:"px-4 py-2 border",children:L(f.pledge_amount||0)}),e.jsx("td",{className:"px-4 py-2 border",children:g+1})]},f.id)})})]}):e.jsx("p",{className:"text-gray-600",children:"No participants yet for this round."}),e.jsx("div",{className:"mt-6",children:e.jsx(X,{to:"/management/products",className:"text-blue-600 hover:underline",children:" Back to Products"})})]})})}function F1({productId:l}){const{data:r,isLoading:i}=ie({queryKey:["sales-stats",l],queryFn:()=>ct.getSalesStats(l).then(c=>c.data)});return i?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading stats..."})]}):r?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Sales Performance"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border-l-4 border-blue-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Total Orders"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:r.total_orders})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-6 border-l-4 border-purple-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Units Sold"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:r.total_units_sold})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-6 border-l-4 border-green-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Total Revenue"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:L(r.total_revenue)})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-6 border-l-4 border-orange-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Avg Order Value"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:L(r.average_order_value)})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Orders by Status"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(r.orders_by_status||{}).map(([c,u])=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:c}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u})]},c))})]}),e.jsx("div",{className:"border-t mt-6 pt-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Buy Now Price"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:L(r.buy_now_price)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Stock Remaining"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:r.stock_quantity})]})]})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Sales Data"}),e.jsx("p",{className:"text-gray-600",children:"No purchases have been made yet"})]})}function $1(){const{id:l}=pt(),r=It(),i=Tt(),[c,u]=C.useState(!1),[m,x]=C.useState("overview"),{data:h,isLoading:b,refetch:f}=ie({queryKey:["product",l],queryFn:()=>ct.getById(l).then(S=>S.data)}),g=async S=>{try{await ee.post(`/api/auctions/${l}/activate/`,S,{headers:{Authorization:`Bearer ${localStorage.getItem("bidmarket_access_token")}`}}),alert(` Auction activated! Buyers can bid between ${L(S.min_pledge)} - ${L(S.max_pledge)}`),f(),u(!1)}catch(M){throw console.error("Activation error:",M),alert("Failed to activate: "+(M.response?.data?.error||M.message)),M}},y=Ge({mutationFn:async()=>{if(!v)throw new Error("No active round found");return(await ee.post(`/api/rounds/${v.id}/close/`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("bidmarket_access_token")}`}})).data},onSuccess:S=>{alert(` ${S.message}
Winner: ${S.winner.username}
Amount: ${L(S.winner.amount)}`),i.invalidateQueries(["product",l])},onError:S=>{alert("Failed to close: "+(S.response?.data?.error||S.message))}});Ge({mutationFn:async()=>(await ee.post(`/auctions/${l}/create_next_round/`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("bidmarket_access_token")}`}})).data,onSuccess:S=>{alert(` Next round created successfully!
Round ID: ${S.round_id}
Registration Fee: ${L(S.registration_fee)}`),i.invalidateQueries(["product",l])},onError:S=>{console.error("Error creating next round:",S),alert(" Failed to create next round: "+(S.response?.data?.error||S.message))}});const N=()=>{window.confirm("Are you sure you want to close this auction? This will select the highest bidder as the winner.")&&y.mutate()};if(b)return e.jsx(me,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin text-4xl mb-4",children:""}),e.jsx("p",{className:"text-gray-600",children:"Loading product..."})]})})});if(!h)return e.jsx(me,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Product not found"}),e.jsx(X,{to:"/management/products",className:"text-orange-600 hover:underline",children:"Back to Products"})]})});Oi(h.start_time,h.end_time,h.status,h.product_type);const O=G0(h.end_time);O.days>0?`${O.days}${O.hours}${O.minutes}`:`${O.hours}${O.minutes}`;const w=h.product_type==="auction"||h.product_type==="both",_=h.product_type==="buy_now"||h.product_type==="both",v=h.rounds?.find(S=>S.is_active)||h.rounds?.[h.rounds.length-1];return e.jsxs(me,{children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx(X,{to:"/management/products",className:"text-orange-600 hover:underline mb-2 inline-block",children:" Back to Products"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:h.title})]}),e.jsxs("div",{className:"flex gap-3",children:[w&&e.jsx(X,{to:`/management/products/${l}/winner`,className:"px-4 py-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-lg hover:from-yellow-600 hover:to-orange-600 font-bold shadow-lg",children:" Calculate Winner"}),e.jsx(X,{to:`/management/products/${l}/edit`,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:" Edit"}),e.jsx("button",{onClick:()=>r(`/management/products/${l}/create-next-round`),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:" Create Next Round"})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:e.jsxs("div",{className:"flex border-b border-gray-200 flex-wrap",children:[e.jsx("button",{onClick:()=>x("overview"),className:`px-6 py-3 font-semibold transition ${m==="overview"?"text-red-600 border-b-2 border-red-600":"text-gray-600 hover:text-gray-900"}`,children:" Overview"}),w&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>x("participants"),className:`px-6 py-3 font-semibold transition ${m==="participants"?"text-red-600 border-b-2 border-red-600":"text-gray-600 hover:text-gray-900"}`,children:" Participants"}),e.jsx("button",{onClick:()=>x("bids"),className:`px-6 py-3 font-semibold transition ${m==="bids"?"text-red-600 border-b-2 border-red-600":"text-gray-600 hover:text-gray-900"}`,children:" All Bids"}),e.jsx("button",{onClick:()=>x("revenue"),className:`px-6 py-3 font-semibold transition ${m==="revenue"?"text-red-600 border-b-2 border-red-600":"text-gray-600 hover:text-gray-900"}`,children:" Revenue"}),e.jsx("button",{onClick:()=>x("rounds"),className:`px-6 py-3 font-semibold transition ${m==="rounds"?"text-red-600 border-b-2 border-red-600":"text-gray-600 hover:text-gray-900"}`,children:" Rounds"})]}),_&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>x("buyers"),className:`px-6 py-3 font-semibold transition ${m==="buyers"?"text-red-600 border-b-2 border-red-600":"text-gray-600 hover:text-gray-900"}`,children:" Buyers"}),e.jsx("button",{onClick:()=>x("sales"),className:`px-6 py-3 font-semibold transition ${m==="sales"?"text-red-600 border-b-2 border-red-600":"text-gray-600 hover:text-gray-900"}`,children:" Sales Stats"})]})]})}),m==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsx("div",{className:"aspect-video bg-gradient-to-br from-orange-100 to-orange-200",children:h.main_image?e.jsx("img",{src:h.main_image,alt:h.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-8xl",children:""})})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Category"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:h.category_info?.name||"Uncategorized"})]}),e.jsx("div",{children:h.status==="active"?e.jsx("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:"LIVE"}):h.status==="draft"?e.jsx("span",{className:"bg-yellow-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:"DRAFT"}):e.jsx("span",{className:"bg-gray-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:"CLOSED"})})]}),e.jsx("div",{className:"prose max-w-none mb-4",children:e.jsx("p",{className:"text-gray-700",children:h.description})}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-blue-600 font-semibold mb-1",children:"Product Type"}),e.jsx("p",{className:"text-lg font-bold text-blue-900 capitalize",children:h.product_type.replace("_"," ")})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:" Statistics"}),e.jsxs("div",{className:"space-y-4",children:[w&&v&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-orange-50 rounded-lg p-3 mb-4",children:[e.jsx("p",{className:"text-sm text-orange-600 font-semibold",children:"Current Round"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-800",children:["Round ",v.round_number]}),v.is_active?e.jsx("span",{className:"text-xs bg-green-500 text-white px-2 py-1 rounded-full",children:"ACTIVE"}):e.jsx("span",{className:"text-xs bg-gray-500 text-white px-2 py-1 rounded-full",children:"CLOSED"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Min Pledge Range"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:L(v.min_pledge)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Max Pledge Range"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:L(v.max_pledge)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Entry Fee"}),e.jsx("p",{className:"text-xl font-bold text-orange-600",children:L(v.participation_fee)})]}),v.is_active&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Current Highest Pledge"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:v.participants?.length>0&&v.participants.some(S=>S.pledge_amount)?L(Math.max(...v.participants.map(S=>S.pledge_amount||0))):"No pledges yet"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Participants (Round ",v.round_number,")"]}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:v.participant_count||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Bids"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:v.bid_count||0})]})]}),!v.is_active&&v.winner&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" Round ",v.round_number," Winner"]}),e.jsx("p",{className:"text-lg font-bold text-green-600",children:v.winner.username}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:L(v.winner.pledge_amount)})]})]}),w&&!v&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-500",children:"No rounds created yet"}),e.jsx("button",{onClick:()=>u(!0),className:"mt-4 text-orange-600 hover:underline font-semibold",children:"Create First Round "})]}),_&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Buy Now Price"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:L(h.buy_now_price)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Stock Remaining"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:h.stock_quantity})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Units Sold"}),e.jsx("p",{className:"text-xl font-bold text-purple-600",children:h.units_sold||0})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:" Actions"}),h.status==="draft"&&w&&e.jsx("button",{onClick:()=>u(!0),className:"w-full bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 mb-3",children:" Activate Auction"}),h.status==="active"&&w&&e.jsx("button",{onClick:N,disabled:y.isPending,className:"w-full bg-red-600 text-white py-3 rounded-lg font-bold hover:bg-red-700 disabled:bg-gray-400 mb-3",children:y.isPending?" Closing...":" Close Auction"}),e.jsx(X,{to:h.product_type==="auction"?`/auction/${l}`:`/product/${l}`,className:"block w-full bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700 text-center",children:" View as Customer"})]})]})]}),m==="participants"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"All Participants by Round"}),h.rounds?.length>0&&e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-indigo-700 rounded-xl shadow-2xl p-6 text-white mb-8",children:[e.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx("span",{children:""})," Overall Statistics (All Rounds)"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[e.jsx("p",{className:"text-purple-100 text-sm font-semibold mb-1",children:"Total Rounds"}),e.jsx("p",{className:"text-4xl font-bold",children:h.rounds.length})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[e.jsx("p",{className:"text-purple-100 text-sm font-semibold mb-1",children:"Total Participants"}),e.jsx("p",{className:"text-4xl font-bold",children:h.rounds.reduce((S,M)=>S+(M.participant_count||0),0)})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[e.jsx("p",{className:"text-purple-100 text-sm font-semibold mb-1",children:"Total Revenue"}),e.jsx("p",{className:"text-4xl font-bold",children:L(h.rounds.reduce((S,M)=>S+(M.participation_fee||0)*(M.participant_count||0),0))})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[e.jsx("p",{className:"text-purple-100 text-sm font-semibold mb-1",children:"Total Bids"}),e.jsx("p",{className:"text-4xl font-bold",children:h.rounds.reduce((S,M)=>S+(M.bid_count||0),0)})]})]})]}),h.rounds?.length>0?h.rounds.sort((S,M)=>M.round_number-S.round_number).map(S=>e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-600 to-orange-600 text-white p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-bold",children:["Round ",S.round_number]}),e.jsxs("p",{className:"text-red-100 text-sm mt-1",children:["Entry Fee: ",L(S.participation_fee)," | Pledge Range: ",L(S.min_pledge)," - ",L(S.max_pledge)]})]}),e.jsxs("div",{className:"text-right",children:[S.is_active?e.jsx("span",{className:"bg-green-500 text-white px-4 py-2 rounded-full text-sm font-bold",children:"ACTIVE"}):e.jsx("span",{className:"bg-gray-500 text-white px-4 py-2 rounded-full text-sm font-bold",children:"CLOSED"}),e.jsxs("p",{className:"text-red-100 text-sm mt-2",children:[S.participant_count||0," Participants | ",S.bid_count||0," Bids"]})]})]})}),e.jsx("div",{className:"bg-gray-50 border-b border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Total Participants"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:S.participant_count||0})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Revenue (Entry Fees)"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:L((S.participation_fee||0)*(S.participant_count||0))})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Highest Pledge"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:S.participants&&S.participants.length>0&&S.participants.some(M=>M.pledge_amount)?L(Math.max(...S.participants.map(M=>M.pledge_amount||0))):L(0)})]})]})}),e.jsx("div",{className:"p-6",children:S.participants&&S.participants.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Rank"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Name"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Username"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Contact"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Age"}),e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Pledge Amount"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700",children:"Payment Status"})]})}),e.jsx("tbody",{children:S.participants.filter(M=>M.payment_status==="completed").sort((M,F)=>(F.pledge_amount||0)-(M.pledge_amount||0)).map((M,F)=>e.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gray-50 transition ${F===0?"bg-yellow-50":""}`,children:[e.jsx("td",{className:"py-3 px-4",children:F===0?e.jsx("span",{className:"text-2xl",children:""}):e.jsxs("span",{className:"font-semibold text-gray-600",children:["#",F+1]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("span",{className:"font-medium text-gray-900",children:[M.user?.first_name," ",M.user?.last_name]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("span",{className:"text-gray-600",children:["@",M.user?.username]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("div",{children:M.user?.email}),e.jsx("div",{children:M.user?.phone_number})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-gray-600",children:M.user?.age||"N/A"})}),e.jsx("td",{className:"py-3 px-4 text-right",children:M.pledge_amount?e.jsx("span",{className:`font-bold text-lg ${F===0?"text-green-600":"text-gray-900"}`,children:L(M.pledge_amount)}):e.jsx("span",{className:"text-gray-400 italic",children:"No bid yet"})}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${M.payment_status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:M.payment_status})})]},M.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No participants in this round yet"})]})})]},S.id)):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Rounds Created Yet"}),e.jsx("p",{className:"text-gray-600",children:"Create your first auction round to start accepting participants"})]})]}),m==="bids"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"All Bids History"}),h.rounds?.length>0&&(()=>{const S=h.rounds.flatMap(R=>(R.participants||[]).filter(D=>D.pledge_amount&&D.payment_status==="completed").map(D=>({...D,round_number:R.round_number,round_id:R.id}))),M=h.rounds.reduce((R,D)=>R+(D.bid_count||0),0),F=S.length>0?Math.max(...S.map(R=>R.pledge_amount)):0,z=S.length>0?S.reduce((R,D)=>R+D.pledge_amount,0)/S.length:0;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 rounded-xl shadow-2xl p-6 text-white mb-8",children:[e.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx("span",{children:""})," Overall Bids Statistics"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[e.jsx("p",{className:"text-purple-100 text-sm font-semibold mb-1",children:"Total Bids"}),e.jsx("p",{className:"text-4xl font-bold",children:M})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[e.jsx("p",{className:"text-purple-100 text-sm font-semibold mb-1",children:"Unique Bidders"}),e.jsx("p",{className:"text-4xl font-bold",children:S.length})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[e.jsx("p",{className:"text-purple-100 text-sm font-semibold mb-1",children:"Highest Bid"}),e.jsx("p",{className:"text-3xl font-bold",children:L(F)})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[e.jsx("p",{className:"text-purple-100 text-sm font-semibold mb-1",children:"Average Bid"}),e.jsx("p",{className:"text-3xl font-bold",children:L(z)})]})]})]}),h.rounds.sort((R,D)=>D.round_number-R.round_number).map(R=>{const D=(R.participants||[]).filter(Y=>Y.pledge_amount&&Y.payment_status==="completed").sort((Y,J)=>J.pledge_amount-Y.pledge_amount);return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-bold",children:["Round ",R.round_number]}),e.jsxs("p",{className:"text-purple-100 text-sm mt-1",children:[D.length," Bids | Highest: ",D.length>0?L(D[0].pledge_amount):"N/A"]})]}),e.jsx("div",{className:"text-right",children:R.is_active?e.jsx("span",{className:"bg-green-500 text-white px-4 py-2 rounded-full text-sm font-bold",children:"ACTIVE"}):e.jsx("span",{className:"bg-gray-500 text-white px-4 py-2 rounded-full text-sm font-bold",children:"CLOSED"})})]})}),e.jsx("div",{className:"p-6",children:D.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Rank"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Bidder Name"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Username"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Contact"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Age"}),e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Bid Amount"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700",children:"Status"})]})}),e.jsx("tbody",{children:D.map((Y,J)=>e.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gray-50 transition ${J===0?"bg-yellow-50":""}`,children:[e.jsx("td",{className:"py-3 px-4",children:J===0?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsx("span",{className:"font-bold text-yellow-600",children:"#1"})]}):J===1?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:""}),e.jsx("span",{className:"font-semibold text-gray-500",children:"#2"})]}):J===2?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:""}),e.jsx("span",{className:"font-semibold text-gray-500",children:"#3"})]}):e.jsxs("span",{className:"font-semibold text-gray-600",children:["#",J+1]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("span",{className:"font-medium text-gray-900",children:[Y.user?.first_name," ",Y.user?.last_name]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("span",{className:"text-gray-600",children:["@",Y.user?.username]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("div",{children:Y.user?.email}),e.jsx("div",{children:Y.user?.phone_number})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-gray-600",children:Y.user?.age||"N/A"})}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("span",{className:`font-bold text-xl ${J===0?"text-green-600":J===1?"text-blue-600":J===2?"text-orange-600":"text-gray-900"}`,children:L(Y.pledge_amount)})}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"Valid Bid"})})]},Y.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No bids placed in this round yet"})]})})]},R.id)})]})})(),(!h.rounds||h.rounds.length===0)&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Rounds Created Yet"}),e.jsx("p",{className:"text-gray-600",children:"Create your first auction round to start accepting bids"})]})]}),m==="revenue"&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Revenue Summary"}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-green-50 rounded-lg p-6 border-l-4 border-green-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Entry Fee"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:L(h.participation_fee)})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border-l-4 border-blue-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Participants"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:h.participant_count||0})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-6 border-l-4 border-purple-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Total Revenue"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:L((h.participation_fee||0)*(h.participant_count||0))})]})]})]}),m==="buyers"&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("div",{className:"text-center mb-4",children:e.jsx(X,{to:`/management/products/${l}/buyers`,className:"inline-block bg-red-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-red-700",children:"View All Buyers & Orders "})}),e.jsx("p",{className:"text-gray-600 text-center",children:"See all customers who purchased this product with full order details"})]}),m==="rounds"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Auction Rounds"}),e.jsx("button",{onClick:()=>r(`/management/products/${l}/create-next-round`),className:"px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-bold hover:from-green-700 hover:to-emerald-700 shadow-lg transition transform hover:scale-105",children:" Create Next Round"})]}),h.rounds?.length>0&&e.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-cyan-700 rounded-xl shadow-2xl p-6 text-white mb-8",children:[e.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx("span",{children:""})," Rounds Overview"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[e.jsx("p",{className:"text-blue-100 text-sm font-semibold mb-1",children:"Total Rounds"}),e.jsx("p",{className:"text-4xl font-bold",children:h.rounds.length})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[e.jsx("p",{className:"text-blue-100 text-sm font-semibold mb-1",children:"Active Round"}),e.jsx("p",{className:"text-4xl font-bold",children:h.rounds.find(S=>S.is_active)?.round_number||"-"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[e.jsx("p",{className:"text-blue-100 text-sm font-semibold mb-1",children:"Total Participants"}),e.jsx("p",{className:"text-4xl font-bold",children:h.rounds.reduce((S,M)=>S+(M.participant_count||0),0)})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[e.jsx("p",{className:"text-blue-100 text-sm font-semibold mb-1",children:"Total Revenue"}),e.jsx("p",{className:"text-3xl font-bold",children:L(h.rounds.reduce((S,M)=>S+(M.participation_fee||0)*(M.participant_count||0),0))})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[e.jsx("p",{className:"text-blue-100 text-sm font-semibold mb-1",children:"Total Bids"}),e.jsx("p",{className:"text-4xl font-bold",children:h.rounds.reduce((S,M)=>S+(M.bid_count||0),0)})]})]})]}),h.rounds?.length>0?e.jsx("div",{className:"space-y-4",children:h.rounds.sort((S,M)=>M.round_number-S.round_number).map((S,M)=>{const F=S.participants?.length>0?Math.max(...S.participants.map(z=>z.pledge_amount||0)):0;return e.jsx(X,{to:`/management/products/${l}/rounds/${S.id}`,className:"block bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border-l-8 hover:scale-[1.02] group",style:{borderLeftColor:S.is_active?"#10b981":M===0?"#3b82f6":"#6b7280"},children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxs("h3",{className:"text-3xl font-bold text-gray-900",children:["Round ",S.round_number]}),S.is_active?e.jsx("span",{className:"px-4 py-1 bg-green-500 text-white rounded-full text-sm font-bold animate-pulse",children:"LIVE"}):e.jsx("span",{className:"px-4 py-1 bg-gray-400 text-white rounded-full text-sm font-bold",children:"CLOSED"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Entry Fee"}),e.jsx("p",{className:"text-lg font-bold text-orange-600",children:L(S.participation_fee)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Pledge Range"}),e.jsxs("p",{className:"text-sm font-semibold text-gray-700",children:[L(S.min_pledge)," - ",L(S.max_pledge)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Participants"}),e.jsx("p",{className:"text-lg font-bold text-blue-600",children:S.participant_count||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Total Bids"}),e.jsx("p",{className:"text-lg font-bold text-purple-600",children:S.bid_count||0})]})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-400",children:""}),e.jsxs("span",{children:["Started: ",new Date(S.start_time).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-400",children:""}),e.jsxs("span",{children:["Ends: ",new Date(S.end_time).toLocaleDateString()]})]})]})]}),e.jsxs("div",{className:"ml-6 text-right",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg p-4 border-2 border-green-200 min-w-[160px]",children:[e.jsx("p",{className:"text-xs text-green-700 font-semibold mb-1",children:"Highest Pledge"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:F>0?L(F):"No bids"})]}),e.jsxs("div",{className:"mt-3 bg-blue-50 rounded-lg p-3 border border-blue-200",children:[e.jsx("p",{className:"text-xs text-blue-700 font-semibold mb-1",children:"Revenue"}),e.jsx("p",{className:"text-lg font-bold text-blue-600",children:L((S.participation_fee||0)*(S.participant_count||0))})]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end text-blue-600 font-semibold group-hover:text-blue-700",children:[e.jsx("span",{children:"View Full Details"}),e.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})},S.id)})}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Rounds Created Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first auction round to start accepting participants"}),e.jsx("button",{onClick:()=>r(`/management/products/${l}/create-next-round`),className:"px-6 py-3 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700",children:" Create First Round"})]})]}),m==="sales"&&e.jsx(F1,{productId:l})]}),e.jsx(H1,{isOpen:c,onClose:()=>u(!1),auction:h,onActivate:g})]})}function Q1(){const{id:l}=pt(),r=It(),i=Tt(),{data:c,isLoading:u}=ie({queryKey:["product",l],queryFn:()=>ct.getById(l).then(z=>z.data)}),{data:m=[]}=ie({queryKey:["categories"],queryFn:()=>xs.getAll().then(z=>z.data?.results||z.data||[])}),[x,h]=C.useState({title:"",description:"",category:"",product_type:"buy_now",base_price:"",buy_now_price:"",participation_fee:"",stock_quantity:"",main_image:null,start_time:"",end_time:"",is_featured:!1,is_flash_sale:!1,discount_percentage:"",flash_sale_ends_at:"",display_order:0}),[b,f]=C.useState(null),[g,y]=C.useState({}),[N,O]=C.useState(!0);C.useEffect(()=>{if(c&&(h({title:c.title||"",description:c.description||"",category:c.category||"",product_type:c.product_type||"buy_now",base_price:c.base_price||"",buy_now_price:c.buy_now_price||"",participation_fee:c.participation_fee||"",stock_quantity:c.stock_quantity||"",main_image:null,start_time:c.start_time?new Date(c.start_time).toISOString().slice(0,16):"",end_time:c.end_time?new Date(c.end_time).toISOString().slice(0,16):"",is_featured:c.is_featured||!1,is_flash_sale:c.is_flash_sale||!1,discount_percentage:c.discount_percentage||"",flash_sale_ends_at:c.flash_sale_ends_at?new Date(c.flash_sale_ends_at).toISOString().slice(0,16):"",display_order:c.display_order||0}),c.main_image)){const z=c.main_image.startsWith("http")?c.main_image:`${c.main_image}`;f(z)}},[c]);const w=Ge({mutationFn:z=>{if(z.main_image instanceof File){const R=new FormData;return Object.keys(z).forEach(D=>{z[D]!==null&&z[D]!==void 0&&z[D]!==""&&R.append(D,z[D])}),ee.put(`/api/auctions/${l}/`,R,{headers:{"Content-Type":"multipart/form-data"}})}return ee.put(`/api/auctions/${l}/`,z)},onSuccess:()=>{i.invalidateQueries(["product",l]),i.invalidateQueries(["admin-products"]),alert(" Product updated successfully!"),r(`/management/products/${l}`)},onError:z=>{const R=z.response?.data||{};y(R),alert(" Error updating product. Check the form for errors."),console.error("Update error:",R)}}),_=z=>{const{name:R,value:D,type:Y,checked:J}=z.target;h(ne=>({...ne,[R]:Y==="checkbox"?J:D})),g[R]&&y(ne=>({...ne,[R]:null}))},v=z=>{const R=z.target.files[0];if(R){if(!R.type.startsWith("image/")){alert("Please select an image file");return}if(R.size>5*1024*1024){alert("Image must be less than 5MB");return}h(Y=>({...Y,main_image:R})),O(!1);const D=new FileReader;D.onloadend=()=>{f(D.result)},D.readAsDataURL(R)}},S=z=>{z.preventDefault();const R={title:x.title,description:x.description,category:x.category,product_type:x.product_type,base_price:parseFloat(x.base_price)||0,stock_quantity:parseInt(x.stock_quantity)||0,is_featured:x.is_featured,is_flash_sale:x.is_flash_sale,display_order:parseInt(x.display_order)||0};x.main_image instanceof File&&(R.main_image=x.main_image),(x.product_type==="buy_now"||x.product_type==="both")&&(R.buy_now_price=parseFloat(x.buy_now_price)||0),(x.product_type==="auction"||x.product_type==="both")&&(R.participation_fee=parseFloat(x.participation_fee)||0,R.start_time=x.start_time,R.end_time=x.end_time),x.is_flash_sale&&(R.discount_percentage=parseFloat(x.discount_percentage)||0,R.flash_sale_ends_at=x.flash_sale_ends_at),w.mutate(R)},M=x.product_type==="auction"||x.product_type==="both",F=x.product_type==="buy_now"||x.product_type==="both";return u?e.jsx(me,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading product..."})]})}):c?e.jsx(me,{children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(X,{to:`/management/products/${l}`,className:"text-blue-600 hover:underline text-sm mb-2 inline-block",children:" Back to Product"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Edit Product"}),e.jsx("p",{className:"text-gray-600",children:"Update product information"})]}),e.jsxs("form",{onSubmit:S,className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Product Type *"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("label",{className:`relative flex flex-col items-center justify-center p-4 border-2 rounded-lg cursor-pointer transition ${x.product_type==="buy_now"?"border-blue-600 bg-blue-50":"border-gray-300 hover:border-blue-400"}`,children:[e.jsx("input",{type:"radio",name:"product_type",value:"buy_now",checked:x.product_type==="buy_now",onChange:_,className:"sr-only"}),e.jsx("span",{className:"text-3xl mb-2",children:""}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Buy Now"})]}),e.jsxs("label",{className:`relative flex flex-col items-center justify-center p-4 border-2 rounded-lg cursor-pointer transition ${x.product_type==="auction"?"border-red-600 bg-red-50":"border-gray-300 hover:border-red-400"}`,children:[e.jsx("input",{type:"radio",name:"product_type",value:"auction",checked:x.product_type==="auction",onChange:_,className:"sr-only"}),e.jsx("span",{className:"text-3xl mb-2",children:""}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Auction"})]}),e.jsxs("label",{className:`relative flex flex-col items-center justify-center p-4 border-2 rounded-lg cursor-pointer transition ${x.product_type==="both"?"border-purple-600 bg-purple-50":"border-gray-300 hover:border-purple-400"}`,children:[e.jsx("input",{type:"radio",name:"product_type",value:"both",checked:x.product_type==="both",onChange:_,className:"sr-only"}),e.jsx("span",{className:"text-3xl mb-2",children:""}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Both"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Product Title *"}),e.jsx("input",{type:"text",name:"title",value:x.title,onChange:_,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${g.title?"border-red-500":"border-gray-300"}`,required:!0}),g.title&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:g.title[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{name:"description",value:x.description,onChange:_,rows:"4",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${g.description?"border-red-500":"border-gray-300"}`,required:!0}),g.description&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:g.description[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category *"}),e.jsxs("select",{name:"category",value:x.category,onChange:_,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${g.category?"border-red-500":"border-gray-300"}`,required:!0,children:[e.jsx("option",{value:"",children:"Select a category"}),m.map(z=>e.jsx("option",{value:z.id,children:z.name},z.id))]}),g.category&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:g.category[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Product Image"}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:b?e.jsxs("div",{className:"relative w-32 h-32 border-2 border-gray-300 rounded-lg overflow-hidden",children:[e.jsx("img",{src:b,alt:"Preview",className:"w-full h-full object-cover"}),x.main_image instanceof File&&e.jsx("button",{type:"button",onClick:()=>{if(h(z=>({...z,main_image:null})),O(!0),c.main_image){const z=c.main_image.startsWith("http")?c.main_image:`${c.main_image}`;f(z)}},className:"absolute top-1 right-1 bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-700",children:""})]}):e.jsx("div",{className:"w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50",children:e.jsx("span",{className:"text-gray-400 text-4xl",children:""})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Upload new image (JPG, PNG, or GIF - Max 5MB) or keep existing"})]})]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b",children:"Pricing"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:M?"Starting Bid (KES) *":"Base Price (KES) *"}),e.jsx("input",{type:"number",name:"base_price",value:x.base_price,onChange:_,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${g.base_price?"border-red-500":"border-gray-300"}`,min:"0",step:"0.01",required:!0}),g.base_price&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:g.base_price[0]})]}),F&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Buy Now Price (KES) *"}),e.jsx("input",{type:"number",name:"buy_now_price",value:x.buy_now_price,onChange:_,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${g.buy_now_price?"border-red-500":"border-gray-300"}`,min:"0",step:"0.01",required:F}),g.buy_now_price&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:g.buy_now_price[0]})]}),M&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Participation Fee (KES) *"}),e.jsx("input",{type:"number",name:"participation_fee",value:x.participation_fee,onChange:_,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${g.participation_fee?"border-red-500":"border-gray-300"}`,min:"0",step:"0.01",required:M}),g.participation_fee&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:g.participation_fee[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Stock Quantity *"}),e.jsx("input",{type:"number",name:"stock_quantity",value:x.stock_quantity,onChange:_,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${g.stock_quantity?"border-red-500":"border-gray-300"}`,min:"0",required:!0}),g.stock_quantity&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:g.stock_quantity[0]})]})]})]}),M&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b",children:"Auction Timing"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Time *"}),e.jsx("input",{type:"datetime-local",name:"start_time",value:x.start_time,onChange:_,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${g.start_time?"border-red-500":"border-gray-300"}`,required:M}),g.start_time&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:g.start_time[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"End Time *"}),e.jsx("input",{type:"datetime-local",name:"end_time",value:x.end_time,onChange:_,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${g.end_time?"border-red-500":"border-gray-300"}`,required:M}),g.end_time&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:g.end_time[0]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 pb-2 border-b",children:"Special Features"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",name:"is_featured",checked:x.is_featured,onChange:_,className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"Featured Product"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Display in hero carousel on homepage"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",name:"is_flash_sale",checked:x.is_flash_sale,onChange:_,className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"Flash Sale"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Add discount badge and urgency"})]})]}),x.is_flash_sale&&e.jsxs("div",{className:"ml-8 grid grid-cols-2 gap-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Discount Percentage"}),e.jsx("input",{type:"number",name:"discount_percentage",value:x.discount_percentage,onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",min:"0",max:"100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Flash Sale Ends At"}),e.jsx("input",{type:"datetime-local",name:"flash_sale_ends_at",value:x.flash_sale_ends_at,onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Display Order"}),e.jsx("input",{type:"number",name:"display_order",value:x.display_order,onChange:_,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",min:"0"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first (0 = default)"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-6 border-t",children:[e.jsx("button",{type:"submit",disabled:w.isPending,className:"bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 transition disabled:bg-gray-400 disabled:cursor-not-allowed",children:w.isPending?"Updating...":" Update Product"}),e.jsx(X,{to:`/management/products/${l}`,className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition",children:"Cancel"})]})]})]})}):e.jsx(me,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-600 text-xl",children:"Product not found"}),e.jsx(X,{to:"/management/products",className:"text-blue-600 hover:underline mt-4 inline-block",children:" Back to Products"})]})})}function Y1(){const{id:l}=pt(),{data:r}=ie({queryKey:["auction",l],queryFn:()=>ct.getById(l).then(h=>h.data)}),{data:i,isLoading:c}=ie({queryKey:["auction-participants",l],queryFn:()=>ct.getParticipants(l).then(h=>h.data)});if(c)return e.jsx(me,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading participants..."})]})});const u=i?.participants||[],m=i?.total_count||0,x=i?.total_revenue||0;return e.jsx(me,{children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(X,{to:`/management/products/${l}`,className:"text-red-600 hover:underline mb-2 inline-block",children:" Back to Product"}),e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Participants: ",r?.title]}),e.jsx("p",{className:"text-gray-600",children:"All users who paid the entry fee"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-blue-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Total Participants"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:m})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-green-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Total Revenue"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:L(x)})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-purple-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Entry Fee"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:L(r?.participation_fee||0)})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"All Participants"})}),u.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Participants Yet"}),e.jsx("p",{className:"text-gray-600",children:"No one has paid the entry fee for this auction"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"#"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"User"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Email"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Phone"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Fee Paid"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Paid At"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map((h,b)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-4 px-4 text-gray-600",children:b+1}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:h.user.first_name||h.user.username}),e.jsxs("p",{className:"text-sm text-gray-500",children:["@",h.user.username]})]})}),e.jsx("td",{className:"py-4 px-4 text-gray-900",children:h.user.email}),e.jsx("td",{className:"py-4 px-4 text-gray-900",children:h.user.phone||"N/A"}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:"font-semibold text-green-600",children:L(h.fee_paid)})}),e.jsx("td",{className:"py-4 px-4 text-gray-600",children:new Date(h.paid_at).toLocaleString()})]},h.id))})]})})]})]})})}function K1(){const{id:l}=pt(),{data:r}=ie({queryKey:["auction",l],queryFn:()=>ct.getById(l).then(h=>h.data)}),{data:i,isLoading:c}=ie({queryKey:["auction-bids",l],queryFn:()=>ct.getBidsList(l).then(h=>h.data)});if(c)return e.jsx(me,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading bids..."})]})});const u=i?.bids||[],m=i?.total_count||0,x=i?.highest_amount||0;return e.jsx(me,{children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(X,{to:`/management/products/${l}`,className:"text-red-600 hover:underline mb-2 inline-block",children:" Back to Product"}),e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["All Bids: ",r?.title]}),e.jsx("p",{className:"text-gray-600",children:"Complete ranking of all pledges"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-blue-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Total Bids"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:m})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-green-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Highest Bid"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:L(x)})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-purple-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Starting Bid"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:L(r?.base_price||0)})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"All Bids (Ranked)"})}),u.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Bids Yet"}),e.jsx("p",{className:"text-gray-600",children:"No bids have been placed on this auction"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Rank"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"User"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Email"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Phone"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Pledge Amount"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Submitted At"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map(h=>e.jsxs("tr",{className:`hover:bg-gray-50 ${h.position===1?"bg-yellow-50":""}`,children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[h.position===1&&e.jsx("span",{className:"text-2xl",children:""}),e.jsxs("span",{className:`font-bold ${h.position===1?"text-yellow-600 text-lg":"text-gray-600"}`,children:["#",h.position]})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:h.user.first_name||h.user.username}),e.jsxs("p",{className:"text-sm text-gray-500",children:["@",h.user.username]})]})}),e.jsx("td",{className:"py-4 px-4 text-gray-900",children:h.user.email}),e.jsx("td",{className:"py-4 px-4 text-gray-900",children:h.user.phone||"N/A"}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`font-bold text-lg ${h.position===1?"text-yellow-600":"text-green-600"}`,children:L(h.pledge_amount)})}),e.jsx("td",{className:"py-4 px-4 text-gray-600",children:new Date(h.submitted_at).toLocaleString()})]},h.id))})]})})]})]})})}function G1(){const{id:l}=pt(),r=Tt(),[i,c]=C.useState(""),[u,m]=C.useState(""),{data:x,isLoading:h}=ie({queryKey:["order",l],queryFn:()=>bi.getById(l).then(g=>g.data)}),b=Ge({mutationFn:g=>bi.updateStatus(l,g),onSuccess:()=>{r.invalidateQueries(["order",l]),r.invalidateQueries(["admin-orders"]),alert(" Order status updated successfully!"),c("")},onError:g=>{alert(" Failed to update: "+(g.response?.data?.error||g.message))}}),f=()=>{if(!i){alert("Please select a status");return}b.mutate({status:i,admin_notes:u})};return h?e.jsx(me,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading order..."})]})}):x?e.jsx(me,{children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(X,{to:"/management/orders",className:"text-red-600 hover:underline mb-2 inline-block",children:" Back to Orders"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Order ",x.order_number]}),e.jsxs("p",{className:"text-gray-600",children:["Placed on ",new Date(x.created_at).toLocaleString()]})]}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${x.status==="pending"?"bg-yellow-100 text-yellow-700":x.status==="paid"?"bg-green-100 text-green-700":x.status==="processing"?"bg-blue-100 text-blue-700":x.status==="shipped"?"bg-purple-100 text-purple-700":x.status==="delivered"?"bg-teal-100 text-teal-700":"bg-red-100 text-red-700"}`,children:x.status.toUpperCase()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Customer Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),e.jsx("p",{className:"font-semibold text-gray-900",children:x.shipping_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),e.jsx("p",{className:"font-semibold text-gray-900",children:x.shipping_phone})]}),x.customer&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("p",{className:"font-semibold text-gray-900",children:x.customer.email})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Shipping Address"}),e.jsx("p",{className:"text-gray-900",children:x.shipping_address}),e.jsx("p",{className:"text-gray-900",children:x.shipping_city})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Order Items (",x.total_items,")"]}),e.jsx("div",{className:"space-y-4",children:x.items?.map(g=>e.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:g.product_title}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",g.quantity]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-gray-900",children:L(g.total_price)}),e.jsxs("p",{className:"text-sm text-gray-600",children:[L(g.product_price)," each"]})]})]},g.id))})]}),x.customer_notes&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Customer Notes"}),e.jsx("p",{className:"text-gray-700",children:x.customer_notes})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsx("span",{className:"font-semibold",children:L(x.subtotal)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Shipping"}),e.jsx("span",{className:"font-semibold",children:L(x.shipping_fee)})]}),e.jsxs("div",{className:"border-t pt-3 flex justify-between",children:[e.jsx("span",{className:"font-bold text-gray-900",children:"Total"}),e.jsx("span",{className:"font-bold text-green-600 text-xl",children:L(x.total_amount)})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Payment"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Method"}),e.jsx("p",{className:"font-semibold text-gray-900 capitalize",children:x.payment_method})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),e.jsx("p",{className:`font-semibold ${x.payment_status==="completed"?"text-green-600":"text-yellow-600"}`,children:x.payment_status})]}),x.mpesa_transaction_id&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Transaction ID"}),e.jsx("p",{className:"font-mono text-xs text-gray-900",children:x.mpesa_transaction_id})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Update Status"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Status"}),e.jsxs("select",{value:i,onChange:g=>c(g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"",children:"Select status..."}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"shipped",children:"Shipped"}),e.jsx("option",{value:"delivered",children:"Delivered"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Admin Notes"}),e.jsx("textarea",{value:u,onChange:g=>m(g.target.value),rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Internal notes..."})]}),e.jsx("button",{onClick:f,disabled:b.isPending||!i,className:"w-full bg-red-600 text-white py-3 rounded-lg font-bold hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:b.isPending?"Updating...":"Update Status"})]})]})]})]})]})}):e.jsx(me,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Order not found"}),e.jsx(X,{to:"/management/orders",className:"text-red-600 hover:underline",children:"Back to Orders"})]})})}function V1(){const{id:l}=pt(),{data:r}=ie({queryKey:["product",l],queryFn:()=>ct.getById(l).then(b=>b.data)}),{data:i,isLoading:c}=ie({queryKey:["product-buyers",l],queryFn:()=>ct.getBuyers(l).then(b=>b.data)});if(c)return e.jsx(me,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading buyers..."})]})});const u=i?.buyers||[],m=i?.total_orders||0,x=i?.total_units_sold||0,h=i?.total_revenue||0;return e.jsx(me,{children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(X,{to:`/management/products/${l}`,className:"text-red-600 hover:underline mb-2 inline-block",children:" Back to Product"}),e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Buyers: ",r?.title]}),e.jsx("p",{className:"text-gray-600",children:"All customers who purchased this product"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-blue-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Total Orders"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:m})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-purple-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Units Sold"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:x})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-green-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Total Revenue"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:L(h)})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-orange-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Price Per Unit"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:L(r?.buy_now_price||0)})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"All Buyers & Orders"})}),u.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Purchases Yet"}),e.jsx("p",{className:"text-gray-600",children:"No one has purchased this product"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Order #"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Customer"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Contact"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Shipping Address"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Qty"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Total"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Date"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map(b=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsx(X,{to:`/management/orders/${b.id}`,className:"font-mono font-semibold text-blue-600 hover:text-blue-700",children:b.order_number})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:b.shipping_name}),e.jsx("p",{className:"text-sm text-gray-500",children:b.customer.email})]})}),e.jsx("td",{className:"py-4 px-4 text-gray-900",children:b.shipping_phone}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"text-gray-900",children:b.shipping_address}),e.jsx("p",{className:"text-gray-500",children:b.shipping_city})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:"font-semibold text-gray-900",children:b.quantity})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:"font-bold text-green-600",children:L(b.total_price)})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${b.order_status==="pending"?"bg-yellow-100 text-yellow-700":b.order_status==="paid"?"bg-green-100 text-green-700":b.order_status==="processing"?"bg-blue-100 text-blue-700":b.order_status==="shipped"?"bg-purple-100 text-purple-700":b.order_status==="delivered"?"bg-teal-100 text-teal-700":"bg-red-100 text-red-700"}`,children:b.order_status})}),e.jsx("td",{className:"py-4 px-4 text-gray-600",children:new Date(b.created_at).toLocaleDateString()})]},b.id))})]})})]})]})})}function X1(){const[l,r]=C.useState(!1),[i,c]=C.useState(null),[u,m]=C.useState({name:"",image:null}),[x,h]=C.useState(null),b=Tt(),{data:f=[],isLoading:g}=ie({queryKey:["admin-categories"],queryFn:()=>xs.getAll().then(z=>z.data?.results||z.data||[])}),y=Ge({mutationFn:z=>{const R=new FormData;return R.append("name",z.name),z.image&&R.append("image",z.image),xs.create(R)},onSuccess:()=>{b.invalidateQueries(["admin-categories"]),b.invalidateQueries(["categories"]),He.success("Category created successfully!"),v()},onError:z=>{He.error(z.response?.data?.name?.[0]||"Failed to create category")}}),N=Ge({mutationFn:({id:z,formData:R})=>{const D=new FormData;return D.append("name",R.name),R.image&&D.append("image",R.image),xs.update(z,D)},onSuccess:()=>{b.invalidateQueries(["admin-categories"]),b.invalidateQueries(["categories"]),He.success("Category updated successfully!"),v()},onError:z=>{He.error(z.response?.data?.name?.[0]||"Failed to update category")}}),O=Ge({mutationFn:z=>xs.toggleActive(z),onSuccess:()=>{b.invalidateQueries(["admin-categories"]),b.invalidateQueries(["categories"]),He.success("Category status updated!")}}),w=Ge({mutationFn:z=>xs.delete(z),onSuccess:()=>{b.invalidateQueries(["admin-categories"]),b.invalidateQueries(["categories"]),He.success("Category deleted successfully!")}}),_=(z=null)=>{z?(c(z),m({name:z.name,image:null}),h(z.image)):(c(null),m({name:"",image:null}),h(null)),r(!0)},v=()=>{r(!1),c(null),m({name:"",image:null}),h(null)},S=z=>{z.preventDefault(),i?N.mutate({id:i.id,formData:u}):y.mutate(u)},M=z=>{const R=z.target.files[0];R&&(m({...u,image:R}),h(URL.createObjectURL(R)))},F=z=>{window.confirm(`Delete category "${z.name}"? This will deactivate it.`)&&w.mutate(z.id)};return g?e.jsx(me,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading categories..."})]})}):e.jsx(me,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Categories"}),e.jsx("p",{className:"text-gray-600",children:"Manage product categories for your marketplace"})]}),e.jsx("button",{onClick:()=>_(),className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 font-semibold transition",children:" Create Category"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-purple-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Total Categories"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:f.length})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-green-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Active"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:f.filter(z=>z.is_active).length})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-gray-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Inactive"}),e.jsx("p",{className:"text-3xl font-bold text-gray-600 mt-2",children:f.filter(z=>!z.is_active).length})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700",children:"Image"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700",children:"Name"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700",children:"Slug"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700",children:"Products"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700",children:"Status"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:f.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),e.jsx("p",{className:"text-gray-500 mb-4 font-semibold",children:"No categories yet"}),e.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Create your first category to organize products"}),e.jsx("button",{onClick:()=>_(),className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700",children:"Create First Category"})]})}):f.map(z=>e.jsxs("tr",{className:"border-b hover:bg-gray-50 transition",children:[e.jsx("td",{className:"py-4 px-6",children:e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden border border-gray-200",children:z.image?e.jsx("img",{src:z.image,alt:z.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-2xl",children:""})})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"font-semibold text-gray-900",children:z.name})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"text-sm text-gray-500 font-mono",children:z.slug})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-semibold",children:[z.auction_count," ",z.auction_count===1?"product":"products"]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("button",{onClick:()=>O.mutate(z.slug),disabled:O.isPending,className:`px-3 py-1 rounded-full text-sm font-semibold transition ${z.is_active?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"} disabled:opacity-50`,children:z.is_active?" Active":" Inactive"})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>_(z),className:"text-blue-600 hover:text-blue-700 font-medium text-sm hover:underline",children:"Edit"}),e.jsx("button",{onClick:()=>F(z),className:"text-red-600 hover:text-red-700 font-medium text-sm hover:underline",children:"Delete"})]})})]},z.id))})]})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b sticky top-0 bg-white z-10",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i?"Edit Category":"Create New Category"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:i?"Update category details":"Add a new product category"})]}),e.jsxs("form",{onSubmit:S,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category Name *"}),e.jsx("input",{type:"text",required:!0,value:u.name,onChange:z=>m({...u,name:z.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"e.g., Electronics, Fashion, Home & Garden"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Slug will be auto-generated from the name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category Image (optional for now)"}),e.jsx("input",{type:"file",accept:"image/*",onChange:M,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended: Square image (300x300px or larger)"}),x&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3 font-semibold",children:"Preview:"}),e.jsx("img",{src:x,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border-2 border-gray-300 shadow-sm"})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:v,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 font-semibold transition",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:y.isPending||N.isPending,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-semibold disabled:opacity-50 transition",children:y.isPending||N.isPending?"Saving...":i?"Update Category":"Create Category"})]})]})]})})]})})}function Z1(){const[l,r]=C.useState(""),[i,c]=C.useState("all"),[u,m]=C.useState(null),[x,h]=C.useState(!1),{data:b=[],isLoading:f,error:g}=ie({queryKey:["admin-users",i,l],queryFn:()=>{const _={};return i!=="all"&&(_.user_type=i),l&&(_.search=l),console.log("Fetching users with params:",_),En.adminList(_).then(v=>(console.log("Users response:",v.data),v.data))}});console.log("Users data:",b),console.log("Loading:",f),console.log("Error:",g);const{data:y}=ie({queryKey:["admin-user-stats"],queryFn:()=>En.adminStats().then(_=>_.data)}),{data:N}=ie({queryKey:["admin-user-detail",u?.id],queryFn:()=>En.adminDetail(u.id).then(_=>_.data),enabled:!!u}),O=_=>{m(_),h(!0)},w=()=>{m(null),h(!1)};return f?e.jsx(me,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading users..."})]})}):e.jsx(me,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Users Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage all platform users"})]}),y&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-blue-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Total Users"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:y.total_users})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-yellow-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"Verified"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-600 mt-2",children:y.verified})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-orange-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:"New (30d)"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:y.new_users_last_30_days})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-green-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:" Buyers"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:y.buyers})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-purple-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:" Sellers"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:y.sellers})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-l-4 border-red-600",children:[e.jsx("p",{className:"text-sm text-gray-600 uppercase font-semibold",children:" Admins"}),e.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:y.admins||0})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg font-semibold transition ${i==="all"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Users"}),e.jsx("button",{onClick:()=>c("buyer"),className:`px-4 py-2 rounded-lg font-semibold transition ${i==="buyer"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Buyers"}),e.jsx("button",{onClick:()=>c("seller"),className:`px-4 py-2 rounded-lg font-semibold transition ${i==="seller"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Sellers"}),e.jsx("button",{onClick:()=>c("admin"),className:`px-4 py-2 rounded-lg font-semibold transition ${i==="admin"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Admins"})]}),e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:l,onChange:_=>r(_.target.value),placeholder:"Search by username, email, phone, or name...",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700",children:"User"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700",children:"Contact"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700",children:"Type"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700",children:"Stats"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700",children:"Status"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700",children:"Joined"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:b.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"No users found"})})}):b.map(_=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:_.username}),e.jsxs("p",{className:"text-sm text-gray-500",children:[_.first_name," ",_.last_name]})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"text-gray-900",children:_.email}),e.jsx("p",{className:"text-gray-500",children:_.phone_number||""})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${_.user_type==="admin"?"bg-red-100 text-red-700":_.user_type==="buyer"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:_.user_type==="admin"?" Admin":_.user_type==="buyer"?"Buyer":"Seller"})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{className:"text-gray-900",children:["Won: ",e.jsx("span",{className:"font-semibold",children:_.auctions_won})]}),e.jsxs("p",{className:"text-gray-600",children:["Spent: ",L(_.total_spent)]})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${_.is_verified?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:_.is_verified?" Verified":" Unverified"}),e.jsxs("span",{className:"text-xs text-gray-600",children:["Trust: ",_.trust_score,"/100"]})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("p",{className:"text-sm text-gray-600",children:new Date(_.date_joined).toLocaleDateString()})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("button",{onClick:()=>O(_),className:"text-blue-600 hover:text-blue-700 font-medium text-sm",children:"View Details"})})]},_.id))})]})}),x&&u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b sticky top-0 bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["User Details: ",u.username]}),e.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]})}),N?e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Full Name"}),e.jsxs("p",{className:"text-gray-900",children:[u.first_name," ",u.last_name]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Email"}),e.jsx("p",{className:"text-gray-900",children:u.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Phone"}),e.jsx("p",{className:"text-gray-900",children:u.phone_number||""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"User Type"}),e.jsx("p",{className:"text-gray-900 capitalize",children:u.user_type})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Statistics"}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:N.stats.total_orders})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Spent"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:L(N.stats.total_spent)})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Bids"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:N.stats.total_bids})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Participations"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:N.stats.total_participations})]})]})]}),N.recent_orders.length>0&&e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Recent Orders"}),e.jsx("div",{className:"space-y-2",children:N.recent_orders.map(_=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:_.order_number}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(_.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold",children:L(_.total_amount)}),e.jsx("span",{className:`text-xs px-2 py-1 rounded ${_.status==="delivered"?"bg-green-100 text-green-700":_.status==="shipped"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:_.status})]})]},_.id))})]}),N.recent_bids.length>0&&e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Recent Bids"}),e.jsx("div",{className:"space-y-2",children:N.recent_bids.map(_=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:_.auction_title}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(_.submitted_at).toLocaleDateString()})]}),e.jsx("p",{className:"font-semibold text-red-600",children:L(_.pledge_amount)})]},_.id))})]})]}):e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading user details..."})]})]})})]})})}function J1(){const{data:l=[],isLoading:r,isError:i}=ie({queryKey:["categories"],queryFn:()=>ee.get("/api/categories/").then(c=>c.data?.results||c.data||[])});return r?e.jsx("p",{className:"text-center mt-10",children:"Loading categories..."}):i?e.jsx("p",{className:"text-center mt-10 text-red-500",children:"Failed to load categories."}):e.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Browse Categories"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:l.map(c=>e.jsxs(X,{to:`/category/${c.id}`,className:"border rounded-lg overflow-hidden shadow-md hover:shadow-lg transition bg-white",children:[e.jsx("img",{src:c.image?`${c.image}`:"/placeholder.jpg",alt:c.name,className:"w-full h-40 object-cover"}),e.jsx("div",{className:"p-3",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:c.name})})]},c.id))})]})}function W1(){const{id:l}=pt(),{data:r,isLoading:i,isError:c}=ie({queryKey:["category",l],queryFn:()=>ee.get(`/api/categories/${l}/`).then(m=>m.data)}),{data:u=[]}=ie({queryKey:["category-products",l],queryFn:()=>ee.get(`/api/categories/${l}/products/`).then(m=>m.data)});return i?e.jsx("p",{className:"text-center mt-10",children:"Loading category..."}):c?e.jsx("p",{className:"text-center mt-10 text-red-500",children:"Failed to load category."}):e.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:r.name}),e.jsx("p",{className:"text-gray-600",children:r.description})]}),u.length===0?e.jsx("p",{className:"text-center text-gray-600",children:"No products in this category yet."}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:u.map(m=>e.jsxs(X,{to:`/auction/${m.id}`,className:"border rounded-lg overflow-hidden shadow-md hover:shadow-lg transition bg-white",children:[e.jsx("img",{src:m.main_image?`${m.main_image}`:"/placeholder.jpg",alt:m.title,className:"w-full h-40 object-cover"}),e.jsxs("div",{className:"p-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-1",children:m.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:L(m.base_price)}),e.jsx("p",{className:"text-xs text-gray-500 line-clamp-2",children:m.description})]})]},m.id))})]})}function I1(){const{data:l=[],isLoading:r}=ie({queryKey:["buyNowAll"],queryFn:()=>ct.getAll().then(c=>c.data?.results||c.data||[])}),i=l.filter(c=>(c.product_type==="buy_now"||c.product_type==="both")&&c.status==="active");return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-orange-50",children:e.jsx("p",{className:"text-gray-600",children:"Loading Buy Now products..."})}):e.jsx("div",{className:"bg-gray-50 min-h-screen py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-orange-600 mb-6",children:"Buy Now - Instant Purchase"}),i.length===0?e.jsx("div",{className:"text-center text-gray-500",children:"No Buy Now products available at the moment."}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:i.map(c=>e.jsx(Mi,{product:c},c.id))})]})})}function e2(){const{id:l}=pt(),r=It(),[i,c]=C.useState({base_price:"",participation_fee:"",min_pledge:"",max_pledge:""}),[u,m]=C.useState(!1),x=b=>{c({...i,[b.target.name]:b.target.value})},h=async b=>{if(b.preventDefault(),!i.base_price||isNaN(i.base_price)){alert("Please enter a valid Base Price");return}if(!i.participation_fee||isNaN(i.participation_fee)){alert("Please enter a valid Entry Fee");return}if(!i.min_pledge||isNaN(i.min_pledge)){alert("Please enter a valid Min Pledge");return}if(i.max_pledge&&isNaN(i.max_pledge)){alert("Please enter a valid Max Pledge or leave blank for Unlimited");return}m(!0);try{const f={base_price:parseFloat(i.base_price),participation_fee:parseFloat(i.participation_fee),min_pledge:parseFloat(i.min_pledge),max_pledge:i.max_pledge?parseFloat(i.max_pledge):null},g=await ee.post(`/auctions/${l}/create_next_round/`,f,{headers:{Authorization:`Bearer ${localStorage.getItem("bidmarket_access_token")}`}});alert(` Next round created successfully!
Round ID: ${g.data.round_id}`),r(`/management/products/${l}`)}catch(f){console.error(f),alert(" Failed to create next round: "+(f.response?.data?.error||f.message))}finally{m(!1)}};return e.jsxs("div",{className:"max-w-2xl mx-auto py-12",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Create Next Round"}),e.jsxs("form",{className:"bg-white p-6 rounded-lg shadow-lg space-y-4",onSubmit:h,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-1 font-semibold",children:"Base Price (KES)"}),e.jsx("input",{type:"number",name:"base_price",value:i.base_price,onChange:x,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0,min:"0",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-1 font-semibold",children:"Entry Fee (KES)"}),e.jsx("input",{type:"number",name:"participation_fee",value:i.participation_fee,onChange:x,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0,min:"0",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-1 font-semibold",children:"Min Pledge (KES)"}),e.jsx("input",{type:"number",name:"min_pledge",value:i.min_pledge,onChange:x,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0,min:"0",step:"0.01"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 mb-1 font-semibold",children:["Max Pledge (KES) ",e.jsx("span",{className:"text-gray-400",children:"(Leave blank for Unlimited)"})]}),e.jsx("input",{type:"number",name:"max_pledge",value:i.max_pledge,onChange:x,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",min:"0",step:"0.01"})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[e.jsx("button",{type:"button",onClick:()=>r(-1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",disabled:u,children:u?" Creating...":"Create Round"})]})]})]})}function t2(){const{productId:l,roundId:r}=pt(),{data:i,isLoading:c,error:u}=ie({queryKey:["round-bids",r],queryFn:async()=>(await ee.get(`/auctions/${l}/rounds/${r}/bids/`)).data});if(c)return e.jsx(me,{children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin text-4xl mb-4",children:""}),e.jsx("p",{children:"Loading bids..."})]})})});if(u)return e.jsx(me,{children:e.jsxs("div",{className:"text-center py-12 text-red-600",children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Error loading bids"}),e.jsx("p",{children:u.message})]})});if(!i||i.length===0)return e.jsx(me,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:"No Bids Found"}),e.jsx(X,{to:`/management/auctions/${l}`,className:"text-blue-600 hover:underline mt-4 inline-block",children:" Back to Auction"})]})});const m=[...i].sort((x,h)=>(h.pledge_amount||h.amount||0)-(x.pledge_amount||x.amount||0));return e.jsx(me,{children:e.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[e.jsxs("h1",{className:"text-2xl font-bold mb-6",children:["Bids - Round ",r]}),e.jsxs("table",{className:"w-full text-left border border-gray-200 rounded",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"px-4 py-2 border",children:"#"}),e.jsx("th",{className:"px-4 py-2 border",children:"Username"}),e.jsx("th",{className:"px-4 py-2 border",children:"Full Name"}),e.jsx("th",{className:"px-4 py-2 border",children:"Phone"}),e.jsx("th",{className:"px-4 py-2 border",children:"Age"}),e.jsx("th",{className:"px-4 py-2 border",children:"Pledge"}),e.jsx("th",{className:"px-4 py-2 border",children:"Rank"})]})}),e.jsx("tbody",{children:m.map((x,h)=>{const b=x.user||{},f=x.pledge_amount??x.amount??0;return e.jsxs("tr",{className:h%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 border text-center",children:h+1}),e.jsx("td",{className:"px-4 py-2 border",children:b.username||"Unknown"}),e.jsx("td",{className:"px-4 py-2 border",children:b.full_name||"Unknown"}),e.jsx("td",{className:"px-4 py-2 border",children:b.phone||b.phone_number||"-"}),e.jsx("td",{className:"px-4 py-2 border",children:b.age??"-"}),e.jsx("td",{className:"px-4 py-2 border",children:L(f)}),e.jsx("td",{className:"px-4 py-2 border",children:h+1})]},x.id)})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(X,{to:`/management/auctions/${l}`,className:"text-blue-600 hover:underline",children:" Back to Auction"})})]})})}function s2(){const{productId:l,roundId:r}=pt(),{data:i,isLoading:c,error:u}=ie({queryKey:["round-detail",r],queryFn:async()=>(await ee.get(`/rounds/${r}/`)).data});if(c)return e.jsx(me,{children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-semibold",children:"Loading round details..."})]})})});if(u)return e.jsx(me,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-2",children:"Error Loading Round"}),e.jsx("p",{className:"text-gray-600",children:u.message}),e.jsx(X,{to:`/management/products/${l}`,className:"inline-block mt-6 px-6 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700",children:" Back to Product"})]})});const m=[...i.participants||[]].filter(f=>f.payment_status==="completed").sort((f,g)=>(g.pledge_amount||0)-(f.pledge_amount||0)),x=m.length>0?m[0].pledge_amount:0,h=(i.participation_fee||0)*(i.participant_count||0),b=m.length>0?m.reduce((f,g)=>f+(g.pledge_amount||0),0)/m.length:0;return e.jsx(me,{children:e.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs(X,{to:`/management/products/${l}`,className:"text-blue-600 hover:underline mb-2 inline-flex items-center gap-2 font-semibold",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Product"]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsxs("h1",{className:"text-4xl font-bold text-gray-900",children:["Round ",i.round_number]}),i.is_active?e.jsx("span",{className:"px-4 py-2 bg-green-500 text-white rounded-full text-sm font-bold animate-pulse",children:"LIVE"}):e.jsx("span",{className:"px-4 py-2 bg-gray-500 text-white rounded-full text-sm font-bold",children:"CLOSED"})]})]})}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-2xl p-8 text-white",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx("span",{children:""})," Round Statistics"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[e.jsx("p",{className:"text-blue-100 text-sm font-semibold mb-1",children:"Entry Fee"}),e.jsx("p",{className:"text-3xl font-bold",children:L(i.participation_fee)})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[e.jsx("p",{className:"text-blue-100 text-sm font-semibold mb-1",children:"Min Pledge"}),e.jsx("p",{className:"text-3xl font-bold",children:L(i.min_pledge)})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[e.jsx("p",{className:"text-blue-100 text-sm font-semibold mb-1",children:"Max Pledge"}),e.jsx("p",{className:"text-3xl font-bold",children:L(i.max_pledge)})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[e.jsx("p",{className:"text-blue-100 text-sm font-semibold mb-1",children:"Participants"}),e.jsx("p",{className:"text-3xl font-bold",children:i.participant_count||0})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[e.jsx("p",{className:"text-blue-100 text-sm font-semibold mb-1",children:"Total Bids"}),e.jsx("p",{className:"text-3xl font-bold",children:i.bid_count||0})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[e.jsx("p",{className:"text-blue-100 text-sm font-semibold mb-1",children:"Revenue"}),e.jsx("p",{className:"text-2xl font-bold",children:L(h)})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 border-t-4 border-green-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-600 uppercase",children:"Highest Pledge"}),e.jsx("span",{className:"text-3xl",children:""})]}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:x>0?L(x):"No bids"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 border-t-4 border-purple-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-600 uppercase",children:"Average Pledge"}),e.jsx("span",{className:"text-3xl",children:""})]}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:L(b)})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 border-t-4 border-orange-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-600 uppercase",children:"Duration"}),e.jsx("span",{className:"text-3xl",children:""})]}),e.jsxs("p",{className:"text-lg font-semibold text-gray-700",children:[new Date(i.start_time).toLocaleDateString()," - ",new Date(i.end_time).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6",children:e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx("span",{children:""})," Participants Leaderboard (",m.length,")"]})}),e.jsx("div",{className:"p-6",children:m.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-gray-200",children:[e.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Rank"}),e.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Full Name"}),e.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Username"}),e.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Contact"}),e.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Age"}),e.jsx("th",{className:"text-right py-4 px-4 font-semibold text-gray-700",children:"Pledge Amount"}),e.jsx("th",{className:"text-center py-4 px-4 font-semibold text-gray-700",children:"Status"})]})}),e.jsx("tbody",{children:m.map((f,g)=>{const y=f.user||{},N=y.full_name||`${y.first_name||""} ${y.last_name||""}`.trim()||"Unknown",O=y.username||"Unknown",w=y.phone_number||"-",_=y.email||"-",v=y.age??"-",S=f.pledge_amount??0;return e.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gray-50 transition ${g===0?"bg-yellow-50":""}`,children:[e.jsx("td",{className:"py-4 px-4",children:g===0?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-3xl",children:""}),e.jsx("span",{className:"font-bold text-xl text-yellow-600",children:"#1"})]}):g===1?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsx("span",{className:"font-semibold text-lg text-gray-500",children:"#2"})]}):g===2?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsx("span",{className:"font-semibold text-lg text-gray-500",children:"#3"})]}):e.jsxs("span",{className:"font-semibold text-gray-600 text-lg",children:["#",g+1]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:"font-medium text-gray-900 text-lg",children:N})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("span",{className:"text-gray-600",children:["@",O]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("div",{className:"mb-1",children:_}),e.jsx("div",{className:"text-gray-500",children:w})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:"text-gray-600",children:v})}),e.jsx("td",{className:"py-4 px-4 text-right",children:e.jsx("span",{className:`font-bold text-xl ${g===0?"text-green-600":g===1?"text-blue-600":g===2?"text-orange-600":"text-gray-900"}`,children:L(S)})}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"Paid"})})]},f.id)})})]})}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Participants Yet"}),e.jsx("p",{className:"text-gray-600",children:"This round hasn't received any participants yet."})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:""})," Round Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 font-semibold mb-1",children:"Round ID"}),e.jsx("p",{className:"text-gray-900 font-mono text-xs",children:i.id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 font-semibold mb-1",children:"Base Price"}),e.jsx("p",{className:"text-gray-900 font-bold",children:L(i.base_price)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 font-semibold mb-1",children:"Start Time"}),e.jsx("p",{className:"text-gray-900",children:new Date(i.start_time).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 font-semibold mb-1",children:"End Time"}),e.jsx("p",{className:"text-gray-900",children:new Date(i.end_time).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 font-semibold mb-1",children:"Status"}),e.jsx("p",{className:"text-gray-900 font-bold",children:i.is_active?" Active":" Closed"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 font-semibold mb-1",children:"Is Open for Bids"}),e.jsx("p",{className:"text-gray-900 font-bold",children:i.is_open?" Yes":" No"})]})]})]})]})})}function a2(){const{productId:l}=pt(),{data:r,isLoading:i,error:c}=ie({queryKey:["winner-calculation",l],queryFn:async()=>(await ee.get(`/auctions/${l}/winner_calculation/`)).data});if(i)return e.jsx(me,{children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-semibold",children:"Calculating winner..."})]})})});if(c)return e.jsx(me,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-2",children:"Error Loading Calculation"}),e.jsx("p",{className:"text-gray-600",children:c.message}),e.jsx(X,{to:`/management/products/${l}`,className:"inline-block mt-6 px-6 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700",children:" Back to Product"})]})});if(!r||r.total_rounds===0)return e.jsx(me,{children:e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs(X,{to:`/management/products/${l}`,className:"text-blue-600 hover:underline mb-4 inline-flex items-center gap-2 font-semibold",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Product"]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center mt-6",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Rounds Created Yet"}),e.jsx("p",{className:"text-gray-600",children:"Create rounds to calculate the winner"})]})]})});const{auction:u,total_rounds:m,total_participants:x,winner:h,all_participants:b}=r;return e.jsx(me,{children:e.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs(X,{to:`/management/products/${l}`,className:"text-blue-600 hover:underline mb-2 inline-flex items-center gap-2 font-semibold",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Product"]}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mt-2",children:"Winner Calculation"}),e.jsx("p",{className:"text-gray-600 mt-2",children:u.title})]}),e.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-600 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-blue-900 mb-2 flex items-center gap-2",children:[e.jsx("span",{children:""})," How Winner is Calculated"]}),e.jsxs("div",{className:"text-blue-800 space-y-2",children:[e.jsxs("p",{children:[" Each user's ",e.jsx("strong",{children:"average pledge"})," is calculated across ",e.jsxs("strong",{children:["ALL ",m," rounds"]})]}),e.jsxs("p",{children:[" If a user didn't participate in a round, their pledge for that round is ",e.jsx("strong",{children:"KES 0"})]}),e.jsxs("p",{children:[" Formula: ",e.jsxs("code",{className:"bg-blue-100 px-2 py-1 rounded",children:["Average = (Total Pledges)  ",m," rounds"]})]}),e.jsxs("p",{children:[" User with the ",e.jsx("strong",{children:"highest average pledge wins"})," "]})]})]}),h&&e.jsx("div",{className:"bg-gradient-to-br from-yellow-400 via-yellow-500 to-orange-500 rounded-xl shadow-2xl p-8 text-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),e.jsx("h2",{className:"text-4xl font-bold mb-2",children:"WINNER"}),e.jsx("h3",{className:"text-3xl font-bold mb-4",children:h.user.full_name||h.user.username}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-6 inline-block",children:[e.jsx("p",{className:"text-yellow-100 text-sm font-semibold mb-1",children:"Average Pledge"}),e.jsx("p",{className:"text-5xl font-bold",children:L(h.average_pledge)})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4 max-w-2xl mx-auto",children:[e.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[e.jsx("p",{className:"text-yellow-100 text-xs font-semibold mb-1",children:"Total Pledged"}),e.jsx("p",{className:"text-2xl font-bold",children:L(h.total_pledge)})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[e.jsx("p",{className:"text-yellow-100 text-xs font-semibold mb-1",children:"Rounds Participated"}),e.jsxs("p",{className:"text-2xl font-bold",children:[h.rounds_participated," / ",m]})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[e.jsx("p",{className:"text-yellow-100 text-xs font-semibold mb-1",children:"Contact"}),e.jsx("p",{className:"text-sm font-semibold truncate",children:h.user.email})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-6",children:e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx("span",{children:""})," Complete Rankings (",x," Participants)"]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-gray-200",children:[e.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Rank"}),e.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Participant"}),e.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Contact"}),e.jsx("th",{className:"text-center py-4 px-4 font-semibold text-gray-700",children:"Participated In"}),e.jsx("th",{className:"text-right py-4 px-4 font-semibold text-gray-700",children:"Total Pledged"}),e.jsx("th",{className:"text-right py-4 px-4 font-semibold text-gray-700",children:"Average Pledge"})]})}),e.jsx("tbody",{children:b.map((f,g)=>e.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gray-50 transition ${g===0?"bg-yellow-50":""}`,children:[e.jsx("td",{className:"py-4 px-4",children:g===0?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-3xl",children:""}),e.jsx("span",{className:"font-bold text-xl text-yellow-600",children:"#1"})]}):g===1?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsx("span",{className:"font-semibold text-lg text-gray-500",children:"#2"})]}):g===2?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsx("span",{className:"font-semibold text-lg text-gray-500",children:"#3"})]}):e.jsxs("span",{className:"font-semibold text-gray-600 text-lg",children:["#",g+1]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:f.user.full_name||f.user.username}),e.jsxs("p",{className:"text-sm text-gray-500",children:["@",f.user.username]})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("div",{children:f.user.email}),e.jsx("div",{className:"text-gray-500",children:f.user.phone_number||"N/A"})]})}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold",children:[f.rounds_participated," / ",m," rounds"]})}),e.jsx("td",{className:"py-4 px-4 text-right",children:e.jsx("span",{className:"font-bold text-lg text-gray-900",children:L(f.total_pledge)})}),e.jsx("td",{className:"py-4 px-4 text-right",children:e.jsx("span",{className:`font-bold text-xl ${g===0?"text-green-600":g===1?"text-blue-600":g===2?"text-orange-600":"text-gray-900"}`,children:L(f.average_pledge)})})]},f.user.id))})]})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Detailed Round-by-Round Breakdown"}),b.map((f,g)=>e.jsxs("details",{className:"bg-white rounded-lg shadow-md overflow-hidden",open:g===0,children:[e.jsx("summary",{className:"cursor-pointer p-6 hover:bg-gray-50 transition",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-2xl",children:g===0?"":g===1?"":g===2?"":""}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:f.user.full_name||f.user.username}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Average: ",L(f.average_pledge)," | Participated in ",f.rounds_participated," of ",m," rounds"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Pledged"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:L(f.total_pledge)})]})]})}),e.jsx("div",{className:"p-6 bg-gray-50 border-t",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:f.round_details.map(y=>e.jsxs("div",{className:`p-4 rounded-lg border-2 ${y.participated?"bg-green-50 border-green-300":"bg-gray-100 border-gray-300"}`,children:[e.jsxs("p",{className:"text-xs font-semibold text-gray-600 mb-1",children:["Round ",y.round_number]}),e.jsx("p",{className:`text-lg font-bold ${y.participated?"text-green-700":"text-gray-400"}`,children:L(y.pledge_amount)}),e.jsx("p",{className:"text-xs mt-1",children:y.participated?e.jsx("span",{className:"text-green-600",children:" Participated"}):e.jsx("span",{className:"text-gray-500",children:" Not joined"})})]},y.round_number))})})]},f.user.id))]})]})})}function l2(){const{user:l}=Ai(),[r,i]=C.useState("overview"),[c,u]=C.useState(null),{data:m,isLoading:x,error:h}=ie({queryKey:["user-bidding-history"],queryFn:async()=>{const R=await w1();console.log("Raw bids data from API:",R);const D=[...new Set(R.map(ae=>ae.auction))];console.log("Unique auction IDs:",D);const Y=D.map(ae=>ee.get(`/auctions/${ae}/`).then(ce=>ce.data).catch(ce=>(console.error(`Failed to fetch auction ${ae}:`,ce),null))),J=await Promise.all(Y),ne={};J.forEach(ae=>{ae&&(ne[ae.id]=ae)});const ge=R.map(ae=>({...ae,auction_info:ne[ae.auction]?{id:ne[ae.auction].id,title:ne[ae.auction].title,status:ne[ae.auction].status}:null}));return console.log("Bids with auction info:",ge),ge},staleTime:0,cacheTime:0}),{data:b,isLoading:f,error:g}=ie({queryKey:["user-participations"],queryFn:async()=>{const R=await ee.get("/participations/my_participations/");return R.data?.results||R.data||[]}}),{data:y,isLoading:N,error:O}=ie({queryKey:["user-purchases"],queryFn:async()=>{try{const R=await ee.get("/orders/");return R.data?.results||R.data||[]}catch(R){if(R.response?.status===404)return[];throw R}}}),w=m||[],_=(y||[]).filter(R=>R.payment_status!=="pending");w.length>0&&(console.log("First bid from API:",w[0]),console.log("Has auction_info?",!!w[0].auction_info),console.log("auction_info content:",w[0].auction_info));const v=w.reduce((R,D)=>{const Y=D.auction_info?.id||D.auction,J=D.auction_info?.title||"Unknown Auction",ne=D.auction_info?.status||"unknown";return Y?(R[Y]||(R[Y]={auctionId:Y,auctionTitle:J,auctionStatus:ne,bids:[]}),R[Y].bids.push(D),R):(console.warn(" Bid without auction ID:",D),R)},{}),S=Object.values(v).map(({auctionId:R,auctionTitle:D,auctionStatus:Y,bids:J})=>{const ne=[...new Set(J.map(Ae=>Ae.round_number||Ae.round_info?.round_number))].length,ge=J.reduce((Ae,P)=>Ae+parseFloat(P.pledge_amount||0),0),ae=ge/J.length,ce=Math.max(...J.map(Ae=>parseFloat(Ae.pledge_amount||0))),Ke=Math.min(...J.map(Ae=>parseFloat(Ae.pledge_amount||0))),Pe=J.reduce((Ae,P)=>{const Z=P.round_number||P.round_info?.round_number||"Unknown";return Ae[Z]||(Ae[Z]=[]),Ae[Z].push(P),Ae},{});return{auction:{id:R,title:D,status:Y},bids:J,roundsParticipated:ne,totalPledged:ge,averagePledge:ae,highestPledge:ce,lowestPledge:Ke,bidsByRound:Pe}}),M=w.length,F=_.length,z=_.reduce((R,D)=>R+parseFloat(D.total_amount||0),0);return x||f||N?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-orange-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-semibold",children:"Loading your dashboard..."})]})}):h||g||O?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error Loading Dashboard"}),e.jsx("p",{className:"text-gray-600 mb-4",children:h?.message||g?.message||O?.message||"Failed to load data"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-orange-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-orange-700",children:"Retry"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white text-3xl font-bold shadow-lg",children:l?.first_name?.[0]?.toUpperCase()||l?.username?.[0]?.toUpperCase()||"U"}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[l?.first_name," ",l?.last_name]}),e.jsxs("div",{className:"space-y-1 text-gray-600",children:[e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:" Username:"}),e.jsxs("span",{children:["@",l?.username]})]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:" Email:"}),e.jsx("span",{children:l?.email})]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:" Phone:"}),e.jsx("span",{children:l?.phone_number||"Not provided"})]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:" Age:"}),e.jsx("span",{children:l?.age||"Not provided"})]})]})]})]}),e.jsx(X,{to:"/profile",className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-semibold",children:"Edit Profile"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-3xl",children:""}),e.jsx("span",{className:"text-blue-100 text-sm font-semibold",children:"YOUR BIDS"})]}),e.jsx("p",{className:"text-4xl font-bold mb-1",children:M}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Total Bids Placed"}),e.jsxs("p",{className:"text-blue-200 text-xs mt-2",children:[Object.keys(v).length," auctions"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl shadow-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-3xl",children:""}),e.jsx("span",{className:"text-orange-100 text-sm font-semibold",children:"PURCHASES"})]}),e.jsx("p",{className:"text-3xl font-bold mb-1",children:L(z)}),e.jsx("p",{className:"text-orange-100 text-sm",children:"Total Spent"}),e.jsxs("p",{className:"text-orange-200 text-xs mt-2",children:[F," orders"]})]})]}),e.jsx("div",{className:"bg-white rounded-t-xl shadow-sm border-b border-gray-200",children:e.jsxs("div",{className:"flex space-x-8 px-6",children:[e.jsx("button",{onClick:()=>i("overview"),className:`py-4 font-semibold border-b-2 transition ${r==="overview"?"border-orange-600 text-orange-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:" Overview"}),e.jsx("button",{onClick:()=>i("bidding"),className:`py-4 font-semibold border-b-2 transition ${r==="bidding"?"border-orange-600 text-orange-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:" Bidding History"}),e.jsx("button",{onClick:()=>i("purchases"),className:`py-4 font-semibold border-b-2 transition ${r==="purchases"?"border-orange-600 text-orange-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:" Purchase History"})]})}),e.jsxs("div",{className:"bg-white rounded-b-xl shadow-lg p-6",children:[r==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Quick Overview"}),S.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Your Auctions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:S.map(R=>e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg p-6 border-2 border-blue-200",children:[e.jsx(X,{to:`/auction/${R.auction.id}`,className:"text-xl font-bold text-gray-900 hover:text-orange-600 mb-2 block",children:R.auction.title}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Rounds Participated"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:R.roundsParticipated})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Bids"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:R.bids.length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Average Pledge"}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:L(R.averagePledge)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Pledged"}),e.jsx("p",{className:"text-xl font-bold text-orange-600",children:L(R.totalPledged)})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Highest: ",L(R.highestPledge)]}),e.jsxs("span",{className:"text-gray-600",children:["Lowest: ",L(R.lowestPledge)]})]})})]},R.auction.id))})]}):e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Bidding Activity Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Start bidding on auctions to see your statistics here"}),e.jsx(X,{to:"/",className:"inline-block bg-orange-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-orange-700",children:"Browse Auctions"})]}),_.length>0&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Recent Purchases"}),e.jsx("div",{className:"space-y-3",children:_.slice(0,3).map(R=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:R.product_title||"Product"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Order #",R.order_number]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-lg text-blue-600",children:L(R.total_amount)}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${R.order_status==="delivered"?"bg-green-100 text-green-700":R.order_status==="shipped"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:R.order_status})]})]},R.id))})]})]}),r==="bidding"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"My Bidding History"}),S.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-gray-200 bg-gray-50",children:[e.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Product / Auction Item"}),e.jsx("th",{className:"text-center py-4 px-4 font-semibold text-gray-700",children:"Round"}),e.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"My Pledges"}),e.jsx("th",{className:"text-right py-4 px-4 font-semibold text-gray-700",children:"Highest Pledge"}),e.jsx("th",{className:"text-right py-4 px-4 font-semibold text-gray-700",children:"Average"}),e.jsx("th",{className:"text-center py-4 px-4 font-semibold text-gray-700",children:"Status"})]})}),e.jsx("tbody",{children:S.map(R=>{const D=R.totalPledged/R.bids.length;return Object.entries(R.bidsByRound).map(([Y,J],ne)=>{const ge=Math.max(...J.map(ce=>parseFloat(ce.pledge_amount||0))),ae=J.reduce((ce,Ke)=>ce+parseFloat(Ke.pledge_amount||0),0)/J.length;return e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[ne===0&&e.jsxs("td",{className:"py-4 px-4 align-top",rowSpan:Object.keys(R.bidsByRound).length,children:[e.jsx(X,{to:`/auction/${R.auction.id}`,className:"font-bold text-blue-600 hover:text-blue-800 text-lg",children:R.auction.title}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[R.roundsParticipated," round(s)  ",R.bids.length," total bids"]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Average Pledge:"}),e.jsx("p",{className:"text-lg font-bold text-purple-600",children:L(D)})]})]}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsxs("span",{className:"inline-block bg-blue-100 text-blue-700 px-3 py-1 rounded-full font-semibold text-sm",children:["Round ",Y]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{className:"space-y-2",children:J.map((ce,Ke)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("span",{className:"text-xs text-gray-400 font-semibold mt-1",children:["#",Ke+1,"."]}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-green-600 text-base",children:L(ce.pledge_amount)}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsxs("span",{className:"text-gray-500 text-xs",children:[new Date(ce.submitted_at).toLocaleDateString()," ",new Date(ce.submitted_at).toLocaleTimeString()]})]})})]},ce.id))})}),e.jsx("td",{className:"py-4 px-4 text-right",children:e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"font-bold text-xl text-orange-600",children:L(ge)}),e.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[J.length," ",J.length===1?"bid":"bids"]})]})}),e.jsx("td",{className:"py-4 px-4 text-right",children:e.jsx("span",{className:"font-bold text-lg text-blue-600",children:L(ae)})}),ne===0&&e.jsx("td",{className:"py-4 px-4 text-center align-top",rowSpan:Object.keys(R.bidsByRound).length,children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${R.auction.status==="active"?"bg-green-100 text-green-700":R.auction.status==="closed"?"bg-gray-100 text-gray-700":"bg-yellow-100 text-yellow-700"}`,children:R.auction.status?.toUpperCase()})})]},`${R.auction.id}-${Y}`)})})})]})}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Bids Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Start bidding on auctions to see your history here"}),e.jsx(X,{to:"/",className:"inline-block bg-orange-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-orange-700",children:"Browse Auctions"})]})]}),r==="purchases"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"My Purchase History"}),_.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Order #"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Product"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700",children:"Quantity"}),e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Total"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Date"})]})}),e.jsx("tbody",{children:_.map(R=>{const D=c===R.id,Y=R.items?.reduce((J,ne)=>J+ne.quantity,0)||0;return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 cursor-pointer",onClick:()=>u(D?null:R.id),children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-500",children:D?"":""}),e.jsx("span",{className:"font-mono font-semibold text-gray-900",children:R.order_number})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("p",{className:"font-semibold text-gray-900",children:R.items?.length>1?`${R.items.length} items`:R.items?.[0]?.product_title||"Product"})}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsx("span",{className:"font-semibold text-gray-900",children:Y})}),e.jsx("td",{className:"py-4 px-4 text-right",children:e.jsx("span",{className:"font-bold text-lg text-blue-600",children:L(R.total_amount)})}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${R.status==="pending"?"bg-yellow-100 text-yellow-700":R.status==="paid"?"bg-green-100 text-green-700":R.status==="processing"?"bg-blue-100 text-blue-700":R.status==="shipped"?"bg-purple-100 text-purple-700":R.status==="delivered"?"bg-teal-100 text-teal-700":"bg-red-100 text-red-700"}`,children:R.status})}),e.jsx("td",{className:"py-4 px-4 text-gray-600",children:new Date(R.created_at).toLocaleDateString()})]},R.id),D&&e.jsx("tr",{className:"bg-gray-50",children:e.jsx("td",{colSpan:"6",className:"py-4 px-8",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Order Details"}),e.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-3",children:[e.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"Items:"}),R.items?.map((J,ne)=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:J.product_title}),e.jsxs("p",{className:"text-sm text-gray-600",children:[L(J.product_price),"  ",J.quantity]})]}),e.jsx("p",{className:"font-semibold text-gray-900",children:L(J.total_price)})]},ne)),e.jsxs("div",{className:"border-t border-gray-200 pt-3 mt-3 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),e.jsx("span",{className:"font-medium",children:L(R.subtotal)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Shipping:"}),e.jsx("span",{className:"font-medium",children:L(R.shipping_fee)})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{className:"text-blue-600",children:L(R.total_amount)})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4",children:[e.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"Shipping Information:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Name:"}),e.jsx("p",{className:"font-medium",children:R.shipping_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Phone:"}),e.jsx("p",{className:"font-medium",children:R.shipping_phone})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-gray-600",children:"Address:"}),e.jsxs("p",{className:"font-medium",children:[R.shipping_address,", ",R.shipping_city]})]}),R.customer_notes&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-gray-600",children:"Notes:"}),e.jsx("p",{className:"font-medium",children:R.customer_notes})]})]})]}),R.paid_at&&e.jsxs("div",{className:"bg-white rounded-lg p-4",children:[e.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"Payment:"}),e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Paid on: "}),e.jsx("span",{className:"font-medium",children:new Date(R.paid_at).toLocaleString()})]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Status: "}),e.jsx("span",{className:`font-medium ${R.payment_status==="paid"?"text-green-600":"text-yellow-600"}`,children:R.payment_status})]})]})]})})},`${R.id}-details`)]})})})]})}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Purchases Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Browse our buy now products to make your first purchase"}),e.jsx(X,{to:"/",className:"inline-block bg-orange-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-orange-700",children:"Shop Now"})]})]})]})]})})}function n2(){const l=Tt(),[r,i]=C.useState(!1),[c,u]=C.useState(null),{data:m,isLoading:x}=ie({queryKey:["promobar-settings"],queryFn:()=>Se.get("/api/settings/promobar/").then(f=>f.data)}),h=Ge({mutationFn:f=>ee.put("/settings/promobar/",f),onSuccess:()=>{l.invalidateQueries(["promobar-settings"]),pe.success(" Promo bar updated successfully!"),i(!1),u(null)},onError:f=>{pe.error(f.response?.data?.error||"Failed to update promo bar")}}),b=f=>{f.preventDefault();const g=new FormData(f.target),y={brand_text:g.get("brand_text"),brand_text_mobile:g.get("brand_text_mobile"),brand_emoji:g.get("brand_emoji"),phone_number:g.get("phone_number"),phone_emoji:g.get("phone_emoji"),announcement_text:g.get("announcement_text"),cta_text:g.get("cta_text"),cta_link:g.get("cta_link"),background_color:g.get("background_color"),text_color:g.get("text_color"),accent_color:g.get("accent_color"),is_active:!0};h.mutate(y)};return x?e.jsx(me,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading promo bar settings..."})]})}):e.jsxs(me,{children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Promo Bar Management"}),e.jsx("p",{className:"text-gray-600",children:"Customize the promotional banner displayed across your site"})]}),e.jsxs("button",{onClick:()=>i(!0),className:"bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-orange-700 transition flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:""}),"Edit Promo Bar"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:""}),"Live Preview"]}),e.jsx("div",{className:"border-4 border-green-500 rounded-lg overflow-hidden",children:e.jsx("div",{className:"p-4",style:{backgroundColor:m?.background_color||"#f9e5c9",color:m?.text_color||"#1f2937"},children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"text-xl font-bold",style:{color:m?.accent_color||"#ea580c"},children:[m?.brand_emoji||""," ",m?.brand_text||"BIDSOKO LUXE"]})}),e.jsx("div",{className:"flex-1 text-center hidden md:block",children:e.jsxs("p",{className:"text-sm font-semibold",children:[m?.phone_emoji||""," ",e.jsx("span",{style:{color:m?.accent_color||"#ea580c"},className:"font-bold",children:m?.phone_number||"0711 011 011"})," ","| ",m?.announcement_text||" Free Delivery on Orders Over KES 5,000"]})}),e.jsx("div",{children:e.jsx("span",{className:"px-6 py-2 rounded-full font-bold text-sm text-white",style:{backgroundColor:m?.accent_color||"#ea580c"},children:m?.cta_text||"SHOP NOW"})})]})})})}),e.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"This is how the promo bar will appear on your website"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:""}),"Current Settings"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Brand Settings"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Brand Text:"}),e.jsx("span",{className:"font-medium",children:m?.brand_text})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Mobile Text:"}),e.jsx("span",{className:"font-medium",children:m?.brand_text_mobile})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Brand Emoji:"}),e.jsx("span",{className:"font-medium text-xl",children:m?.brand_emoji})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Contact Settings"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Phone Number:"}),e.jsx("span",{className:"font-medium",children:m?.phone_number})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Phone Emoji:"}),e.jsx("span",{className:"font-medium text-xl",children:m?.phone_emoji})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Announcement"}),e.jsx("p",{className:"text-sm text-gray-700",children:m?.announcement_text})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Call-to-Action"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Button Text:"}),e.jsx("span",{className:"font-medium",children:m?.cta_text})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Button Link:"}),e.jsx("span",{className:"font-medium text-orange-600",children:m?.cta_link})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 md:col-span-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Color Scheme"}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-12 h-12 rounded border-2 border-gray-300",style:{backgroundColor:m?.background_color}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Background"}),e.jsx("p",{className:"text-sm font-medium",children:m?.background_color})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-12 h-12 rounded border-2 border-gray-300",style:{backgroundColor:m?.text_color}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Text"}),e.jsx("p",{className:"text-sm font-medium",children:m?.text_color})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-12 h-12 rounded border-2 border-gray-300",style:{backgroundColor:m?.accent_color}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Accent"}),e.jsx("p",{className:"text-sm font-medium",children:m?.accent_color})]})]})]})]})]})]})]}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Promo Bar Settings"}),e.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),e.jsxs("form",{onSubmit:b,className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand Text (Desktop)"}),e.jsx("input",{type:"text",name:"brand_text",defaultValue:m?.brand_text,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand Text (Mobile)"}),e.jsx("input",{type:"text",name:"brand_text_mobile",defaultValue:m?.brand_text_mobile,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand Emoji"}),e.jsx("input",{type:"text",name:"brand_emoji",defaultValue:m?.brand_emoji,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-2xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"text",name:"phone_number",defaultValue:m?.phone_number,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Emoji"}),e.jsx("input",{type:"text",name:"phone_emoji",defaultValue:m?.phone_emoji,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-2xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CTA Button Text"}),e.jsx("input",{type:"text",name:"cta_text",defaultValue:m?.cta_text,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Announcement Texts (Rotating)"}),e.jsx("textarea",{name:"announcement_text",defaultValue:m?.announcement_text,rows:3,placeholder:`Enter announcements separated by | (pipe). Example:
 Free Delivery on Orders Over KES 5,000| Flash Sale Today - 50% Off| New Arrivals Every Week`,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent font-mono text-sm",required:!0}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" Separate multiple announcements with ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"|"})," (pipe). They will rotate with sliding animation every 4 seconds."]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CTA Button Link"}),e.jsx("input",{type:"text",name:"cta_link",defaultValue:m?.cta_link,placeholder:"/browse",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"color",name:"background_color",defaultValue:m?.background_color,className:"h-12 w-20 rounded border border-gray-300"}),e.jsx("input",{type:"text",defaultValue:m?.background_color,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",readOnly:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"color",name:"text_color",defaultValue:m?.text_color,className:"h-12 w-20 rounded border border-gray-300"}),e.jsx("input",{type:"text",defaultValue:m?.text_color,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",readOnly:!0})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accent Color (Highlights & CTA Button)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"color",name:"accent_color",defaultValue:m?.accent_color,className:"h-12 w-20 rounded border border-gray-300"}),e.jsx("input",{type:"text",defaultValue:m?.accent_color,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",readOnly:!0})]})]})]}),e.jsxs("div",{className:"mt-8 flex gap-4 justify-end",children:[e.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-6 py-3 border border-gray-300 rounded-lg font-semibold text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:h.isPending,className:"px-6 py-3 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:h.isPending?"Saving...":"Save Changes"})]})]})]})})]})}function r2(){const[l,r]=C.useState(30),[i,c]=C.useState({status:"",payment_type:"",payment_method:"",search:""}),{data:u,isLoading:m}=ie({queryKey:["financial-analytics",l],queryFn:()=>Se.get(`/api/auctions/analytics/financial/?days=${l}`).then(f=>f.data)}),{data:x,isLoading:h}=ie({queryKey:["transactions",i],queryFn:()=>{const f=new URLSearchParams(i).toString();return Se.get(`/api/auctions/analytics/transactions/?${f}`).then(g=>g.data)}}),b=()=>{window.location.href="/api/auctions/analytics/transactions/export/"};return m?e.jsx(me,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rose-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading financial data..."})]})}):e.jsx(me,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-rose-600 to-orange-600 bg-clip-text text-transparent mb-2",children:"Financial Analytics"}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive revenue and transaction analysis"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Time Range:"}),e.jsxs("select",{value:l,onChange:f=>r(Number(f.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-rose-500",children:[e.jsx("option",{value:7,children:"Last 7 Days"}),e.jsx("option",{value:30,children:"Last 30 Days"}),e.jsx("option",{value:90,children:"Last 90 Days"}),e.jsx("option",{value:365,children:"Last Year"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-rose-500 to-orange-500 rounded-xl shadow-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-4xl",children:""}),e.jsxs("div",{className:"bg-white/20 px-3 py-1 rounded-full text-xs font-semibold",children:[l," Days"]})]}),e.jsx("p",{className:"text-sm opacity-90 mb-1",children:"Total Revenue"}),e.jsx("p",{className:"text-3xl font-extrabold",children:L(u?.overview?.total_revenue||0)})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-4xl",children:""}),e.jsx("div",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-semibold",children:"Transactions"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Transactions"}),e.jsx("p",{className:"text-3xl font-extrabold text-gray-900",children:u?.overview?.total_transactions||0})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-4xl",children:""}),e.jsx("div",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-semibold",children:"Average"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Avg Transaction"}),e.jsx("p",{className:"text-3xl font-extrabold text-gray-900",children:L(u?.overview?.average_transaction||0)})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-4xl",children:""}),e.jsxs("div",{className:"bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-xs font-semibold",children:[u?.overview?.pending_count||0," Pending"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pending Payments"}),e.jsx("p",{className:"text-3xl font-extrabold text-gray-900",children:L(u?.overview?.pending_amount||0)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-orange-50 rounded-xl shadow-lg border-2 border-rose-200 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-rose-500 to-orange-500 text-white rounded-full p-3 text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Auction Revenue"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Bidding & Auction Fees"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4 shadow-sm",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Auction Revenue"}),e.jsx("p",{className:"text-3xl font-extrabold bg-gradient-to-r from-rose-600 to-orange-600 bg-clip-text text-transparent",children:L((u?.revenue_breakdown?.participation_fees?.total||0)+(u?.revenue_breakdown?.final_pledges?.total||0))}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(u?.revenue_breakdown?.participation_fees?.count||0)+(u?.revenue_breakdown?.final_pledges?.count||0)," total transactions"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border-l-4 border-rose-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Participation Fees"}),e.jsxs("span",{className:"bg-rose-100 text-rose-700 px-2 py-1 rounded text-xs font-bold",children:[u?.revenue_breakdown?.participation_fees?.count||0," txns"]})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L(u?.revenue_breakdown?.participation_fees?.total||0)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Registration fees to join auctions"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border-l-4 border-orange-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Final Pledges"}),e.jsxs("span",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded text-xs font-bold",children:[u?.revenue_breakdown?.final_pledges?.count||0," txns"]})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L(u?.revenue_breakdown?.final_pledges?.total||0)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Winning bid payments"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl shadow-lg border-2 border-blue-200 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-500 text-white rounded-full p-3 text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Buy Now Revenue"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Direct Sales & Orders"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4 shadow-sm",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Buy Now Revenue"}),e.jsx("p",{className:"text-3xl font-extrabold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:L(u?.revenue_breakdown?.buy_now_orders?.total||0)}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[u?.revenue_breakdown?.buy_now_orders?.count||0," total orders"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border-l-4 border-blue-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Direct Sales"}),e.jsxs("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs font-bold",children:[u?.revenue_breakdown?.buy_now_orders?.count||0," orders"]})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L(u?.revenue_breakdown?.buy_now_orders?.total||0)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Instant purchase transactions"}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Average Order Value"}),e.jsx("p",{className:"text-lg font-bold text-blue-600",children:L(u?.revenue_breakdown?.buy_now_orders?.count>0?(u?.revenue_breakdown?.buy_now_orders?.total||0)/u?.revenue_breakdown?.buy_now_orders?.count:0)})]})]}),(!u?.revenue_breakdown?.buy_now_orders?.total||u?.revenue_breakdown?.buy_now_orders?.total===0)&&e.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:e.jsx("p",{className:"text-sm text-blue-700",children:"No buy now sales yet. Promote your products!"})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Top Performing Auctions"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Auction"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase",children:"Participants"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase",children:"Revenue"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:u?.top_auctions?.map((f,g)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:f.auction__title}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600",children:f.participants}),e.jsx("td",{className:"px-4 py-3 text-sm text-right font-semibold text-rose-600",children:L(f.revenue)})]},g))})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Recent Transactions"})]}),e.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-rose-500 to-orange-500 text-white rounded-lg font-semibold hover:from-rose-600 hover:to-orange-600 transition shadow-md",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{children:"Export CSV"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("input",{type:"text",placeholder:"Search transaction...",value:i.search,onChange:f=>c({...i,search:f.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-rose-500"}),e.jsxs("select",{value:i.status,onChange:f=>c({...i,status:f.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-rose-500",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"failed",children:"Failed"}),e.jsx("option",{value:"refunded",children:"Refunded"})]}),e.jsxs("select",{value:i.payment_type,onChange:f=>c({...i,payment_type:f.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-rose-500",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"participation",children:"Participation Fee"}),e.jsx("option",{value:"final_pledge",children:"Final Pledge"}),e.jsx("option",{value:"order",children:"Buy Now Order"})]}),e.jsxs("select",{value:i.payment_method,onChange:f=>c({...i,payment_method:f.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-rose-500",children:[e.jsx("option",{value:"",children:"All Methods"}),e.jsx("option",{value:"mpesa",children:"M-Pesa"}),e.jsx("option",{value:"stripe",children:"Stripe"}),e.jsx("option",{value:"paypal",children:"PayPal"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Transaction ID"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Auction"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase",children:"Amount"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Date"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:h?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-4 py-8 text-center text-gray-500",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-600 mx-auto"})})}):x?.results?.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-4 py-8 text-center text-gray-500",children:"No transactions found"})}):x?.results?.map(f=>e.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[e.jsxs("td",{className:"px-4 py-3 text-sm font-mono text-gray-600",children:[f.transaction_id?.substring(0,12),"..."]}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:f.user?.username}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:f.auction?.title||"N/A"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${f.payment_type==="participation"?"bg-rose-100 text-rose-700":"bg-orange-100 text-orange-700"}`,children:f.payment_type})}),e.jsx("td",{className:"px-4 py-3 text-sm text-right font-semibold text-gray-900",children:L(f.amount)}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${f.status==="completed"?"bg-green-100 text-green-700":f.status==="pending"?"bg-yellow-100 text-yellow-700":f.status==="failed"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:f.status})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(f.created_at).toLocaleDateString()})]},f.id))})]})}),x&&x.total_pages>1&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("p",{children:["Showing ",x.results?.length," of ",x.count," transactions"]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("span",{className:"text-gray-500",children:["Page ",x.page," of ",x.total_pages]})})]})]})]})})}function i2(){const l=It(),[r]=Vy(),i=r.get("order_id"),[c,u]=C.useState(0),{data:m,isLoading:x}=ie({queryKey:["payment-status",i],queryFn:()=>U0.checkOrderPaymentStatus(i),enabled:!!i,refetchInterval:g=>{if(!g||c>=40)return!1;const y=g?.data?.payment_status;return y==="completed"||y==="failed"||y==="cancelled"?!1:3e3},onSuccess:g=>{u(N=>N+1),g?.data?.payment_status==="completed"&&setTimeout(()=>{l("/profile?tab=orders")},2e3)}});C.useEffect(()=>{i||l("/")},[i,l]);const h=m?.data?.payment_status;m?.data?.order_status;const b=m?.data?.total_amount,f=m?.data?.message;return x&&!h?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading payment status..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[h==="pending"&&e.jsxs("div",{className:"inline-block",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-orange-600 mx-auto mb-4"}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-orange-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-orange-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}),h==="completed"&&e.jsx("div",{className:"inline-block",children:e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})}),(h==="failed"||h==="cancelled")&&e.jsx("div",{className:"inline-block",children:e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})})]}),e.jsxs("div",{className:"text-center mb-6",children:[h==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Processing"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Please check your phone for the M-Pesa prompt and enter your PIN to complete the payment."}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left",children:[e.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:"What to do next:"}),e.jsxs("ol",{className:"text-sm text-blue-800 list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"Check your phone for the M-Pesa STK push notification"}),e.jsx("li",{children:"Enter your M-Pesa PIN to authorize the payment"}),e.jsx("li",{children:"Wait for confirmation (this page will update automatically)"})]})]}),b&&e.jsxs("div",{className:"mt-4 text-lg",children:[e.jsx("span",{className:"text-gray-600",children:"Amount: "}),e.jsx("span",{className:"font-bold text-orange-600",children:L(b)})]})]}),h==="completed"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-2",children:"Payment Successful!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Your payment has been received and your order is being processed."}),b&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"text-lg",children:[e.jsx("span",{className:"text-gray-600",children:"Amount Paid: "}),e.jsx("span",{className:"font-bold text-green-600",children:L(b)})]})}),e.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to your orders..."})]}),(h==="failed"||h==="cancelled")&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-2",children:"Payment Failed"}),e.jsx("p",{className:"text-gray-600 mb-4",children:f||"The payment could not be completed."}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-sm text-red-800",children:h==="cancelled"?"You cancelled the M-Pesa payment prompt.":"The payment was not successful. Please try again."})})]})]}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[h==="pending"&&e.jsx("button",{onClick:()=>l("/profile"),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition",children:"Continue Shopping"}),(h==="failed"||h==="cancelled")&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>l("/checkout"),className:"px-6 py-3 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition",children:"Try Again"}),e.jsx("button",{onClick:()=>l("/profile"),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition",children:"View Orders"})]}),h==="completed"&&e.jsx("button",{onClick:()=>l("/profile?tab=orders"),className:"px-6 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition",children:"View My Orders"})]}),h==="pending"&&e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["Checking payment status... (",c," checks)"]})})]})})})}function c2(){const l=Tt(),[r,i]=C.useState("all"),[c,u]=C.useState("all"),[m,x]=C.useState(""),[h,b]=C.useState(null),{data:f,isLoading:g,refetch:y}=ie({queryKey:["admin-orders",r,c],queryFn:async()=>{const v=await ee.get("/orders/");return v.data?.results||v.data||[]}}),N=Ge({mutationFn:({orderId:v,status:S})=>ee.patch(`/orders/${v}/`,{status:S}),onSuccess:()=>{l.invalidateQueries(["admin-orders"])}}),O=f?.filter(v=>{const S=r==="all"||v.status===r,M=c==="all"||v.payment_status===c,F=!m||v.order_number?.toLowerCase().includes(m.toLowerCase())||v.user?.username?.toLowerCase().includes(m.toLowerCase())||v.user?.email?.toLowerCase().includes(m.toLowerCase())||v.shipping_name?.toLowerCase().includes(m.toLowerCase())||v.shipping_phone?.includes(m);return S&&M&&F})||[],w={total:f?.length||0,pending:f?.filter(v=>v.status==="pending").length||0,processing:f?.filter(v=>v.status==="processing").length||0,shipped:f?.filter(v=>v.status==="shipped").length||0,delivered:f?.filter(v=>v.status==="delivered").length||0,totalRevenue:f?.filter(v=>v.payment_status==="paid").reduce((v,S)=>v+parseFloat(S.total_amount||0),0)||0,paidOrders:f?.filter(v=>v.payment_status==="paid").length||0,pendingPayment:f?.filter(v=>v.payment_status==="pending_payment").length||0},_=(v,S)=>{confirm(`Update order status to "${S}"?`)&&N.mutate({orderId:v,status:S})};return g?e.jsx(me,{children:e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]})})}):e.jsx(me,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Order Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage all orders and payments"})]}),e.jsx("button",{onClick:()=>y(),className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition",children:"Refresh"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.total})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-lg shadow-sm p-4",children:[e.jsx("p",{className:"text-sm text-yellow-600 mb-1",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:w.pending})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg shadow-sm p-4",children:[e.jsx("p",{className:"text-sm text-blue-600 mb-1",children:"Processing"}),e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:w.processing})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg shadow-sm p-4",children:[e.jsx("p",{className:"text-sm text-purple-600 mb-1",children:"Shipped"}),e.jsx("p",{className:"text-2xl font-bold text-purple-700",children:w.shipped})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg shadow-sm p-4",children:[e.jsx("p",{className:"text-sm text-green-600 mb-1",children:"Delivered"}),e.jsx("p",{className:"text-2xl font-bold text-green-700",children:w.delivered})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg shadow-sm p-4",children:[e.jsx("p",{className:"text-sm text-orange-600 mb-1",children:"Total Revenue"}),e.jsx("p",{className:"text-xl font-bold text-orange-700",children:L(w.totalRevenue)})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-green-50 rounded-lg shadow-sm p-4",children:[e.jsx("p",{className:"text-sm text-green-600 mb-1",children:"Paid Orders"}),e.jsx("p",{className:"text-2xl font-bold text-green-700",children:w.paidOrders})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-lg shadow-sm p-4",children:[e.jsx("p",{className:"text-sm text-yellow-600 mb-1",children:"Pending Payment"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:w.pendingPayment})]}),e.jsxs("div",{className:"bg-red-50 rounded-lg shadow-sm p-4",children:[e.jsx("p",{className:"text-sm text-red-600 mb-1",children:"Failed Payment"}),e.jsx("p",{className:"text-2xl font-bold text-red-700",children:f?.filter(v=>v.payment_status==="failed").length||0})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Order Status"}),e.jsxs("select",{value:r,onChange:v=>i(v.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"shipped",children:"Shipped"}),e.jsx("option",{value:"delivered",children:"Delivered"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Payment Status"}),e.jsxs("select",{value:c,onChange:v=>u(v.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"all",children:"All Payments"}),e.jsx("option",{value:"pending_payment",children:"Pending Payment"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"failed",children:"Failed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search"}),e.jsx("input",{type:"text",value:m,onChange:v=>x(v.target.value),placeholder:"Order #, Customer, Phone...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:O.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("p",{className:"text-gray-500 mb-2",children:"No orders found"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Try adjusting your filters"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Order #"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Customer"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Items"}),e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-gray-700",children:"Amount"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700",children:"Payment"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700",children:"Order Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Date"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:O.map(v=>{const S=h===v.id,M=v.items?.reduce((F,z)=>F+z.quantity,0)||0;return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("button",{onClick:()=>b(S?null:v.id),className:"font-semibold text-blue-600 hover:underline flex items-center gap-2",children:[e.jsx("span",{children:S?"":""}),v.order_number]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:v.shipping_name||v.user?.username}),e.jsx("p",{className:"text-xs text-gray-500",children:v.user?.email}),e.jsx("p",{className:"text-xs text-gray-500",children:v.shipping_phone})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-700",children:v.items?.length>1?`${v.items.length} items`:v.items?.[0]?.product_title||"Product"}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",M]})]})}),e.jsx("td",{className:"py-4 px-4 text-right",children:e.jsx("span",{className:"font-bold text-lg text-gray-900",children:L(v.total_amount)})}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${v.payment_status==="paid"?"bg-green-100 text-green-700":v.payment_status==="pending_payment"?"bg-yellow-100 text-yellow-700":v.payment_status==="failed"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:v.payment_status?.replace("_"," ")||"pending"})}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsxs("select",{value:v.status,onChange:F=>_(v.id,F.target.value),className:`px-3 py-1 rounded-full text-xs font-semibold border-0 ${v.status==="delivered"?"bg-green-100 text-green-700":v.status==="shipped"?"bg-purple-100 text-purple-700":v.status==="processing"?"bg-blue-100 text-blue-700":v.status==="cancelled"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"shipped",children:"Shipped"}),e.jsx("option",{value:"delivered",children:"Delivered"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-700",children:new Date(v.created_at).toLocaleDateString()}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(v.created_at).toLocaleTimeString()})]})}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsx(X,{to:`/management/orders/${v.id}`,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Details"})})]},v.id),S&&e.jsx("tr",{className:"bg-gray-50 border-b border-gray-200",children:e.jsx("td",{colSpan:"8",className:"py-4 px-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Order Items"}),e.jsx("div",{className:"space-y-2",children:v.items?.map(F=>e.jsxs("div",{className:"flex justify-between items-start bg-white p-3 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:F.product_title}),e.jsxs("p",{className:"text-sm text-gray-600",children:[L(F.product_price),"  ",F.quantity]})]}),e.jsx("p",{className:"font-semibold text-gray-900",children:L(F.total_price)})]},F.id))}),e.jsxs("div",{className:"mt-4 bg-white p-3 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),e.jsx("span",{className:"font-medium",children:L(v.subtotal)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Shipping:"}),e.jsx("span",{className:"font-medium",children:L(v.shipping_fee)})]}),e.jsxs("div",{className:"flex justify-between font-bold border-t pt-2",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{className:"text-orange-600",children:L(v.total_amount)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Shipping Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Name:"}),e.jsx("span",{className:"ml-2 text-gray-900",children:v.shipping_name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Address:"}),e.jsx("span",{className:"ml-2 text-gray-900",children:v.shipping_address})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"City:"}),e.jsx("span",{className:"ml-2 text-gray-900",children:v.shipping_city})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Phone:"}),e.jsx("span",{className:"ml-2 text-gray-900",children:v.shipping_phone})]}),v.customer_notes&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Notes:"}),e.jsx("p",{className:"text-gray-900 mt-1",children:v.customer_notes})]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Payment Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Method:"}),e.jsx("span",{className:"ml-2 text-gray-900",children:v.payment_method||"M-Pesa"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx("span",{className:"ml-2 font-medium",children:e.jsx("span",{className:`px-2 py-1 rounded ${v.payment_status==="paid"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:v.payment_status?.replace("_"," ")||"pending"})})]}),v.mpesa_receipt_number&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"M-Pesa Receipt:"}),e.jsx("span",{className:"ml-2 text-gray-900 font-mono text-xs",children:v.mpesa_receipt_number})]}),v.paid_at&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Paid At:"}),e.jsx("span",{className:"ml-2 text-gray-900",children:new Date(v.paid_at).toLocaleString()})]})]})]})]})]})})})]})})})]})})}),e.jsxs("div",{className:"mt-4 text-center text-sm text-gray-600",children:["Showing ",O.length," of ",w.total," orders"]})]})})}const o2=new Nj({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});function d2(){return e.jsx(wj,{client:o2,children:e.jsx(dN,{children:e.jsx($y,{children:e.jsx(xN,{children:e.jsxs(yy,{children:[e.jsx(we,{path:"/",element:e.jsx(g1,{})}),e.jsx(we,{path:"/login",element:e.jsx(b1,{})}),e.jsx(we,{path:"/signup",element:e.jsx(y1,{})}),e.jsx(we,{path:"/product/:id",element:e.jsx(j1,{})}),e.jsx(we,{path:"/auction/:id",element:e.jsx(R1,{})}),e.jsx(we,{path:"/browse",element:e.jsx(O1,{})}),e.jsx(we,{path:"/category/:categorySlug",element:e.jsx(M1,{})}),e.jsx(we,{path:"/cart",element:e.jsx(D1,{})}),e.jsx(we,{path:"/checkout",element:e.jsx(k1,{})}),e.jsx(we,{path:"/payment-status",element:e.jsx(i2,{})}),e.jsx(we,{path:"/profile",element:e.jsx(z1,{})}),e.jsx(we,{path:"/dashboard",element:e.jsx(at,{children:e.jsx(l2,{})})}),e.jsx(we,{path:"/categories",element:e.jsx(J1,{})}),e.jsx(we,{path:"/buy-now",element:e.jsx(I1,{})}),e.jsx(we,{path:"/management",element:e.jsx(at,{requireSuperuser:!0,children:e.jsx(U1,{})})}),e.jsx(we,{path:"/management/products/new",element:e.jsx(at,{requireSuperuser:!0,children:e.jsx(L1,{})})}),e.jsx(we,{path:"/management/products",element:e.jsx(at,{requireSuperuser:!0,children:e.jsx(q1,{})})}),e.jsx(we,{path:"/management/products/:id/edit",element:e.jsx(at,{requireSuperuser:!0,children:e.jsx(Q1,{})})}),e.jsx(we,{path:"/management/products/:id",element:e.jsx(at,{requireSuperuser:!0,children:e.jsx($1,{})})}),e.jsx(we,{path:"/management/auctions/:id/participants",element:e.jsx(at,{requireSuperuser:!0,children:e.jsx(Y1,{})})}),e.jsx(we,{path:"/management/auctions/:id/bids",element:e.jsx(at,{requireSuperuser:!0,children:e.jsx(K1,{})})}),e.jsx(we,{path:"/management/products/:id/buyers",element:e.jsx(at,{requireSuperuser:!0,children:e.jsx(V1,{})})}),e.jsx(we,{path:"/management/orders",element:e.jsx(at,{requireSuperuser:!0,children:e.jsx(c2,{})})}),e.jsx(we,{path:"/management/orders/:id",element:e.jsx(at,{requireSuperuser:!0,children:e.jsx(G1,{})})}),e.jsx(we,{path:"/management/categories",element:e.jsx(at,{requireSuperuser:!0,children:e.jsx(X1,{})})}),e.jsx(we,{path:"/management/category/:id",element:e.jsx(at,{requireSuperuser:!0,children:e.jsx(W1,{})})}),e.jsx(we,{path:"/management/users",element:e.jsx(at,{requireSuperuser:!0,children:e.jsx(Z1,{})})}),e.jsx(we,{path:"/management/promobar",element:e.jsx(at,{requireSuperuser:!0,children:e.jsx(n2,{})})}),e.jsx(we,{path:"/management/analytics/financial",element:e.jsx(at,{requireSuperuser:!0,children:e.jsx(r2,{})})}),e.jsx(we,{path:"/management/products/:id/create-next-round",element:e.jsx(e2,{})}),e.jsx(we,{path:"/management/auctions/:productId/round/:roundId/bids",element:e.jsx(at,{requireSuperuser:!0,children:e.jsx(t2,{})})}),e.jsx(we,{path:"/management/auctions/:productId/rounds",element:e.jsx(at,{requireSuperuser:!0,children:e.jsx(P1,{})})}),e.jsx(we,{path:"/management/products/:productId/rounds/:roundId",element:e.jsx(at,{requireSuperuser:!0,children:e.jsx(s2,{})})}),e.jsx(we,{path:"/management/products/:productId/winner",element:e.jsx(at,{requireSuperuser:!0,children:e.jsx(a2,{})})}),e.jsx(we,{path:"*",element:e.jsx(B1,{})})]})})})})})}Tb.createRoot(document.getElementById("root")).render(e.jsxs(vb.StrictMode,{children:[e.jsx(d2,{}),e.jsx(Y0,{position:"top-right"})]}));
